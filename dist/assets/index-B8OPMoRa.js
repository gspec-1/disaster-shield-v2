function Fv(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function FE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var zv={exports:{}},rd={},Bv={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),UE=Symbol.for("react.portal"),zE=Symbol.for("react.fragment"),BE=Symbol.for("react.strict_mode"),WE=Symbol.for("react.profiler"),VE=Symbol.for("react.provider"),qE=Symbol.for("react.context"),HE=Symbol.for("react.forward_ref"),KE=Symbol.for("react.suspense"),GE=Symbol.for("react.memo"),YE=Symbol.for("react.lazy"),Ax=Symbol.iterator;function JE(e){return e===null||typeof e!="object"?null:(e=Ax&&e[Ax]||e["@@iterator"],typeof e=="function"?e:null)}var Wv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vv=Object.assign,qv={};function Ii(e,t,r){this.props=e,this.context=t,this.refs=qv,this.updater=r||Wv}Ii.prototype.isReactComponent={};Ii.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hv(){}Hv.prototype=Ii.prototype;function fm(e,t,r){this.props=e,this.context=t,this.refs=qv,this.updater=r||Wv}var pm=fm.prototype=new Hv;pm.constructor=fm;Vv(pm,Ii.prototype);pm.isPureReactComponent=!0;var Ix=Array.isArray,Kv=Object.prototype.hasOwnProperty,mm={current:null},Gv={key:!0,ref:!0,__self:!0,__source:!0};function Yv(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Kv.call(t,n)&&!Gv.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Nl,type:e,key:i,ref:o,props:s,_owner:mm.current}}function XE(e,t){return{$$typeof:Nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nl}function ZE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Dx=/\/+/g;function Qd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZE(""+e.key):t.toString(36)}function Ec(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nl:case UE:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Qd(o,0):n,Ix(s)?(r="",e!=null&&(r=e.replace(Dx,"$&/")+"/"),Ec(s,t,r,"",function(u){return u})):s!=null&&(gm(s)&&(s=XE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dx,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Ix(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Qd(i,l);o+=Ec(i,t,r,c,s)}else if(c=JE(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Qd(i,l++),o+=Ec(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bl(e,t,r){if(e==null)return e;var n=[],s=0;return Ec(e,n,"","",function(i){return t.call(r,i,s++)}),n}function QE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},Cc={transition:null},e2={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:Cc,ReactCurrentOwner:mm};Oe.Children={map:Bl,forEach:function(e,t,r){Bl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bl(e,function(){t++}),t},toArray:function(e){return Bl(e,function(t){return t})||[]},only:function(e){if(!gm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=Ii;Oe.Fragment=zE;Oe.Profiler=WE;Oe.PureComponent=fm;Oe.StrictMode=BE;Oe.Suspense=KE;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e2;Oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Vv({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=mm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Kv.call(t,c)&&!Gv.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Nl,type:e.type,key:s,ref:i,props:n,_owner:o}};Oe.createContext=function(e){return e={$$typeof:qE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VE,_context:e},e.Consumer=e};Oe.createElement=Yv;Oe.createFactory=function(e){var t=Yv.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:HE,render:e}};Oe.isValidElement=gm;Oe.lazy=function(e){return{$$typeof:YE,_payload:{_status:-1,_result:e},_init:QE}};Oe.memo=function(e,t){return{$$typeof:GE,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=Cc.transition;Cc.transition={};try{e()}finally{Cc.transition=t}};Oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oe.useCallback=function(e,t){return zt.current.useCallback(e,t)};Oe.useContext=function(e){return zt.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return zt.current.useEffect(e,t)};Oe.useId=function(){return zt.current.useId()};Oe.useImperativeHandle=function(e,t,r){return zt.current.useImperativeHandle(e,t,r)};Oe.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return zt.current.useMemo(e,t)};Oe.useReducer=function(e,t,r){return zt.current.useReducer(e,t,r)};Oe.useRef=function(e){return zt.current.useRef(e)};Oe.useState=function(e){return zt.current.useState(e)};Oe.useSyncExternalStore=function(e,t,r){return zt.current.useSyncExternalStore(e,t,r)};Oe.useTransition=function(){return zt.current.useTransition()};Oe.version="18.2.0";Bv.exports=Oe;var x=Bv.exports;const G=Uv(x),xm=Fv({__proto__:null,default:G},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2=x,r2=Symbol.for("react.element"),n2=Symbol.for("react.fragment"),s2=Object.prototype.hasOwnProperty,a2=t2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i2={key:!0,ref:!0,__self:!0,__source:!0};function Jv(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)s2.call(t,n)&&!i2.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:r2,type:e,key:i,ref:o,props:s,_owner:a2.current}}rd.Fragment=n2;rd.jsx=Jv;rd.jsxs=Jv;zv.exports=rd;var a=zv.exports,bf={},Xv={exports:{}},br={},Zv={exports:{}},Qv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var B=C.length;C.push(P);e:for(;0<B;){var ee=B-1>>>1,Z=C[ee];if(0<s(Z,P))C[ee]=P,C[B]=Z,B=ee;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var P=C[0],B=C.pop();if(B!==P){C[0]=B;e:for(var ee=0,Z=C.length,he=Z>>>1;ee<he;){var ne=2*(ee+1)-1,ye=C[ne],H=ne+1,L=C[H];if(0>s(ye,B))H<Z&&0>s(L,ye)?(C[ee]=L,C[H]=B,ee=H):(C[ee]=ye,C[ne]=B,ee=ne);else if(H<Z&&0>s(L,B))C[ee]=L,C[H]=B,ee=H;else break e}}return P}function s(C,P){var B=C.sortIndex-P.sortIndex;return B!==0?B:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,w=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(C){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=C)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function j(C){if(y=!1,v(C),!w)if(r(c)!==null)w=!0,$(E);else{var P=r(u);P!==null&&D(j,P.startTime-C)}}function E(C,P){w=!1,y&&(y=!1,f(S),S=-1),m=!0;var B=p;try{for(v(P),h=r(c);h!==null&&(!(h.expirationTime>P)||C&&!R());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var Z=ee(h.expirationTime<=P);P=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===r(c)&&n(c),v(P)}else n(c);h=r(c)}if(h!==null)var he=!0;else{var ne=r(u);ne!==null&&D(j,ne.startTime-P),he=!1}return he}finally{h=null,p=B,m=!1}}var N=!1,k=null,S=-1,A=5,b=-1;function R(){return!(e.unstable_now()-b<A)}function T(){if(k!==null){var C=e.unstable_now();b=C;var P=!0;try{P=k(!0,C)}finally{P?U():(N=!1,k=null)}}else N=!1}var U;if(typeof g=="function")U=function(){g(T)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,I=M.port2;M.port1.onmessage=T,U=function(){I.postMessage(null)}}else U=function(){_(T,0)};function $(C){k=C,N||(N=!0,U())}function D(C,P){S=_(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,$(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var B=p;p=P;try{return C()}finally{p=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var B=p;p=C;try{return P()}finally{p=B}},e.unstable_scheduleCallback=function(C,P,B){var ee=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,C){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=B+Z,C={id:d++,callback:P,priorityLevel:C,startTime:B,expirationTime:Z,sortIndex:-1},B>ee?(C.sortIndex=B,t(u,C),r(c)===null&&C===r(u)&&(y?(f(S),S=-1):y=!0,D(j,B-ee))):(C.sortIndex=Z,t(c,C),w||m||(w=!0,$(E))),C},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(C){var P=p;return function(){var B=p;p=P;try{return C.apply(this,arguments)}finally{p=B}}}})(Qv);Zv.exports=Qv;var o2=Zv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew=x,yr=o2;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tw=new Set,Bo={};function ja(e,t){xi(e,t),xi(e+"Capture",t)}function xi(e,t){for(Bo[e]=t,e=0;e<t.length;e++)tw.add(t[e])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=Object.prototype.hasOwnProperty,l2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$x={},Mx={};function c2(e){return jf.call(Mx,e)?!0:jf.call($x,e)?!1:l2.test(e)?Mx[e]=!0:($x[e]=!0,!1)}function u2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d2(e,t,r,n){if(t===null||typeof t>"u"||u2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function ym(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,ym);Nt[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,ym);Nt[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,ym);Nt[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vm(e,t,r,n){var s=Nt.hasOwnProperty(t)?Nt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d2(t,r,s,n)&&(r=null),n||s===null?c2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vn=ew.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Ya=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),rw=Symbol.for("react.provider"),nw=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),sw=Symbol.for("react.offscreen"),Lx=Symbol.iterator;function Qi(e){return e===null||typeof e!="object"?null:(e=Lx&&e[Lx]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,eh;function go(e){if(eh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);eh=t&&t[1]||""}return`
`+eh+e}var th=!1;function rh(e,t){if(!e||th)return"";th=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{th=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?go(e):""}function h2(e){switch(e.tag){case 5:return go(e.type);case 16:return go("Lazy");case 13:return go("Suspense");case 19:return go("SuspenseList");case 0:case 2:case 15:return e=rh(e.type,!1),e;case 11:return e=rh(e.type.render,!1),e;case 1:return e=rh(e.type,!0),e;default:return""}}function Ef(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ya:return"Fragment";case Ga:return"Portal";case Nf:return"Profiler";case wm:return"StrictMode";case Sf:return"Suspense";case kf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nw:return(e.displayName||"Context")+".Consumer";case rw:return(e._context.displayName||"Context")+".Provider";case bm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jm:return t=e.displayName||null,t!==null?t:Ef(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return Ef(e(t))}catch{}}return null}function f2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ef(t);case 8:return t===wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p2(e){var t=aw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vl(e){e._valueTracker||(e._valueTracker=p2(e))}function iw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=aw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cf(e,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ts(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ow(e,t){t=t.checked,t!=null&&vm(e,"checked",t,!1)}function Tf(e,t){ow(e,t);var r=Ts(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Pf(e,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ux(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Pf(e,t,r){(t!=="number"||Qc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xo=Array.isArray;function oi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ts(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Rf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(xo(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ts(r)}}function lw(e,t){var r=Ts(t.value),n=Ts(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Bx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Of(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ql,uw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m2=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(e){m2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Co[t]=Co[e]})});function dw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Co.hasOwnProperty(e)&&Co[e]?(""+t).trim():t+"px"}function hw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=dw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var g2=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Af(e,t){if(t){if(g2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function If(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=null;function Nm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $f=null,li=null,ci=null;function Wx(e){if(e=El(e)){if(typeof $f!="function")throw Error(q(280));var t=e.stateNode;t&&(t=od(t),$f(e.stateNode,e.type,t))}}function fw(e){li?ci?ci.push(e):ci=[e]:li=e}function pw(){if(li){var e=li,t=ci;if(ci=li=null,Wx(e),t)for(e=0;e<t.length;e++)Wx(t[e])}}function mw(e,t){return e(t)}function gw(){}var nh=!1;function xw(e,t,r){if(nh)return e(t,r);nh=!0;try{return mw(e,t,r)}finally{nh=!1,(li!==null||ci!==null)&&(gw(),pw())}}function Vo(e,t){var r=e.stateNode;if(r===null)return null;var n=od(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var Mf=!1;if($n)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{Mf=!1}function x2(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var To=!1,eu=null,tu=!1,Lf=null,_2={onError:function(e){To=!0,eu=e}};function y2(e,t,r,n,s,i,o,l,c){To=!1,eu=null,x2.apply(_2,arguments)}function v2(e,t,r,n,s,i,o,l,c){if(y2.apply(this,arguments),To){if(To){var u=eu;To=!1,eu=null}else throw Error(q(198));tu||(tu=!0,Lf=u)}}function Na(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vx(e){if(Na(e)!==e)throw Error(q(188))}function w2(e){var t=e.alternate;if(!t){if(t=Na(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Vx(s),e;if(i===n)return Vx(s),t;i=i.sibling}throw Error(q(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function yw(e){return e=w2(e),e!==null?vw(e):null}function vw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vw(e);if(t!==null)return t;e=e.sibling}return null}var ww=yr.unstable_scheduleCallback,qx=yr.unstable_cancelCallback,b2=yr.unstable_shouldYield,j2=yr.unstable_requestPaint,lt=yr.unstable_now,N2=yr.unstable_getCurrentPriorityLevel,Sm=yr.unstable_ImmediatePriority,bw=yr.unstable_UserBlockingPriority,ru=yr.unstable_NormalPriority,S2=yr.unstable_LowPriority,jw=yr.unstable_IdlePriority,nd=null,gn=null;function k2(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(nd,e,void 0,(e.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:T2,E2=Math.log,C2=Math.LN2;function T2(e){return e>>>=0,e===0?32:31-(E2(e)/C2|0)|0}var Hl=64,Kl=4194304;function _o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=_o(l):(i&=o,i!==0&&(n=_o(i)))}else o=r&~s,o!==0?n=_o(o):i!==0&&(n=_o(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zr(t),s=1<<r,n|=e[r],t&=~s;return n}function P2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Zr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=P2(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ff(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nw(){var e=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),e}function sh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Sl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zr(t),e[t]=r}function O2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Zr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function km(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Be=0;function Sw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kw,Em,Ew,Cw,Tw,Uf=!1,Gl=[],_s=null,ys=null,vs=null,qo=new Map,Ho=new Map,cs=[],A2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hx(e,t){switch(e){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(t.pointerId)}}function to(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=El(t),t!==null&&Em(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function I2(e,t,r,n,s){switch(t){case"focusin":return _s=to(_s,e,t,r,n,s),!0;case"dragenter":return ys=to(ys,e,t,r,n,s),!0;case"mouseover":return vs=to(vs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return qo.set(i,to(qo.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ho.set(i,to(Ho.get(i)||null,e,t,r,n,s)),!0}return!1}function Pw(e){var t=na(e.target);if(t!==null){var r=Na(t);if(r!==null){if(t=r.tag,t===13){if(t=_w(r),t!==null){e.blockedOn=t,Tw(e.priority,function(){Ew(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Df=n,r.target.dispatchEvent(n),Df=null}else return t=El(r),t!==null&&Em(t),e.blockedOn=r,!1;t.shift()}return!0}function Kx(e,t,r){Tc(e)&&r.delete(t)}function D2(){Uf=!1,_s!==null&&Tc(_s)&&(_s=null),ys!==null&&Tc(ys)&&(ys=null),vs!==null&&Tc(vs)&&(vs=null),qo.forEach(Kx),Ho.forEach(Kx)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,Uf||(Uf=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,D2)))}function Ko(e){function t(s){return ro(s,e)}if(0<Gl.length){ro(Gl[0],e);for(var r=1;r<Gl.length;r++){var n=Gl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(_s!==null&&ro(_s,e),ys!==null&&ro(ys,e),vs!==null&&ro(vs,e),qo.forEach(t),Ho.forEach(t),r=0;r<cs.length;r++)n=cs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cs.length&&(r=cs[0],r.blockedOn===null);)Pw(r),r.blockedOn===null&&cs.shift()}var ui=Vn.ReactCurrentBatchConfig,su=!0;function $2(e,t,r,n){var s=Be,i=ui.transition;ui.transition=null;try{Be=1,Cm(e,t,r,n)}finally{Be=s,ui.transition=i}}function M2(e,t,r,n){var s=Be,i=ui.transition;ui.transition=null;try{Be=4,Cm(e,t,r,n)}finally{Be=s,ui.transition=i}}function Cm(e,t,r,n){if(su){var s=zf(e,t,r,n);if(s===null)ph(e,t,n,au,r),Hx(e,n);else if(I2(s,e,t,r,n))n.stopPropagation();else if(Hx(e,n),t&4&&-1<A2.indexOf(e)){for(;s!==null;){var i=El(s);if(i!==null&&kw(i),i=zf(e,t,r,n),i===null&&ph(e,t,n,au,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ph(e,t,n,null,r)}}var au=null;function zf(e,t,r,n){if(au=null,e=Nm(n),e=na(e),e!==null)if(t=Na(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_w(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return au=e,null}function Rw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N2()){case Sm:return 1;case bw:return 4;case ru:case S2:return 16;case jw:return 536870912;default:return 16}default:return 16}}var hs=null,Tm=null,Pc=null;function Ow(){if(Pc)return Pc;var e,t=Tm,r=t.length,n,s="value"in hs?hs.value:hs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Pc=s.slice(e,1<n?1-n:void 0)}function Rc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Gx(){return!1}function jr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yl:Gx,this.isPropagationStopped=Gx,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pm=jr(Di),kl=st({},Di,{view:0,detail:0}),L2=jr(kl),ah,ih,no,sd=st({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==no&&(no&&e.type==="mousemove"?(ah=e.screenX-no.screenX,ih=e.screenY-no.screenY):ih=ah=0,no=e),ah)},movementY:function(e){return"movementY"in e?e.movementY:ih}}),Yx=jr(sd),F2=st({},sd,{dataTransfer:0}),U2=jr(F2),z2=st({},kl,{relatedTarget:0}),oh=jr(z2),B2=st({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),W2=jr(B2),V2=st({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),q2=jr(V2),H2=st({},Di,{data:0}),Jx=jr(H2),K2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Y2[e])?!!t[e]:!1}function Rm(){return J2}var X2=st({},kl,{key:function(e){if(e.key){var t=K2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?G2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rm,charCode:function(e){return e.type==="keypress"?Rc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Z2=jr(X2),Q2=st({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xx=jr(Q2),eC=st({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rm}),tC=jr(eC),rC=st({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),nC=jr(rC),sC=st({},sd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aC=jr(sC),iC=[9,13,27,32],Om=$n&&"CompositionEvent"in window,Po=null;$n&&"documentMode"in document&&(Po=document.documentMode);var oC=$n&&"TextEvent"in window&&!Po,Aw=$n&&(!Om||Po&&8<Po&&11>=Po),Zx=" ",Qx=!1;function Iw(e,t){switch(e){case"keyup":return iC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ja=!1;function lC(e,t){switch(e){case"compositionend":return Dw(t);case"keypress":return t.which!==32?null:(Qx=!0,Zx);case"textInput":return e=t.data,e===Zx&&Qx?null:e;default:return null}}function cC(e,t){if(Ja)return e==="compositionend"||!Om&&Iw(e,t)?(e=Ow(),Pc=Tm=hs=null,Ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Aw&&t.locale!=="ko"?null:t.data;default:return null}}var uC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uC[e.type]:t==="textarea"}function $w(e,t,r,n){fw(n),t=iu(t,"onChange"),0<t.length&&(r=new Pm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ro=null,Go=null;function dC(e){Kw(e,0)}function ad(e){var t=Qa(e);if(iw(t))return e}function hC(e,t){if(e==="change")return t}var Mw=!1;if($n){var lh;if($n){var ch="oninput"in document;if(!ch){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),ch=typeof t_.oninput=="function"}lh=ch}else lh=!1;Mw=lh&&(!document.documentMode||9<document.documentMode)}function r_(){Ro&&(Ro.detachEvent("onpropertychange",Lw),Go=Ro=null)}function Lw(e){if(e.propertyName==="value"&&ad(Go)){var t=[];$w(t,Go,e,Nm(e)),xw(dC,t)}}function fC(e,t,r){e==="focusin"?(r_(),Ro=t,Go=r,Ro.attachEvent("onpropertychange",Lw)):e==="focusout"&&r_()}function pC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ad(Go)}function mC(e,t){if(e==="click")return ad(t)}function gC(e,t){if(e==="input"||e==="change")return ad(t)}function xC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:xC;function Yo(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!jf.call(t,s)||!en(e[s],t[s]))return!1}return!0}function n_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s_(e,t){var r=n_(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=n_(r)}}function Fw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uw(){for(var e=window,t=Qc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qc(e.document)}return t}function Am(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _C(e){var t=Uw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fw(r.ownerDocument.documentElement,r)){if(n!==null&&Am(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=s_(r,i);var o=s_(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yC=$n&&"documentMode"in document&&11>=document.documentMode,Xa=null,Bf=null,Oo=null,Wf=!1;function a_(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wf||Xa==null||Xa!==Qc(n)||(n=Xa,"selectionStart"in n&&Am(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oo&&Yo(Oo,n)||(Oo=n,n=iu(Bf,"onSelect"),0<n.length&&(t=new Pm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xa)))}function Jl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Za={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},uh={},zw={};$n&&(zw=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function id(e){if(uh[e])return uh[e];if(!Za[e])return e;var t=Za[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zw)return uh[e]=t[r];return e}var Bw=id("animationend"),Ww=id("animationiteration"),Vw=id("animationstart"),qw=id("transitionend"),Hw=new Map,i_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){Hw.set(e,t),ja(t,[e])}for(var dh=0;dh<i_.length;dh++){var hh=i_[dh],vC=hh.toLowerCase(),wC=hh[0].toUpperCase()+hh.slice(1);Ms(vC,"on"+wC)}Ms(Bw,"onAnimationEnd");Ms(Ww,"onAnimationIteration");Ms(Vw,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(qw,"onTransitionEnd");xi("onMouseEnter",["mouseout","mouseover"]);xi("onMouseLeave",["mouseout","mouseover"]);xi("onPointerEnter",["pointerout","pointerover"]);xi("onPointerLeave",["pointerout","pointerover"]);ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function o_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,v2(n,t,void 0,e),e.currentTarget=null}function Kw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;o_(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;o_(s,l,u),i=c}}}if(tu)throw e=Lf,tu=!1,Lf=null,e}function Ye(e,t){var r=t[Gf];r===void 0&&(r=t[Gf]=new Set);var n=e+"__bubble";r.has(n)||(Gw(t,e,2,!1),r.add(n))}function fh(e,t,r){var n=0;t&&(n|=4),Gw(r,e,n,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Jo(e){if(!e[Xl]){e[Xl]=!0,tw.forEach(function(r){r!=="selectionchange"&&(bC.has(r)||fh(r,!1,e),fh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,fh("selectionchange",!1,t))}}function Gw(e,t,r,n){switch(Rw(t)){case 1:var s=$2;break;case 4:s=M2;break;default:s=Cm}r=s.bind(null,t,r,e),s=void 0,!Mf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ph(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=na(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}xw(function(){var u=i,d=Nm(r),h=[];e:{var p=Hw.get(e);if(p!==void 0){var m=Pm,w=e;switch(e){case"keypress":if(Rc(r)===0)break e;case"keydown":case"keyup":m=Z2;break;case"focusin":w="focus",m=oh;break;case"focusout":w="blur",m=oh;break;case"beforeblur":case"afterblur":m=oh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=U2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tC;break;case Bw:case Ww:case Vw:m=W2;break;case qw:m=nC;break;case"scroll":m=L2;break;case"wheel":m=aC;break;case"copy":case"cut":case"paste":m=q2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xx}var y=(t&4)!==0,_=!y&&e==="scroll",f=y?p!==null?p+"Capture":null:p;y=[];for(var g=u,v;g!==null;){v=g;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,f!==null&&(j=Vo(g,f),j!=null&&y.push(Xo(g,j,v)))),_)break;g=g.return}0<y.length&&(p=new m(p,w,null,r,d),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Df&&(w=r.relatedTarget||r.fromElement)&&(na(w)||w[Mn]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=u,w=w?na(w):null,w!==null&&(_=Na(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(y=Yx,j="onMouseLeave",f="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Xx,j="onPointerLeave",f="onPointerEnter",g="pointer"),_=m==null?p:Qa(m),v=w==null?p:Qa(w),p=new y(j,g+"leave",m,r,d),p.target=_,p.relatedTarget=v,j=null,na(d)===u&&(y=new y(f,g+"enter",w,r,d),y.target=v,y.relatedTarget=_,j=y),_=j,m&&w)t:{for(y=m,f=w,g=0,v=y;v;v=Ia(v))g++;for(v=0,j=f;j;j=Ia(j))v++;for(;0<g-v;)y=Ia(y),g--;for(;0<v-g;)f=Ia(f),v--;for(;g--;){if(y===f||f!==null&&y===f.alternate)break t;y=Ia(y),f=Ia(f)}y=null}else y=null;m!==null&&l_(h,p,m,y,!1),w!==null&&_!==null&&l_(h,_,w,y,!0)}}e:{if(p=u?Qa(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=hC;else if(e_(p))if(Mw)E=gC;else{E=pC;var N=fC}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=mC);if(E&&(E=E(e,u))){$w(h,E,r,d);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Pf(p,"number",p.value)}switch(N=u?Qa(u):window,e){case"focusin":(e_(N)||N.contentEditable==="true")&&(Xa=N,Bf=u,Oo=null);break;case"focusout":Oo=Bf=Xa=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,a_(h,r,d);break;case"selectionchange":if(yC)break;case"keydown":case"keyup":a_(h,r,d)}var k;if(Om)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ja?Iw(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Aw&&r.locale!=="ko"&&(Ja||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ja&&(k=Ow()):(hs=d,Tm="value"in hs?hs.value:hs.textContent,Ja=!0)),N=iu(u,S),0<N.length&&(S=new Jx(S,e,null,r,d),h.push({event:S,listeners:N}),k?S.data=k:(k=Dw(r),k!==null&&(S.data=k)))),(k=oC?lC(e,r):cC(e,r))&&(u=iu(u,"onBeforeInput"),0<u.length&&(d=new Jx("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}Kw(h,t)})}function Xo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function iu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vo(e,r),i!=null&&n.unshift(Xo(e,i,s)),i=Vo(e,t),i!=null&&n.push(Xo(e,i,s))),e=e.return}return n}function Ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function l_(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Vo(r,i),c!=null&&o.unshift(Xo(r,c,l))):s||(c=Vo(r,i),c!=null&&o.push(Xo(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var jC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function c_(e){return(typeof e=="string"?e:""+e).replace(jC,`
`).replace(NC,"")}function Zl(e,t,r){if(t=c_(t),c_(e)!==t&&r)throw Error(q(425))}function ou(){}var Vf=null,qf=null;function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(EC)}:Kf;function EC(e){setTimeout(function(){throw e})}function mh(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ko(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ko(t)}function ws(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function d_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $i=Math.random().toString(36).slice(2),fn="__reactFiber$"+$i,Zo="__reactProps$"+$i,Mn="__reactContainer$"+$i,Gf="__reactEvents$"+$i,CC="__reactListeners$"+$i,TC="__reactHandles$"+$i;function na(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mn]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=d_(e);e!==null;){if(r=e[fn])return r;e=d_(e)}return t}e=r,r=e.parentNode}return null}function El(e){return e=e[fn]||e[Mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function od(e){return e[Zo]||null}var Yf=[],ei=-1;function Ls(e){return{current:e}}function Xe(e){0>ei||(e.current=Yf[ei],Yf[ei]=null,ei--)}function Ke(e,t){ei++,Yf[ei]=e.current,e.current=t}var Ps={},Rt=Ls(Ps),ar=Ls(!1),ha=Ps;function _i(e,t){var r=e.type.contextTypes;if(!r)return Ps;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ir(e){return e=e.childContextTypes,e!=null}function lu(){Xe(ar),Xe(Rt)}function h_(e,t,r){if(Rt.current!==Ps)throw Error(q(168));Ke(Rt,t),Ke(ar,r)}function Yw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(q(108,f2(e)||"Unknown",s));return st({},r,n)}function cu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ps,ha=Rt.current,Ke(Rt,e),Ke(ar,ar.current),!0}function f_(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=Yw(e,t,ha),n.__reactInternalMemoizedMergedChildContext=e,Xe(ar),Xe(Rt),Ke(Rt,e)):Xe(ar),Ke(ar,r)}var Rn=null,ld=!1,gh=!1;function Jw(e){Rn===null?Rn=[e]:Rn.push(e)}function PC(e){ld=!0,Jw(e)}function Fs(){if(!gh&&Rn!==null){gh=!0;var e=0,t=Be;try{var r=Rn;for(Be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rn=null,ld=!1}catch(s){throw Rn!==null&&(Rn=Rn.slice(e+1)),ww(Sm,Fs),s}finally{Be=t,gh=!1}}return null}var ti=[],ri=0,uu=null,du=0,kr=[],Er=0,fa=null,On=1,An="";function Ys(e,t){ti[ri++]=du,ti[ri++]=uu,uu=e,du=t}function Xw(e,t,r){kr[Er++]=On,kr[Er++]=An,kr[Er++]=fa,fa=e;var n=On;e=An;var s=32-Zr(n)-1;n&=~(1<<s),r+=1;var i=32-Zr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,On=1<<32-Zr(t)+s|r<<s|n,An=i+e}else On=1<<i|r<<s|n,An=e}function Im(e){e.return!==null&&(Ys(e,1),Xw(e,1,0))}function Dm(e){for(;e===uu;)uu=ti[--ri],ti[ri]=null,du=ti[--ri],ti[ri]=null;for(;e===fa;)fa=kr[--Er],kr[Er]=null,An=kr[--Er],kr[Er]=null,On=kr[--Er],kr[Er]=null}var xr=null,gr=null,et=!1,Jr=null;function Zw(e,t){var r=Pr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function p_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xr=e,gr=ws(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xr=e,gr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fa!==null?{id:On,overflow:An}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xr=e,gr=null,!0):!1;default:return!1}}function Jf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xf(e){if(et){var t=gr;if(t){var r=t;if(!p_(e,t)){if(Jf(e))throw Error(q(418));t=ws(r.nextSibling);var n=xr;t&&p_(e,t)?Zw(n,r):(e.flags=e.flags&-4097|2,et=!1,xr=e)}}else{if(Jf(e))throw Error(q(418));e.flags=e.flags&-4097|2,et=!1,xr=e}}}function m_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xr=e}function Ql(e){if(e!==xr)return!1;if(!et)return m_(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hf(e.type,e.memoizedProps)),t&&(t=gr)){if(Jf(e))throw Qw(),Error(q(418));for(;t;)Zw(e,t),t=ws(t.nextSibling)}if(m_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){gr=ws(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}gr=null}}else gr=xr?ws(e.stateNode.nextSibling):null;return!0}function Qw(){for(var e=gr;e;)e=ws(e.nextSibling)}function yi(){gr=xr=null,et=!1}function $m(e){Jr===null?Jr=[e]:Jr.push(e)}var RC=Vn.ReactCurrentBatchConfig;function Kr(e,t){if(e&&e.defaultProps){t=st({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var hu=Ls(null),fu=null,ni=null,Mm=null;function Lm(){Mm=ni=fu=null}function Fm(e){var t=hu.current;Xe(hu),e._currentValue=t}function Zf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function di(e,t){fu=e,Mm=ni=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sr=!0),e.firstContext=null)}function Ir(e){var t=e._currentValue;if(Mm!==e)if(e={context:e,memoizedValue:t,next:null},ni===null){if(fu===null)throw Error(q(308));ni=e,fu.dependencies={lanes:0,firstContext:e}}else ni=ni.next=e;return t}var sa=null;function Um(e){sa===null?sa=[e]:sa.push(e)}function eb(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Um(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ln(e,n)}function Ln(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var os=!1;function zm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ln(e,r)}return s=n.interleaved,s===null?(t.next=t,Um(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ln(e,r)}function Oc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,km(e,r)}}function g_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pu(e,t,r,n){var s=e.updateQueue;os=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var p=l.lane,m=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(p=t,m=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(m,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(m,h,p):w,p==null)break e;h=st({},h,p);break e;case 2:os=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ma|=o,e.lanes=o,e.memoizedState=h}}function x_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(q(191,s));s.call(n)}}}var rb=new ew.Component().refs;function Qf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cd={isMounted:function(e){return(e=e._reactInternals)?Na(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ut(),s=Ns(e),i=In(n,s);i.payload=t,r!=null&&(i.callback=r),t=bs(e,i,s),t!==null&&(Qr(t,e,s,n),Oc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ut(),s=Ns(e),i=In(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=bs(e,i,s),t!==null&&(Qr(t,e,s,n),Oc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ut(),n=Ns(e),s=In(r,n);s.tag=2,t!=null&&(s.callback=t),t=bs(e,s,n),t!==null&&(Qr(t,e,n,r),Oc(t,e,n))}};function __(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Yo(r,n)||!Yo(s,i):!0}function nb(e,t,r){var n=!1,s=Ps,i=t.contextType;return typeof i=="object"&&i!==null?i=Ir(i):(s=ir(t)?ha:Rt.current,n=t.contextTypes,i=(n=n!=null)?_i(e,s):Ps),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function y_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cd.enqueueReplaceState(t,t.state,null)}function ep(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=rb,zm(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ir(i):(i=ir(t)?ha:Rt.current,s.context=_i(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Qf(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cd.enqueueReplaceState(s,s.state,null),pu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function so(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;l===rb&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function ec(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v_(e){var t=e._init;return t(e._payload)}function sb(e){function t(f,g){if(e){var v=f.deletions;v===null?(f.deletions=[g],f.flags|=16):v.push(g)}}function r(f,g){if(!e)return null;for(;g!==null;)t(f,g),g=g.sibling;return null}function n(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function s(f,g){return f=Ss(f,g),f.index=0,f.sibling=null,f}function i(f,g,v){return f.index=v,e?(v=f.alternate,v!==null?(v=v.index,v<g?(f.flags|=2,g):v):(f.flags|=2,g)):(f.flags|=1048576,g)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,g,v,j){return g===null||g.tag!==6?(g=jh(v,f.mode,j),g.return=f,g):(g=s(g,v),g.return=f,g)}function c(f,g,v,j){var E=v.type;return E===Ya?d(f,g,v.props.children,j,v.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===is&&v_(E)===g.type)?(j=s(g,v.props),j.ref=so(f,g,v),j.return=f,j):(j=Lc(v.type,v.key,v.props,null,f.mode,j),j.ref=so(f,g,v),j.return=f,j)}function u(f,g,v,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Nh(v,f.mode,j),g.return=f,g):(g=s(g,v.children||[]),g.return=f,g)}function d(f,g,v,j,E){return g===null||g.tag!==7?(g=ca(v,f.mode,j,E),g.return=f,g):(g=s(g,v),g.return=f,g)}function h(f,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=jh(""+g,f.mode,v),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wl:return v=Lc(g.type,g.key,g.props,null,f.mode,v),v.ref=so(f,null,g),v.return=f,v;case Ga:return g=Nh(g,f.mode,v),g.return=f,g;case is:var j=g._init;return h(f,j(g._payload),v)}if(xo(g)||Qi(g))return g=ca(g,f.mode,v,null),g.return=f,g;ec(f,g)}return null}function p(f,g,v,j){var E=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(f,g,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wl:return v.key===E?c(f,g,v,j):null;case Ga:return v.key===E?u(f,g,v,j):null;case is:return E=v._init,p(f,g,E(v._payload),j)}if(xo(v)||Qi(v))return E!==null?null:d(f,g,v,j,null);ec(f,v)}return null}function m(f,g,v,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return f=f.get(v)||null,l(g,f,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Wl:return f=f.get(j.key===null?v:j.key)||null,c(g,f,j,E);case Ga:return f=f.get(j.key===null?v:j.key)||null,u(g,f,j,E);case is:var N=j._init;return m(f,g,v,N(j._payload),E)}if(xo(j)||Qi(j))return f=f.get(v)||null,d(g,f,j,E,null);ec(g,j)}return null}function w(f,g,v,j){for(var E=null,N=null,k=g,S=g=0,A=null;k!==null&&S<v.length;S++){k.index>S?(A=k,k=null):A=k.sibling;var b=p(f,k,v[S],j);if(b===null){k===null&&(k=A);break}e&&k&&b.alternate===null&&t(f,k),g=i(b,g,S),N===null?E=b:N.sibling=b,N=b,k=A}if(S===v.length)return r(f,k),et&&Ys(f,S),E;if(k===null){for(;S<v.length;S++)k=h(f,v[S],j),k!==null&&(g=i(k,g,S),N===null?E=k:N.sibling=k,N=k);return et&&Ys(f,S),E}for(k=n(f,k);S<v.length;S++)A=m(k,f,S,v[S],j),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?S:A.key),g=i(A,g,S),N===null?E=A:N.sibling=A,N=A);return e&&k.forEach(function(R){return t(f,R)}),et&&Ys(f,S),E}function y(f,g,v,j){var E=Qi(v);if(typeof E!="function")throw Error(q(150));if(v=E.call(v),v==null)throw Error(q(151));for(var N=E=null,k=g,S=g=0,A=null,b=v.next();k!==null&&!b.done;S++,b=v.next()){k.index>S?(A=k,k=null):A=k.sibling;var R=p(f,k,b.value,j);if(R===null){k===null&&(k=A);break}e&&k&&R.alternate===null&&t(f,k),g=i(R,g,S),N===null?E=R:N.sibling=R,N=R,k=A}if(b.done)return r(f,k),et&&Ys(f,S),E;if(k===null){for(;!b.done;S++,b=v.next())b=h(f,b.value,j),b!==null&&(g=i(b,g,S),N===null?E=b:N.sibling=b,N=b);return et&&Ys(f,S),E}for(k=n(f,k);!b.done;S++,b=v.next())b=m(k,f,S,b.value,j),b!==null&&(e&&b.alternate!==null&&k.delete(b.key===null?S:b.key),g=i(b,g,S),N===null?E=b:N.sibling=b,N=b);return e&&k.forEach(function(T){return t(f,T)}),et&&Ys(f,S),E}function _(f,g,v,j){if(typeof v=="object"&&v!==null&&v.type===Ya&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Wl:e:{for(var E=v.key,N=g;N!==null;){if(N.key===E){if(E=v.type,E===Ya){if(N.tag===7){r(f,N.sibling),g=s(N,v.props.children),g.return=f,f=g;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===is&&v_(E)===N.type){r(f,N.sibling),g=s(N,v.props),g.ref=so(f,N,v),g.return=f,f=g;break e}r(f,N);break}else t(f,N);N=N.sibling}v.type===Ya?(g=ca(v.props.children,f.mode,j,v.key),g.return=f,f=g):(j=Lc(v.type,v.key,v.props,null,f.mode,j),j.ref=so(f,g,v),j.return=f,f=j)}return o(f);case Ga:e:{for(N=v.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(f,g.sibling),g=s(g,v.children||[]),g.return=f,f=g;break e}else{r(f,g);break}else t(f,g);g=g.sibling}g=Nh(v,f.mode,j),g.return=f,f=g}return o(f);case is:return N=v._init,_(f,g,N(v._payload),j)}if(xo(v))return w(f,g,v,j);if(Qi(v))return y(f,g,v,j);ec(f,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(f,g.sibling),g=s(g,v),g.return=f,f=g):(r(f,g),g=jh(v,f.mode,j),g.return=f,f=g),o(f)):r(f,g)}return _}var vi=sb(!0),ab=sb(!1),Cl={},xn=Ls(Cl),Qo=Ls(Cl),el=Ls(Cl);function aa(e){if(e===Cl)throw Error(q(174));return e}function Bm(e,t){switch(Ke(el,t),Ke(Qo,e),Ke(xn,Cl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Of(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Of(t,e)}Xe(xn),Ke(xn,t)}function wi(){Xe(xn),Xe(Qo),Xe(el)}function ib(e){aa(el.current);var t=aa(xn.current),r=Of(t,e.type);t!==r&&(Ke(Qo,e),Ke(xn,r))}function Wm(e){Qo.current===e&&(Xe(xn),Xe(Qo))}var rt=Ls(0);function mu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xh=[];function Vm(){for(var e=0;e<xh.length;e++)xh[e]._workInProgressVersionPrimary=null;xh.length=0}var Ac=Vn.ReactCurrentDispatcher,_h=Vn.ReactCurrentBatchConfig,pa=0,nt=null,mt=null,xt=null,gu=!1,Ao=!1,tl=0,OC=0;function Et(){throw Error(q(321))}function qm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!en(e[r],t[r]))return!1;return!0}function Hm(e,t,r,n,s,i){if(pa=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ac.current=e===null||e.memoizedState===null?$C:MC,e=r(n,s),Ao){i=0;do{if(Ao=!1,tl=0,25<=i)throw Error(q(301));i+=1,xt=mt=null,t.updateQueue=null,Ac.current=LC,e=r(n,s)}while(Ao)}if(Ac.current=xu,t=mt!==null&&mt.next!==null,pa=0,xt=mt=nt=null,gu=!1,t)throw Error(q(300));return e}function Km(){var e=tl!==0;return tl=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?nt.memoizedState=xt=e:xt=xt.next=e,xt}function Dr(){if(mt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=xt===null?nt.memoizedState:xt.next;if(t!==null)xt=t,mt=e;else{if(e===null)throw Error(q(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},xt===null?nt.memoizedState=xt=e:xt=xt.next=e}return xt}function rl(e,t){return typeof t=="function"?t(e):t}function yh(e){var t=Dr(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=mt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((pa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,nt.lanes|=d,ma|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,en(n,t.memoizedState)||(sr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,nt.lanes|=i,ma|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vh(e){var t=Dr(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);en(i,t.memoizedState)||(sr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ob(){}function lb(e,t){var r=nt,n=Dr(),s=t(),i=!en(n.memoizedState,s);if(i&&(n.memoizedState=s,sr=!0),n=n.queue,Gm(db.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,nl(9,ub.bind(null,r,n,s,t),void 0,null),yt===null)throw Error(q(349));pa&30||cb(r,t,s)}return s}function cb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ub(e,t,r,n){t.value=r,t.getSnapshot=n,hb(t)&&fb(e)}function db(e,t,r){return r(function(){hb(t)&&fb(e)})}function hb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!en(e,r)}catch{return!0}}function fb(e){var t=Ln(e,1);t!==null&&Qr(t,e,1,-1)}function w_(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t.queue=e,e=e.dispatch=DC.bind(null,nt,e),[t.memoizedState,e]}function nl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pb(){return Dr().memoizedState}function Ic(e,t,r,n){var s=dn();nt.flags|=e,s.memoizedState=nl(1|t,r,void 0,n===void 0?null:n)}function ud(e,t,r,n){var s=Dr();n=n===void 0?null:n;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,n!==null&&qm(n,o.deps)){s.memoizedState=nl(t,r,i,n);return}}nt.flags|=e,s.memoizedState=nl(1|t,r,i,n)}function b_(e,t){return Ic(8390656,8,e,t)}function Gm(e,t){return ud(2048,8,e,t)}function mb(e,t){return ud(4,2,e,t)}function gb(e,t){return ud(4,4,e,t)}function xb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _b(e,t,r){return r=r!=null?r.concat([e]):null,ud(4,4,xb.bind(null,t,e),r)}function Ym(){}function yb(e,t){var r=Dr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function vb(e,t){var r=Dr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function wb(e,t,r){return pa&21?(en(r,t)||(r=Nw(),nt.lanes|=r,ma|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=r)}function AC(e,t){var r=Be;Be=r!==0&&4>r?r:4,e(!0);var n=_h.transition;_h.transition={};try{e(!1),t()}finally{Be=r,_h.transition=n}}function bb(){return Dr().memoizedState}function IC(e,t,r){var n=Ns(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jb(e))Nb(t,r);else if(r=eb(e,t,r,n),r!==null){var s=Ut();Qr(r,e,n,s),Sb(r,t,n)}}function DC(e,t,r){var n=Ns(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jb(e))Nb(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,en(l,o)){var c=t.interleaved;c===null?(s.next=s,Um(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=eb(e,t,s,n),r!==null&&(s=Ut(),Qr(r,e,n,s),Sb(r,t,n))}}function jb(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function Nb(e,t){Ao=gu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Sb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,km(e,r)}}var xu={readContext:Ir,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},$C={readContext:Ir,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Ir,useEffect:b_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ic(4194308,4,xb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ic(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ic(4,2,e,t)},useMemo:function(e,t){var r=dn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=IC.bind(null,nt,e),[n.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:w_,useDebugValue:Ym,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=w_(!1),t=e[0];return e=AC.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nt,s=dn();if(et){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),yt===null)throw Error(q(349));pa&30||cb(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,b_(db.bind(null,n,i,e),[e]),n.flags|=2048,nl(9,ub.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=dn(),t=yt.identifierPrefix;if(et){var r=An,n=On;r=(n&~(1<<32-Zr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=tl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=OC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MC={readContext:Ir,useCallback:yb,useContext:Ir,useEffect:Gm,useImperativeHandle:_b,useInsertionEffect:mb,useLayoutEffect:gb,useMemo:vb,useReducer:yh,useRef:pb,useState:function(){return yh(rl)},useDebugValue:Ym,useDeferredValue:function(e){var t=Dr();return wb(t,mt.memoizedState,e)},useTransition:function(){var e=yh(rl)[0],t=Dr().memoizedState;return[e,t]},useMutableSource:ob,useSyncExternalStore:lb,useId:bb,unstable_isNewReconciler:!1},LC={readContext:Ir,useCallback:yb,useContext:Ir,useEffect:Gm,useImperativeHandle:_b,useInsertionEffect:mb,useLayoutEffect:gb,useMemo:vb,useReducer:vh,useRef:pb,useState:function(){return vh(rl)},useDebugValue:Ym,useDeferredValue:function(e){var t=Dr();return mt===null?t.memoizedState=e:wb(t,mt.memoizedState,e)},useTransition:function(){var e=vh(rl)[0],t=Dr().memoizedState;return[e,t]},useMutableSource:ob,useSyncExternalStore:lb,useId:bb,unstable_isNewReconciler:!1};function bi(e,t){try{var r="",n=t;do r+=h2(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function wh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function tp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var FC=typeof WeakMap=="function"?WeakMap:Map;function kb(e,t,r){r=In(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yu||(yu=!0,dp=n),tp(e,t)},r}function Eb(e,t,r){r=In(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){tp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){tp(e,t),typeof n!="function"&&(js===null?js=new Set([this]):js.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function j_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new FC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=QC.bind(null,e,t,r),t.then(e,e))}function N_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function S_(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=In(-1,1),t.tag=2,bs(r,t,1))),r.lanes|=1),e)}var UC=Vn.ReactCurrentOwner,sr=!1;function $t(e,t,r,n){t.child=e===null?ab(t,null,r,n):vi(t,e.child,r,n)}function k_(e,t,r,n,s){r=r.render;var i=t.ref;return di(t,s),n=Hm(e,t,r,n,i,s),r=Km(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fn(e,t,s)):(et&&r&&Im(t),t.flags|=1,$t(e,t,n,s),t.child)}function E_(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ng(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Cb(e,t,i,n,s)):(e=Lc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yo,r(o,n)&&e.ref===t.ref)return Fn(e,t,s)}return t.flags|=1,e=Ss(i,n),e.ref=t.ref,e.return=t,t.child=e}function Cb(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Yo(i,n)&&e.ref===t.ref)if(sr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(sr=!0);else return t.lanes=e.lanes,Fn(e,t,s)}return rp(e,t,r,n,s)}function Tb(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ai,ur),ur|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(ai,ur),ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ke(ai,ur),ur|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ke(ai,ur),ur|=n;return $t(e,t,s,r),t.child}function Pb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function rp(e,t,r,n,s){var i=ir(r)?ha:Rt.current;return i=_i(t,i),di(t,s),r=Hm(e,t,r,n,i,s),n=Km(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fn(e,t,s)):(et&&n&&Im(t),t.flags|=1,$t(e,t,r,s),t.child)}function C_(e,t,r,n,s){if(ir(r)){var i=!0;cu(t)}else i=!1;if(di(t,s),t.stateNode===null)Dc(e,t),nb(t,r,n),ep(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ir(u):(u=ir(r)?ha:Rt.current,u=_i(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&y_(t,o,n,u),os=!1;var p=t.memoizedState;o.state=p,pu(t,n,o,s),c=t.memoizedState,l!==n||p!==c||ar.current||os?(typeof d=="function"&&(Qf(t,r,d,n),c=t.memoizedState),(l=os||__(t,r,l,n,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,tb(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Kr(t.type,l),o.props=u,h=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ir(c):(c=ir(r)?ha:Rt.current,c=_i(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&y_(t,o,n,c),os=!1,p=t.memoizedState,o.state=p,pu(t,n,o,s);var w=t.memoizedState;l!==h||p!==w||ar.current||os?(typeof m=="function"&&(Qf(t,r,m,n),w=t.memoizedState),(u=os||__(t,r,u,n,p,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return np(e,t,r,n,i,s)}function np(e,t,r,n,s,i){Pb(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&f_(t,r,!1),Fn(e,t,i);n=t.stateNode,UC.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=vi(t,e.child,null,i),t.child=vi(t,null,l,i)):$t(e,t,l,i),t.memoizedState=n.state,s&&f_(t,r,!0),t.child}function Rb(e){var t=e.stateNode;t.pendingContext?h_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&h_(e,t.context,!1),Bm(e,t.containerInfo)}function T_(e,t,r,n,s){return yi(),$m(s),t.flags|=256,$t(e,t,r,n),t.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function ap(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ob(e,t,r){var n=t.pendingProps,s=rt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ke(rt,s&1),e===null)return Xf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fd(o,n,0,null),e=ca(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ap(r),t.memoizedState=sp,e):Jm(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return zC(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ss(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ss(l,i):(i=ca(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ap(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=sp,n}return i=e.child,e=i.sibling,n=Ss(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jm(e,t){return t=fd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tc(e,t,r,n){return n!==null&&$m(n),vi(t,e.child,null,r),e=Jm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zC(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=wh(Error(q(422))),tc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=fd({mode:"visible",children:n.children},s,0,null),i=ca(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&vi(t,e.child,null,o),t.child.memoizedState=ap(o),t.memoizedState=sp,i);if(!(t.mode&1))return tc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(q(419)),n=wh(i,n,void 0),tc(e,t,o,n)}if(l=(o&e.childLanes)!==0,sr||l){if(n=yt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ln(e,s),Qr(n,e,s,-1))}return rg(),n=wh(Error(q(421))),tc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=eT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,gr=ws(s.nextSibling),xr=t,et=!0,Jr=null,e!==null&&(kr[Er++]=On,kr[Er++]=An,kr[Er++]=fa,On=e.id,An=e.overflow,fa=t),t=Jm(t,n.children),t.flags|=4096,t)}function P_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zf(e.return,t,r)}function bh(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ab(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if($t(e,t,n.children,r),n=rt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P_(e,r,t);else if(e.tag===19)P_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ke(rt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&mu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),bh(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}bh(t,!0,r,null,i);break;case"together":bh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ma|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=Ss(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ss(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function BC(e,t,r){switch(t.tag){case 3:Rb(t),yi();break;case 5:ib(t);break;case 1:ir(t.type)&&cu(t);break;case 4:Bm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ke(hu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ke(rt,rt.current&1),t.flags|=128,null):r&t.child.childLanes?Ob(e,t,r):(Ke(rt,rt.current&1),e=Fn(e,t,r),e!==null?e.sibling:null);Ke(rt,rt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ab(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(rt,rt.current),n)break;return null;case 22:case 23:return t.lanes=0,Tb(e,t,r)}return Fn(e,t,r)}var Ib,ip,Db,$b;Ib=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ip=function(){};Db=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,aa(xn.current);var i=null;switch(r){case"input":s=Cf(e,s),n=Cf(e,n),i=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),i=[];break;case"textarea":s=Rf(e,s),n=Rf(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ou)}Af(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};$b=function(e,t,r,n){r!==n&&(t.flags|=4)};function ao(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function WC(e,t,r){var n=t.pendingProps;switch(Dm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return ir(t.type)&&lu(),Ct(t),null;case 3:return n=t.stateNode,wi(),Xe(ar),Xe(Rt),Vm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ql(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jr!==null&&(pp(Jr),Jr=null))),ip(e,t),Ct(t),null;case 5:Wm(t);var s=aa(el.current);if(r=t.type,e!==null&&t.stateNode!=null)Db(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return Ct(t),null}if(e=aa(xn.current),Ql(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fn]=t,n[Zo]=i,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<yo.length;s++)Ye(yo[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Fx(n,i),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",n);break;case"textarea":zx(n,i),Ye("invalid",n)}Af(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Zl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Zl(n.textContent,l,e),s=["children",""+l]):Bo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",n)}switch(r){case"input":Vl(n),Ux(n,i,!0);break;case"textarea":Vl(n),Bx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ou)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fn]=t,e[Zo]=n,Ib(e,t,!1,!1),t.stateNode=e;e:{switch(o=If(r,n),r){case"dialog":Ye("cancel",e),Ye("close",e),s=n;break;case"iframe":case"object":case"embed":Ye("load",e),s=n;break;case"video":case"audio":for(s=0;s<yo.length;s++)Ye(yo[s],e);s=n;break;case"source":Ye("error",e),s=n;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),s=n;break;case"details":Ye("toggle",e),s=n;break;case"input":Fx(e,n),s=Cf(e,n),Ye("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Ye("invalid",e);break;case"textarea":zx(e,n),s=Rf(e,n),Ye("invalid",e);break;default:s=n}Af(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?hw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wo(e,c):typeof c=="number"&&Wo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ye("scroll",e):c!=null&&vm(e,i,c,o))}switch(r){case"input":Vl(e),Ux(e,n,!1);break;case"textarea":Vl(e),Bx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ts(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?oi(e,!!n.multiple,i,!1):n.defaultValue!=null&&oi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ou)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)$b(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=aa(el.current),aa(xn.current),Ql(t)){if(n=t.stateNode,r=t.memoizedProps,n[fn]=t,(i=n.nodeValue!==r)&&(e=xr,e!==null))switch(e.tag){case 3:Zl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fn]=t,t.stateNode=n}return Ct(t),null;case 13:if(Xe(rt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&gr!==null&&t.mode&1&&!(t.flags&128))Qw(),yi(),t.flags|=98560,i=!1;else if(i=Ql(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[fn]=t}else yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),i=!1}else Jr!==null&&(pp(Jr),Jr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?gt===0&&(gt=3):rg())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return wi(),ip(e,t),e===null&&Jo(t.stateNode.containerInfo),Ct(t),null;case 10:return Fm(t.type._context),Ct(t),null;case 17:return ir(t.type)&&lu(),Ct(t),null;case 19:if(Xe(rt),i=t.memoizedState,i===null)return Ct(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ao(i,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mu(e),o!==null){for(t.flags|=128,ao(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(rt,rt.current&1|2),t.child}e=e.sibling}i.tail!==null&&lt()>ji&&(t.flags|=128,n=!0,ao(i,!1),t.lanes=4194304)}else{if(!n)if(e=mu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ao(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return Ct(t),null}else 2*lt()-i.renderingStartTime>ji&&r!==1073741824&&(t.flags|=128,n=!0,ao(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lt(),t.sibling=null,r=rt.current,Ke(rt,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return tg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ur&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function VC(e,t){switch(Dm(t),t.tag){case 1:return ir(t.type)&&lu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wi(),Xe(ar),Xe(Rt),Vm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wm(t),null;case 13:if(Xe(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(rt),null;case 4:return wi(),null;case 10:return Fm(t.type._context),null;case 22:case 23:return tg(),null;case 24:return null;default:return null}}var rc=!1,Tt=!1,qC=typeof WeakSet=="function"?WeakSet:Set,se=null;function si(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(e,t,n)}else r.current=null}function op(e,t,r){try{r()}catch(n){at(e,t,n)}}var R_=!1;function HC(e,t){if(Vf=su,e=Uw(),Am(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===r&&++u===s&&(l=o),p===i&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(qf={focusedElem:e,selectionRange:r},su=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,_=w.memoizedState,f=t.stateNode,g=f.getSnapshotBeforeUpdate(t.elementType===t.type?y:Kr(t.type,y),_);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){at(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return w=R_,R_=!1,w}function Io(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&op(t,r,i)}s=s.next}while(s!==n)}}function dd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function lp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mb(e){var t=e.alternate;t!==null&&(e.alternate=null,Mb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Zo],delete t[Gf],delete t[CC],delete t[TC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lb(e){return e.tag===5||e.tag===3||e.tag===4}function O_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ou));else if(n!==4&&(e=e.child,e!==null))for(cp(e,t,r),e=e.sibling;e!==null;)cp(e,t,r),e=e.sibling}function up(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(up(e,t,r),e=e.sibling;e!==null;)up(e,t,r),e=e.sibling}var vt=null,Gr=!1;function Zn(e,t,r){for(r=r.child;r!==null;)Fb(e,t,r),r=r.sibling}function Fb(e,t,r){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(nd,r)}catch{}switch(r.tag){case 5:Tt||si(r,t);case 6:var n=vt,s=Gr;vt=null,Zn(e,t,r),vt=n,Gr=s,vt!==null&&(Gr?(e=vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):vt.removeChild(r.stateNode));break;case 18:vt!==null&&(Gr?(e=vt,r=r.stateNode,e.nodeType===8?mh(e.parentNode,r):e.nodeType===1&&mh(e,r),Ko(e)):mh(vt,r.stateNode));break;case 4:n=vt,s=Gr,vt=r.stateNode.containerInfo,Gr=!0,Zn(e,t,r),vt=n,Gr=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&op(r,t,o),s=s.next}while(s!==n)}Zn(e,t,r);break;case 1:if(!Tt&&(si(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){at(r,t,l)}Zn(e,t,r);break;case 21:Zn(e,t,r);break;case 22:r.mode&1?(Tt=(n=Tt)||r.memoizedState!==null,Zn(e,t,r),Tt=n):Zn(e,t,r);break;default:Zn(e,t,r)}}function A_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qC),t.forEach(function(n){var s=tT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function zr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,Gr=!1;break e;case 3:vt=l.stateNode.containerInfo,Gr=!0;break e;case 4:vt=l.stateNode.containerInfo,Gr=!0;break e}l=l.return}if(vt===null)throw Error(q(160));Fb(i,o,s),vt=null,Gr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){at(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ub(t,e),t=t.sibling}function Ub(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zr(t,e),on(e),n&4){try{Io(3,e,e.return),dd(3,e)}catch(y){at(e,e.return,y)}try{Io(5,e,e.return)}catch(y){at(e,e.return,y)}}break;case 1:zr(t,e),on(e),n&512&&r!==null&&si(r,r.return);break;case 5:if(zr(t,e),on(e),n&512&&r!==null&&si(r,r.return),e.flags&32){var s=e.stateNode;try{Wo(s,"")}catch(y){at(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ow(s,i),If(l,o);var u=If(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?hw(s,h):d==="dangerouslySetInnerHTML"?uw(s,h):d==="children"?Wo(s,h):vm(s,d,h,u)}switch(l){case"input":Tf(s,i);break;case"textarea":lw(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?oi(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?oi(s,!!i.multiple,i.defaultValue,!0):oi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zo]=i}catch(y){at(e,e.return,y)}}break;case 6:if(zr(t,e),on(e),n&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){at(e,e.return,y)}}break;case 3:if(zr(t,e),on(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ko(t.containerInfo)}catch(y){at(e,e.return,y)}break;case 4:zr(t,e),on(e);break;case 13:zr(t,e),on(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qm=lt())),n&4&&A_(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(u=Tt)||d,zr(t,e),Tt=u):zr(t,e),on(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(h=se=d;se!==null;){switch(p=se,m=p.child,p.tag){case 0:case 11:case 14:case 15:Io(4,p,p.return);break;case 1:si(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){at(n,r,y)}}break;case 5:si(p,p.return);break;case 22:if(p.memoizedState!==null){D_(h);continue}}m!==null?(m.return=p,se=m):D_(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dw("display",o))}catch(y){at(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){at(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zr(t,e),on(e),n&4&&A_(e);break;case 21:break;default:zr(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Lb(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Wo(s,""),n.flags&=-33);var i=O_(e);up(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=O_(e);cp(e,l,o);break;default:throw Error(q(161))}}catch(c){at(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KC(e,t,r){se=e,zb(e)}function zb(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||rc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Tt;l=rc;var u=Tt;if(rc=o,(Tt=c)&&!u)for(se=s;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?$_(s):c!==null?(c.return=o,se=c):$_(s);for(;i!==null;)se=i,zb(i),i=i.sibling;se=s,rc=l,Tt=u}I_(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):I_(e)}}function I_(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||dd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Kr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&x_(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}x_(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ko(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Tt||t.flags&512&&lp(t)}catch(p){at(t,t.return,p)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function D_(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function $_(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dd(4,t)}catch(c){at(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){at(t,s,c)}}var i=t.return;try{lp(t)}catch(c){at(t,i,c)}break;case 5:var o=t.return;try{lp(t)}catch(c){at(t,o,c)}}}catch(c){at(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var GC=Math.ceil,_u=Vn.ReactCurrentDispatcher,Xm=Vn.ReactCurrentOwner,Rr=Vn.ReactCurrentBatchConfig,Ie=0,yt=null,dt=null,jt=0,ur=0,ai=Ls(0),gt=0,sl=null,ma=0,hd=0,Zm=0,Do=null,Qt=null,Qm=0,ji=1/0,Tn=null,yu=!1,dp=null,js=null,nc=!1,fs=null,vu=0,$o=0,hp=null,$c=-1,Mc=0;function Ut(){return Ie&6?lt():$c!==-1?$c:$c=lt()}function Ns(e){return e.mode&1?Ie&2&&jt!==0?jt&-jt:RC.transition!==null?(Mc===0&&(Mc=Nw()),Mc):(e=Be,e!==0||(e=window.event,e=e===void 0?16:Rw(e.type)),e):1}function Qr(e,t,r,n){if(50<$o)throw $o=0,hp=null,Error(q(185));Sl(e,r,n),(!(Ie&2)||e!==yt)&&(e===yt&&(!(Ie&2)&&(hd|=r),gt===4&&us(e,jt)),or(e,n),r===1&&Ie===0&&!(t.mode&1)&&(ji=lt()+500,ld&&Fs()))}function or(e,t){var r=e.callbackNode;R2(e,t);var n=nu(e,e===yt?jt:0);if(n===0)r!==null&&qx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qx(r),t===1)e.tag===0?PC(M_.bind(null,e)):Jw(M_.bind(null,e)),kC(function(){!(Ie&6)&&Fs()}),r=null;else{switch(Sw(n)){case 1:r=Sm;break;case 4:r=bw;break;case 16:r=ru;break;case 536870912:r=jw;break;default:r=ru}r=Yb(r,Bb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Bb(e,t){if($c=-1,Mc=0,Ie&6)throw Error(q(327));var r=e.callbackNode;if(hi()&&e.callbackNode!==r)return null;var n=nu(e,e===yt?jt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wu(e,n);else{t=n;var s=Ie;Ie|=2;var i=Vb();(yt!==e||jt!==t)&&(Tn=null,ji=lt()+500,la(e,t));do try{XC();break}catch(l){Wb(e,l)}while(!0);Lm(),_u.current=i,Ie=s,dt!==null?t=0:(yt=null,jt=0,t=gt)}if(t!==0){if(t===2&&(s=Ff(e),s!==0&&(n=s,t=fp(e,s))),t===1)throw r=sl,la(e,0),us(e,n),or(e,lt()),r;if(t===6)us(e,n);else{if(s=e.current.alternate,!(n&30)&&!YC(s)&&(t=wu(e,n),t===2&&(i=Ff(e),i!==0&&(n=i,t=fp(e,i))),t===1))throw r=sl,la(e,0),us(e,n),or(e,lt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:Js(e,Qt,Tn);break;case 3:if(us(e,n),(n&130023424)===n&&(t=Qm+500-lt(),10<t)){if(nu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Kf(Js.bind(null,e,Qt,Tn),t);break}Js(e,Qt,Tn);break;case 4:if(us(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Zr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*GC(n/1960))-n,10<n){e.timeoutHandle=Kf(Js.bind(null,e,Qt,Tn),n);break}Js(e,Qt,Tn);break;case 5:Js(e,Qt,Tn);break;default:throw Error(q(329))}}}return or(e,lt()),e.callbackNode===r?Bb.bind(null,e):null}function fp(e,t){var r=Do;return e.current.memoizedState.isDehydrated&&(la(e,t).flags|=256),e=wu(e,t),e!==2&&(t=Qt,Qt=r,t!==null&&pp(t)),e}function pp(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function YC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!en(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function us(e,t){for(t&=~Zm,t&=~hd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zr(t),n=1<<r;e[r]=-1,t&=~n}}function M_(e){if(Ie&6)throw Error(q(327));hi();var t=nu(e,0);if(!(t&1))return or(e,lt()),null;var r=wu(e,t);if(e.tag!==0&&r===2){var n=Ff(e);n!==0&&(t=n,r=fp(e,n))}if(r===1)throw r=sl,la(e,0),us(e,t),or(e,lt()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Js(e,Qt,Tn),or(e,lt()),null}function eg(e,t){var r=Ie;Ie|=1;try{return e(t)}finally{Ie=r,Ie===0&&(ji=lt()+500,ld&&Fs())}}function ga(e){fs!==null&&fs.tag===0&&!(Ie&6)&&hi();var t=Ie;Ie|=1;var r=Rr.transition,n=Be;try{if(Rr.transition=null,Be=1,e)return e()}finally{Be=n,Rr.transition=r,Ie=t,!(Ie&6)&&Fs()}}function tg(){ur=ai.current,Xe(ai)}function la(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,SC(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(Dm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lu();break;case 3:wi(),Xe(ar),Xe(Rt),Vm();break;case 5:Wm(n);break;case 4:wi();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:Fm(n.type._context);break;case 22:case 23:tg()}r=r.return}if(yt=e,dt=e=Ss(e.current,null),jt=ur=t,gt=0,sl=null,Zm=hd=ma=0,Qt=Do=null,sa!==null){for(t=0;t<sa.length;t++)if(r=sa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}sa=null}return e}function Wb(e,t){do{var r=dt;try{if(Lm(),Ac.current=xu,gu){for(var n=nt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gu=!1}if(pa=0,xt=mt=nt=null,Ao=!1,tl=0,Xm.current=null,r===null||r.return===null){gt=1,sl=t,dt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=N_(o);if(m!==null){m.flags&=-257,S_(m,o,l,i,t),m.mode&1&&j_(i,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){j_(i,u,t),rg();break e}c=Error(q(426))}}else if(et&&l.mode&1){var _=N_(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),S_(_,o,l,i,t),$m(bi(c,l));break e}}i=c=bi(c,l),gt!==4&&(gt=2),Do===null?Do=[i]:Do.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=kb(i,c,t);g_(i,f);break e;case 1:l=c;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(js===null||!js.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Eb(i,l,t);g_(i,j);break e}}i=i.return}while(i!==null)}Hb(r)}catch(E){t=E,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function Vb(){var e=_u.current;return _u.current=xu,e===null?xu:e}function rg(){(gt===0||gt===3||gt===2)&&(gt=4),yt===null||!(ma&268435455)&&!(hd&268435455)||us(yt,jt)}function wu(e,t){var r=Ie;Ie|=2;var n=Vb();(yt!==e||jt!==t)&&(Tn=null,la(e,t));do try{JC();break}catch(s){Wb(e,s)}while(!0);if(Lm(),Ie=r,_u.current=n,dt!==null)throw Error(q(261));return yt=null,jt=0,gt}function JC(){for(;dt!==null;)qb(dt)}function XC(){for(;dt!==null&&!b2();)qb(dt)}function qb(e){var t=Gb(e.alternate,e,ur);e.memoizedProps=e.pendingProps,t===null?Hb(e):dt=t,Xm.current=null}function Hb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=VC(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,dt=null;return}}else if(r=WC(r,t,ur),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);gt===0&&(gt=5)}function Js(e,t,r){var n=Be,s=Rr.transition;try{Rr.transition=null,Be=1,ZC(e,t,r,n)}finally{Rr.transition=s,Be=n}return null}function ZC(e,t,r,n){do hi();while(fs!==null);if(Ie&6)throw Error(q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(O2(e,i),e===yt&&(dt=yt=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nc||(nc=!0,Yb(ru,function(){return hi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Rr.transition,Rr.transition=null;var o=Be;Be=1;var l=Ie;Ie|=4,Xm.current=null,HC(e,r),Ub(r,e),_C(qf),su=!!Vf,qf=Vf=null,e.current=r,KC(r),j2(),Ie=l,Be=o,Rr.transition=i}else e.current=r;if(nc&&(nc=!1,fs=e,vu=s),i=e.pendingLanes,i===0&&(js=null),k2(r.stateNode),or(e,lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yu)throw yu=!1,e=dp,dp=null,e;return vu&1&&e.tag!==0&&hi(),i=e.pendingLanes,i&1?e===hp?$o++:($o=0,hp=e):$o=0,Fs(),null}function hi(){if(fs!==null){var e=Sw(vu),t=Rr.transition,r=Be;try{if(Rr.transition=null,Be=16>e?16:e,fs===null)var n=!1;else{if(e=fs,fs=null,vu=0,Ie&6)throw Error(q(331));var s=Ie;for(Ie|=4,se=e.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Io(8,d,i)}var h=d.child;if(h!==null)h.return=d,se=h;else for(;se!==null;){d=se;var p=d.sibling,m=d.return;if(Mb(d),d===u){se=null;break}if(p!==null){p.return=m,se=p;break}se=m}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Io(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,se=f;break e}se=i.return}}var g=e.current;for(se=g;se!==null;){o=se;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,se=v;else e:for(o=g;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dd(9,l)}}catch(E){at(l,l.return,E)}if(l===o){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(Ie=s,Fs(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(nd,e)}catch{}n=!0}return n}finally{Be=r,Rr.transition=t}}return!1}function L_(e,t,r){t=bi(r,t),t=kb(e,t,1),e=bs(e,t,1),t=Ut(),e!==null&&(Sl(e,1,t),or(e,t))}function at(e,t,r){if(e.tag===3)L_(e,e,r);else for(;t!==null;){if(t.tag===3){L_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(js===null||!js.has(n))){e=bi(r,e),e=Eb(t,e,1),t=bs(t,e,1),e=Ut(),t!==null&&(Sl(t,1,e),or(t,e));break}}t=t.return}}function QC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&r,yt===e&&(jt&r)===r&&(gt===4||gt===3&&(jt&130023424)===jt&&500>lt()-Qm?la(e,0):Zm|=r),or(e,t)}function Kb(e,t){t===0&&(e.mode&1?(t=Kl,Kl<<=1,!(Kl&130023424)&&(Kl=4194304)):t=1);var r=Ut();e=Ln(e,t),e!==null&&(Sl(e,t,r),or(e,r))}function eT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Kb(e,r)}function tT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),Kb(e,r)}var Gb;Gb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ar.current)sr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return sr=!1,BC(e,t,r);sr=!!(e.flags&131072)}else sr=!1,et&&t.flags&1048576&&Xw(t,du,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Dc(e,t),e=t.pendingProps;var s=_i(t,Rt.current);di(t,r),s=Hm(null,t,n,e,s,r);var i=Km();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ir(n)?(i=!0,cu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zm(t),s.updater=cd,t.stateNode=s,s._reactInternals=t,ep(t,n,e,r),t=np(null,t,n,!0,i,r)):(t.tag=0,et&&i&&Im(t),$t(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Dc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=nT(n),e=Kr(n,e),s){case 0:t=rp(null,t,n,e,r);break e;case 1:t=C_(null,t,n,e,r);break e;case 11:t=k_(null,t,n,e,r);break e;case 14:t=E_(null,t,n,Kr(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Kr(n,s),rp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Kr(n,s),C_(e,t,n,s,r);case 3:e:{if(Rb(t),e===null)throw Error(q(387));n=t.pendingProps,i=t.memoizedState,s=i.element,tb(e,t),pu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=bi(Error(q(423)),t),t=T_(e,t,n,r,s);break e}else if(n!==s){s=bi(Error(q(424)),t),t=T_(e,t,n,r,s);break e}else for(gr=ws(t.stateNode.containerInfo.firstChild),xr=t,et=!0,Jr=null,r=ab(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yi(),n===s){t=Fn(e,t,r);break e}$t(e,t,n,r)}t=t.child}return t;case 5:return ib(t),e===null&&Xf(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Hf(n,s)?o=null:i!==null&&Hf(n,i)&&(t.flags|=32),Pb(e,t),$t(e,t,o,r),t.child;case 6:return e===null&&Xf(t),null;case 13:return Ob(e,t,r);case 4:return Bm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vi(t,null,n,r):$t(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Kr(n,s),k_(e,t,n,s,r);case 7:return $t(e,t,t.pendingProps,r),t.child;case 8:return $t(e,t,t.pendingProps.children,r),t.child;case 12:return $t(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ke(hu,n._currentValue),n._currentValue=o,i!==null)if(en(i.value,o)){if(i.children===s.children&&!ar.current){t=Fn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=In(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Zf(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Zf(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,di(t,r),s=Ir(s),n=n(s),t.flags|=1,$t(e,t,n,r),t.child;case 14:return n=t.type,s=Kr(n,t.pendingProps),s=Kr(n.type,s),E_(e,t,n,s,r);case 15:return Cb(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Kr(n,s),Dc(e,t),t.tag=1,ir(n)?(e=!0,cu(t)):e=!1,di(t,r),nb(t,n,s),ep(t,n,s,r),np(null,t,n,!0,e,r);case 19:return Ab(e,t,r);case 22:return Tb(e,t,r)}throw Error(q(156,t.tag))};function Yb(e,t){return ww(e,t)}function rT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(e,t,r,n){return new rT(e,t,r,n)}function ng(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nT(e){if(typeof e=="function")return ng(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bm)return 11;if(e===jm)return 14}return 2}function Ss(e,t){var r=e.alternate;return r===null?(r=Pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ng(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ya:return ca(r.children,s,i,t);case wm:o=8,s|=8;break;case Nf:return e=Pr(12,r,t,s|2),e.elementType=Nf,e.lanes=i,e;case Sf:return e=Pr(13,r,t,s),e.elementType=Sf,e.lanes=i,e;case kf:return e=Pr(19,r,t,s),e.elementType=kf,e.lanes=i,e;case sw:return fd(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rw:o=10;break e;case nw:o=9;break e;case bm:o=11;break e;case jm:o=14;break e;case is:o=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Pr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ca(e,t,r,n){return e=Pr(7,e,n,t),e.lanes=r,e}function fd(e,t,r,n){return e=Pr(22,e,n,t),e.elementType=sw,e.lanes=r,e.stateNode={isHidden:!1},e}function jh(e,t,r){return e=Pr(6,e,null,t),e.lanes=r,e}function Nh(e,t,r){return t=Pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sh(0),this.expirationTimes=sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sg(e,t,r,n,s,i,o,l,c){return e=new sT(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Pr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zm(i),e}function aT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Jb(e){if(!e)return Ps;e=e._reactInternals;e:{if(Na(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(ir(r))return Yw(e,r,t)}return t}function Xb(e,t,r,n,s,i,o,l,c){return e=sg(r,n,!0,e,s,i,o,l,c),e.context=Jb(null),r=e.current,n=Ut(),s=Ns(r),i=In(n,s),i.callback=t??null,bs(r,i,s),e.current.lanes=s,Sl(e,s,n),or(e,n),e}function pd(e,t,r,n){var s=t.current,i=Ut(),o=Ns(s);return r=Jb(r),t.context===null?t.context=r:t.pendingContext=r,t=In(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bs(s,t,o),e!==null&&(Qr(e,s,o,i),Oc(e,s,o)),o}function bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function F_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ag(e,t){F_(e,t),(e=e.alternate)&&F_(e,t)}function iT(){return null}var Zb=typeof reportError=="function"?reportError:function(e){console.error(e)};function ig(e){this._internalRoot=e}md.prototype.render=ig.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));pd(e,t,null,null)};md.prototype.unmount=ig.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ga(function(){pd(null,e,null,null)}),t[Mn]=null}};function md(e){this._internalRoot=e}md.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cs.length&&t!==0&&t<cs[r].priority;r++);cs.splice(r,0,e),r===0&&Pw(e)}};function og(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U_(){}function oT(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=bu(o);i.call(u)}}var o=Xb(t,n,e,0,null,!1,!1,"",U_);return e._reactRootContainer=o,e[Mn]=o.current,Jo(e.nodeType===8?e.parentNode:e),ga(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=bu(c);l.call(u)}}var c=sg(e,0,!1,null,null,!1,!1,"",U_);return e._reactRootContainer=c,e[Mn]=c.current,Jo(e.nodeType===8?e.parentNode:e),ga(function(){pd(t,c,r,n)}),c}function xd(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=bu(o);l.call(c)}}pd(t,o,e,s)}else o=oT(r,t,e,s,n);return bu(o)}kw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_o(t.pendingLanes);r!==0&&(km(t,r|1),or(t,lt()),!(Ie&6)&&(ji=lt()+500,Fs()))}break;case 13:ga(function(){var n=Ln(e,1);if(n!==null){var s=Ut();Qr(n,e,1,s)}}),ag(e,1)}};Em=function(e){if(e.tag===13){var t=Ln(e,134217728);if(t!==null){var r=Ut();Qr(t,e,134217728,r)}ag(e,134217728)}};Ew=function(e){if(e.tag===13){var t=Ns(e),r=Ln(e,t);if(r!==null){var n=Ut();Qr(r,e,t,n)}ag(e,t)}};Cw=function(){return Be};Tw=function(e,t){var r=Be;try{return Be=e,t()}finally{Be=r}};$f=function(e,t,r){switch(t){case"input":if(Tf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=od(n);if(!s)throw Error(q(90));iw(n),Tf(n,s)}}}break;case"textarea":lw(e,r);break;case"select":t=r.value,t!=null&&oi(e,!!r.multiple,t,!1)}};mw=eg;gw=ga;var lT={usingClientEntryPoint:!1,Events:[El,Qa,od,fw,pw,eg]},io={findFiberByHostInstance:na,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cT={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yw(e),e===null?null:e.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||iT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{nd=sc.inject(cT),gn=sc}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lT;br.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!og(t))throw Error(q(200));return aT(e,t,null,r)};br.createRoot=function(e,t){if(!og(e))throw Error(q(299));var r=!1,n="",s=Zb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sg(e,1,!1,null,null,r,!1,n,s),e[Mn]=t.current,Jo(e.nodeType===8?e.parentNode:e),new ig(t)};br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=yw(t),e=e===null?null:e.stateNode,e};br.flushSync=function(e){return ga(e)};br.hydrate=function(e,t,r){if(!gd(t))throw Error(q(200));return xd(null,e,t,!0,r)};br.hydrateRoot=function(e,t,r){if(!og(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Zb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Xb(t,null,e,1,r??null,s,!1,i,o),e[Mn]=t.current,Jo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new md(t)};br.render=function(e,t,r){if(!gd(t))throw Error(q(200));return xd(null,e,t,!1,r)};br.unmountComponentAtNode=function(e){if(!gd(e))throw Error(q(40));return e._reactRootContainer?(ga(function(){xd(null,null,e,!1,function(){e._reactRootContainer=null,e[Mn]=null})}),!0):!1};br.unstable_batchedUpdates=eg;br.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!gd(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return xd(e,t,r,!1,n)};br.version="18.2.0-next-9e3b772b8-20220608";function Qb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qb)}catch(e){console.error(e)}}Qb(),Xv.exports=br;var Mi=Xv.exports;const ej=Uv(Mi);var z_=Mi;bf.createRoot=z_.createRoot,bf.hydrateRoot=z_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(this,arguments)}var ps;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ps||(ps={}));const B_="popstate";function uT(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return mp("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ju(s)}return hT(t,r,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dT(){return Math.random().toString(36).substr(2,8)}function W_(e,t){return{usr:e.state,key:e.key,idx:t}}function mp(e,t,r,n){return r===void 0&&(r=null),al({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Li(t):t,{state:r,key:t&&t.key||n||dT()})}function ju(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Li(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hT(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=ps.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(al({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=ps.Pop;let _=d(),f=_==null?null:_-u;u=_,c&&c({action:l,location:y.location,delta:f})}function p(_,f){l=ps.Push;let g=mp(y.location,_,f);u=d()+1;let v=W_(g,u),j=y.createHref(g);try{o.pushState(v,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function m(_,f){l=ps.Replace;let g=mp(y.location,_,f);u=d();let v=W_(g,u),j=y.createHref(g);o.replaceState(v,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function w(_){let f=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof _=="string"?_:ju(_);return g=g.replace(/ $/,"%20"),ht(f,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,f)}let y={get action(){return l},get location(){return e(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(B_,h),c=_,()=>{s.removeEventListener(B_,h),c=null}},createHref(_){return t(s,_)},createURL:w,encodeLocation(_){let f=w(_);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:m,go(_){return o.go(_)}};return y}var V_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(V_||(V_={}));function fT(e,t,r){return r===void 0&&(r="/"),pT(e,t,r)}function pT(e,t,r,n){let s=typeof t=="string"?Li(t):t,i=lg(s.pathname||"/",r);if(i==null)return null;let o=rj(e);mT(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ET(i);l=NT(o[c],u)}return l}function rj(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ht(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ks([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rj(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:bT(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of nj(i.path))s(i,o,c)}),t}function nj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=nj(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function mT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:jT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gT=/^:[\w-]+$/,xT=3,_T=2,yT=1,vT=10,wT=-2,q_=e=>e==="*";function bT(e,t){let r=e.split("/"),n=r.length;return r.some(q_)&&(n+=wT),t&&(n+=_T),r.filter(s=>!q_(s)).reduce((s,i)=>s+(gT.test(i)?xT:i===""?yT:vT),n)}function jT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function NT(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=ST({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ks([i,h.pathname]),pathnameBase:RT(ks([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ks([i,h.pathnameBase]))}return o}function ST(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=kT(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=l[h];return m&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function kT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),tj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ET(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function CT(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Li(e):e;return{pathname:r?r.startsWith("/")?r:TT(r,t):t,search:OT(n),hash:AT(s)}}function TT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Sh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function sj(e,t){let r=PT(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function aj(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Li(e):(s=al({},e),ht(!s.pathname||!s.pathname.includes("?"),Sh("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Sh("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Sh("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=CT(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ks=e=>e.join("/").replace(/\/\/+/g,"/"),RT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ij=["post","put","patch","delete"];new Set(ij);const DT=["get",...ij];new Set(DT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(this,arguments)}const cg=x.createContext(null),$T=x.createContext(null),Sa=x.createContext(null),_d=x.createContext(null),Us=x.createContext({outlet:null,matches:[],isDataRoute:!1}),oj=x.createContext(null);function MT(e,t){let{relative:r}=t===void 0?{}:t;Tl()||ht(!1);let{basename:n,navigator:s}=x.useContext(Sa),{hash:i,pathname:o,search:l}=cj(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ks([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Tl(){return x.useContext(_d)!=null}function ka(){return Tl()||ht(!1),x.useContext(_d).location}function lj(e){x.useContext(Sa).static||x.useLayoutEffect(e)}function Ze(){let{isDataRoute:e}=x.useContext(Us);return e?JT():LT()}function LT(){Tl()||ht(!1);let e=x.useContext(cg),{basename:t,future:r,navigator:n}=x.useContext(Sa),{matches:s}=x.useContext(Us),{pathname:i}=ka(),o=JSON.stringify(sj(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return lj(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=aj(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ks([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function nn(){let{matches:e}=x.useContext(Us),t=e[e.length-1];return t?t.params:{}}function cj(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Sa),{matches:s}=x.useContext(Us),{pathname:i}=ka(),o=JSON.stringify(sj(s,n.v7_relativeSplatPath));return x.useMemo(()=>aj(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function FT(e,t){return UT(e,t)}function UT(e,t,r,n){Tl()||ht(!1);let{navigator:s}=x.useContext(Sa),{matches:i}=x.useContext(Us),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ka(),d;if(t){var h;let _=typeof t=="string"?Li(t):t;c==="/"||(h=_.pathname)!=null&&h.startsWith(c)||ht(!1),d=_}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let _=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=fT(e,{pathname:m}),y=qT(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ks([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:ks([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&y?x.createElement(_d.Provider,{value:{location:il({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ps.Pop}},y):y}function zT(){let e=YT(),t=IT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const BT=x.createElement(zT,null);class WT extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Us.Provider,{value:this.props.routeContext},x.createElement(oj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VT(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(cg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Us.Provider,{value:t},n)}function qT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=r,w=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,w=!1,y=null,_=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||BT,c&&(u<0&&p===0?(XT("route-fallback"),w=!0,_=null):u===p&&(w=!0,_=h.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,p+1)),g=()=>{let v;return m?v=y:w?v=_:h.route.Component?v=x.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,x.createElement(VT,{match:h,routeContext:{outlet:d,matches:f,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?x.createElement(WT,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var uj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uj||{}),dj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dj||{});function HT(e){let t=x.useContext(cg);return t||ht(!1),t}function KT(e){let t=x.useContext($T);return t||ht(!1),t}function GT(e){let t=x.useContext(Us);return t||ht(!1),t}function hj(e){let t=GT(),r=t.matches[t.matches.length-1];return r.route.id||ht(!1),r.route.id}function YT(){var e;let t=x.useContext(oj),r=KT(),n=hj();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function JT(){let{router:e}=HT(uj.UseNavigateStable),t=hj(dj.UseNavigateStable),r=x.useRef(!1);return lj(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,il({fromRouteId:t},i)))},[e,t])}const H_={};function XT(e,t,r){H_[e]||(H_[e]=!0)}function ZT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Me(e){ht(!1)}function QT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ps.Pop,navigator:i,static:o=!1,future:l}=e;Tl()&&ht(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:il({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Li(n));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:w="default"}=n,y=x.useMemo(()=>{let _=lg(d,c);return _==null?null:{location:{pathname:_,search:h,hash:p,state:m,key:w},navigationType:s}},[c,d,h,p,m,w,s]);return y==null?null:x.createElement(Sa.Provider,{value:u},x.createElement(_d.Provider,{children:r,value:y}))}function eP(e){let{children:t,location:r}=e;return FT(gp(t),r)}new Promise(()=>{});function gp(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,gp(n.props.children,i));return}n.type!==Me&&ht(!1),!n.props.index||!n.props.children||ht(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(this,arguments)}function tP(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function rP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nP(e,t){return e.button===0&&(!t||t==="_self")&&!rP(e)}function _p(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function sP(e,t){let r=_p(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const aP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iP="6";try{window.__reactRouterVersion=iP}catch{}const oP="startTransition",K_=xm[oP];function lP(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=uT({window:s,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(h=>{u&&K_?K_(()=>c(h)):c(h)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>ZT(n),[n]),x.createElement(QT,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const cP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=tP(t,aP),{basename:m}=x.useContext(Sa),w,y=!1;if(typeof u=="string"&&uP.test(u)&&(w=u,cP))try{let v=new URL(window.location.href),j=u.startsWith("//")?new URL(v.protocol+u):new URL(u),E=lg(j.pathname,m);j.origin===v.origin&&E!=null?u=E+j.search+j.hash:y=!0}catch{}let _=MT(u,{relative:s}),f=dP(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function g(v){n&&n(v),v.defaultPrevented||f(v)}return x.createElement("a",xp({},p,{href:w||_,onClick:y||i?n:g,ref:r,target:c}))});var G_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(G_||(G_={}));var Y_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Y_||(Y_={}));function dP(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ze(),u=ka(),d=cj(e,{relative:o});return x.useCallback(h=>{if(nP(h,r)){h.preventDefault();let p=n!==void 0?n:ju(u)===ju(d);c(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function Fi(e){let t=x.useRef(_p(e)),r=x.useRef(!1),n=ka(),s=x.useMemo(()=>sP(n.search,r.current?null:t.current),[n.search]),i=Ze(),o=x.useCallback((l,c)=>{const u=_p(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var hP=e=>{switch(e){case"success":return mP;case"info":return xP;case"warning":return gP;case"error":return _P;default:return null}},fP=Array(12).fill(0),pP=({visible:e,className:t})=>G.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},G.createElement("div",{className:"sonner-spinner"},fP.map((r,n)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mP=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gP=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xP=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_P=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yP=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vP=()=>{let[e,t]=G.useState(document.hidden);return G.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},yp=1,wP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:yp++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],G.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(jP(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||yp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Jt=new wP,bP=(e,t)=>{let r=(t==null?void 0:t.id)||yp++;return Jt.addToast({title:e,...t,id:r}),r},jP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",NP=bP,SP=()=>Jt.toasts,kP=()=>Jt.getActiveToasts(),J=Object.assign(NP,{success:Jt.success,info:Jt.info,warning:Jt.warning,error:Jt.error,custom:Jt.custom,message:Jt.message,promise:Jt.promise,dismiss:Jt.dismiss,loading:Jt.loading},{getHistory:SP,getToasts:kP});function EP(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}EP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ac(e){return e.label!==void 0}var CP=3,TP="32px",PP="16px",J_=4e3,RP=356,OP=14,AP=20,IP=200;function Br(...e){return e.filter(Boolean).join(" ")}function DP(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var $P=e=>{var t,r,n,s,i,o,l,c,u,d,h;let{invert:p,toast:m,unstyled:w,interacting:y,setHeights:_,visibleToasts:f,heights:g,index:v,toasts:j,expanded:E,removeToast:N,defaultRichColors:k,closeButton:S,style:A,cancelButtonStyle:b,actionButtonStyle:R,className:T="",descriptionClassName:U="",duration:M,position:I,gap:$,loadingIcon:D,expandByDefault:C,classNames:P,icons:B,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:Z}=e,[he,ne]=G.useState(null),[ye,H]=G.useState(null),[L,Y]=G.useState(!1),[X,te]=G.useState(!1),[ie,le]=G.useState(!1),[Ae,ct]=G.useState(!1),[Ht,Kt]=G.useState(!1),[Nr,Gt]=G.useState(0),[Sr,Yi]=G.useState(0),Gn=G.useRef(m.duration||M||J_),Ji=G.useRef(null),an=G.useRef(null),Ml=v===0,Ll=v+1<=f,At=m.type,Nn=m.dismissible!==!1,Fl=m.className||"",Ul=m.descriptionClassName||"",qs=G.useMemo(()=>g.findIndex(be=>be.toastId===m.id)||0,[g,m.id]),zl=G.useMemo(()=>{var be;return(be=m.closeButton)!=null?be:S},[m.closeButton,S]),Xi=G.useMemo(()=>m.duration||M||J_,[m.duration,M]),Aa=G.useRef(0),Sn=G.useRef(0),Zi=G.useRef(0),ae=G.useRef(null),[DE,$E]=I.split("-"),Rx=G.useMemo(()=>g.reduce((be,We,Qe)=>Qe>=qs?be:be+We.height,0),[g,qs]),Ox=vP(),ME=m.invert||p,Zd=At==="loading";Sn.current=G.useMemo(()=>qs*$+Rx,[qs,Rx]),G.useEffect(()=>{Gn.current=Xi},[Xi]),G.useEffect(()=>{Y(!0)},[]),G.useEffect(()=>{let be=an.current;if(be){let We=be.getBoundingClientRect().height;return Yi(We),_(Qe=>[{toastId:m.id,height:We,position:m.position},...Qe]),()=>_(Qe=>Qe.filter(Lr=>Lr.toastId!==m.id))}},[_,m.id]),G.useLayoutEffect(()=>{if(!L)return;let be=an.current,We=be.style.height;be.style.height="auto";let Qe=be.getBoundingClientRect().height;be.style.height=We,Yi(Qe),_(Lr=>Lr.find(Fr=>Fr.toastId===m.id)?Lr.map(Fr=>Fr.toastId===m.id?{...Fr,height:Qe}:Fr):[{toastId:m.id,height:Qe,position:m.position},...Lr])},[L,m.title,m.description,_,m.id]);let Yn=G.useCallback(()=>{te(!0),Gt(Sn.current),_(be=>be.filter(We=>We.toastId!==m.id)),setTimeout(()=>{N(m)},IP)},[m,N,_,Sn]);G.useEffect(()=>{if(m.promise&&At==="loading"||m.duration===1/0||m.type==="loading")return;let be;return E||y||Z&&Ox?(()=>{if(Zi.current<Aa.current){let We=new Date().getTime()-Aa.current;Gn.current=Gn.current-We}Zi.current=new Date().getTime()})():Gn.current!==1/0&&(Aa.current=new Date().getTime(),be=setTimeout(()=>{var We;(We=m.onAutoClose)==null||We.call(m,m),Yn()},Gn.current)),()=>clearTimeout(be)},[E,y,m,At,Z,Ox,Yn]),G.useEffect(()=>{m.delete&&Yn()},[Yn,m.delete]);function LE(){var be,We,Qe;return B!=null&&B.loading?G.createElement("div",{className:Br(P==null?void 0:P.loader,(be=m==null?void 0:m.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":At==="loading"},B.loading):D?G.createElement("div",{className:Br(P==null?void 0:P.loader,(We=m==null?void 0:m.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":At==="loading"},D):G.createElement(pP,{className:Br(P==null?void 0:P.loader,(Qe=m==null?void 0:m.classNames)==null?void 0:Qe.loader),visible:At==="loading"})}return G.createElement("li",{tabIndex:0,ref:an,className:Br(T,Fl,P==null?void 0:P.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[At],(r=m==null?void 0:m.classNames)==null?void 0:r[At]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:k,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":L,"data-promise":!!m.promise,"data-swiped":Ht,"data-removed":X,"data-visible":Ll,"data-y-position":DE,"data-x-position":$E,"data-index":v,"data-front":Ml,"data-swiping":ie,"data-dismissible":Nn,"data-type":At,"data-invert":ME,"data-swipe-out":Ae,"data-swipe-direction":ye,"data-expanded":!!(E||C&&L),style:{"--index":v,"--toasts-before":v,"--z-index":j.length-v,"--offset":`${X?Nr:Sn.current}px`,"--initial-height":C?"auto":`${Sr}px`,...A,...m.style},onDragEnd:()=>{le(!1),ne(null),ae.current=null},onPointerDown:be=>{Zd||!Nn||(Ji.current=new Date,Gt(Sn.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(le(!0),ae.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,We,Qe,Lr;if(Ae||!Nn)return;ae.current=null;let Fr=Number(((be=an.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Jn=Number(((We=an.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Hs=new Date().getTime()-((Qe=Ji.current)==null?void 0:Qe.getTime()),Ur=he==="x"?Fr:Jn,Xn=Math.abs(Ur)/Hs;if(Math.abs(Ur)>=AP||Xn>.11){Gt(Sn.current),(Lr=m.onDismiss)==null||Lr.call(m,m),H(he==="x"?Fr>0?"right":"left":Jn>0?"down":"up"),Yn(),ct(!0),Kt(!1);return}le(!1),ne(null)},onPointerMove:be=>{var We,Qe,Lr,Fr;if(!ae.current||!Nn||((We=window.getSelection())==null?void 0:We.toString().length)>0)return;let Jn=be.clientY-ae.current.y,Hs=be.clientX-ae.current.x,Ur=(Qe=e.swipeDirections)!=null?Qe:DP(I);!he&&(Math.abs(Hs)>1||Math.abs(Jn)>1)&&ne(Math.abs(Hs)>Math.abs(Jn)?"x":"y");let Xn={x:0,y:0};he==="y"?(Ur.includes("top")||Ur.includes("bottom"))&&(Ur.includes("top")&&Jn<0||Ur.includes("bottom")&&Jn>0)&&(Xn.y=Jn):he==="x"&&(Ur.includes("left")||Ur.includes("right"))&&(Ur.includes("left")&&Hs<0||Ur.includes("right")&&Hs>0)&&(Xn.x=Hs),(Math.abs(Xn.x)>0||Math.abs(Xn.y)>0)&&Kt(!0),(Lr=an.current)==null||Lr.style.setProperty("--swipe-amount-x",`${Xn.x}px`),(Fr=an.current)==null||Fr.style.setProperty("--swipe-amount-y",`${Xn.y}px`)}},zl&&!m.jsx?G.createElement("button",{"aria-label":ee,"data-disabled":Zd,"data-close-button":!0,onClick:Zd||!Nn?()=>{}:()=>{var be;Yn(),(be=m.onDismiss)==null||be.call(m,m)},className:Br(P==null?void 0:P.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=B==null?void 0:B.close)!=null?i:yP):null,m.jsx||x.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,At||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:Br(P==null?void 0:P.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||LE():null,m.type!=="loading"?m.icon||(B==null?void 0:B[At])||hP(At):null):null,G.createElement("div",{"data-content":"",className:Br(P==null?void 0:P.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},G.createElement("div",{"data-title":"",className:Br(P==null?void 0:P.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:Br(U,Ul,P==null?void 0:P.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),x.isValidElement(m.cancel)?m.cancel:m.cancel&&ac(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||b,onClick:be=>{var We,Qe;ac(m.cancel)&&Nn&&((Qe=(We=m.cancel).onClick)==null||Qe.call(We,be),Yn())},className:Br(P==null?void 0:P.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,x.isValidElement(m.action)?m.action:m.action&&ac(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:be=>{var We,Qe;ac(m.action)&&((Qe=(We=m.action).onClick)==null||Qe.call(We,be),!be.defaultPrevented&&Yn())},className:Br(P==null?void 0:P.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function X_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function MP(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?PP:TP;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var LP=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:w=CP,toastOptions:y,dir:_=X_(),gap:f=OP,loadingIcon:g,icons:v,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:E}=e,[N,k]=G.useState([]),S=G.useMemo(()=>Array.from(new Set([n].concat(N.filter(Z=>Z.position).map(Z=>Z.position)))),[N,n]),[A,b]=G.useState([]),[R,T]=G.useState(!1),[U,M]=G.useState(!1),[I,$]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=G.useRef(null),C=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=G.useRef(null),B=G.useRef(!1),ee=G.useCallback(Z=>{k(he=>{var ne;return(ne=he.find(ye=>ye.id===Z.id))!=null&&ne.delete||Jt.dismiss(Z.id),he.filter(({id:ye})=>ye!==Z.id)})},[]);return G.useEffect(()=>Jt.subscribe(Z=>{if(Z.dismiss){k(he=>he.map(ne=>ne.id===Z.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{ej.flushSync(()=>{k(he=>{let ne=he.findIndex(ye=>ye.id===Z.id);return ne!==-1?[...he.slice(0,ne),{...he[ne],...Z},...he.slice(ne+1)]:[Z,...he]})})})}),[]),G.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:he})=>{$(he?"dark":"light")})}catch{Z.addListener(({matches:ne})=>{try{$(ne?"dark":"light")}catch(ye){console.error(ye)}})}},[d]),G.useEffect(()=>{N.length<=1&&T(!1)},[N]),G.useEffect(()=>{let Z=he=>{var ne,ye;s.every(H=>he[H]||he.code===H)&&(T(!0),(ne=D.current)==null||ne.focus()),he.code==="Escape"&&(document.activeElement===D.current||(ye=D.current)!=null&&ye.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),G.useEffect(()=>{if(D.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,B.current=!1)}},[D.current]),G.createElement("section",{ref:t,"aria-label":`${j} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((Z,he)=>{var ne;let[ye,H]=Z.split("-");return N.length?G.createElement("ol",{key:Z,dir:_==="auto"?X_():_,tabIndex:-1,ref:D,className:l,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":ye,"data-lifted":R&&N.length>1&&!i,"data-x-position":H,style:{"--front-toast-height":`${((ne=A[0])==null?void 0:ne.height)||0}px`,"--width":`${RP}px`,"--gap":`${f}px`,...m,...MP(c,u)},onBlur:L=>{B.current&&!L.currentTarget.contains(L.relatedTarget)&&(B.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||B.current||(B.current=!0,P.current=L.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{U||T(!1)},onDragEnd:()=>T(!1),onPointerDown:L=>{L.target instanceof HTMLElement&&L.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},N.filter(L=>!L.position&&he===0||L.position===Z).map((L,Y)=>{var X,te;return G.createElement($P,{key:L.id,icons:v,index:Y,toast:L,defaultRichColors:h,duration:(X=y==null?void 0:y.duration)!=null?X:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:w,closeButton:(te=y==null?void 0:y.closeButton)!=null?te:o,interacting:U,position:Z,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ee,toasts:N.filter(ie=>ie.position==L.position),heights:A.filter(ie=>ie.position==L.position),setHeights:b,expandByDefault:i,gap:f,loadingIcon:g,expanded:R,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});function Z_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yd(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Z_(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Z_(e[s],null)}}}}function Le(...e){return x.useCallback(yd(...e),e)}function xa(e){const t=UP(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(BP);if(c){const u=c.props.children,d=l.map(h=>h===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var FP=xa("Slot");function UP(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=VP(s),l=WP(i,s.props);return s.type!==x.Fragment&&(l.ref=n?yd(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fj=Symbol("radix.slottable");function zP(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=fj,t}function BP(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fj}function WP(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function VP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function pj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=pj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function mj(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=pj(e))&&(n&&(n+=" "),n+=t);return n}const Q_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,e0=mj,vd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return e0(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const p=Q_(d)||Q_(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(w=>{let[y,_]=w;return Array.isArray(_)?_.includes({...i,...l}[y]):{...i,...l}[y]===_})?[...u,h,p]:u},[]);return e0(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},ug="-",qP=e=>{const t=KP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ug);return l[0]===""&&l.length!==1&&l.shift(),gj(l,t)||HP(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},gj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?gj(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(ug);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},t0=/^\[(.+)\]$/,HP=e=>{if(t0.test(e)){const t=t0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},KP=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return YP(Object.entries(e.classGroups),r).forEach(([i,o])=>{vp(o,n,i,t)}),n},vp=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:r0(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(GP(s)){vp(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{vp(o,r0(t,i),r,n)})})},r0=(e,t)=>{let r=e;return t.split(ug).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},GP=e=>e.isThemeGetter,YP=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,JP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},xj="!",XP=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let _=0;_<l.length;_++){let f=l[_];if(u===0){if(f===s&&(n||l.slice(_,_+i)===t)){c.push(l.slice(d,_)),d=_+i;continue}if(f==="/"){h=_;continue}}f==="["?u++:f==="]"&&u--}const p=c.length===0?l:l.substring(d),m=p.startsWith(xj),w=m?p.substring(1):p,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},ZP=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},QP=e=>({cache:JP(e.cacheSize),parseClassName:XP(e),...qP(e)}),eR=/\s+/,tR=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(eR);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=r(u);let w=!!m,y=n(w?p.substring(0,m):p);if(!y){if(!w){l=u+(l.length>0?" "+l:l);continue}if(y=n(p),!y){l=u+(l.length>0?" "+l:l);continue}w=!1}const _=ZP(d).join(":"),f=h?_+xj:_,g=f+y;if(i.includes(g))continue;i.push(g);const v=s(y,w);for(let j=0;j<v.length;++j){const E=v[j];i.push(f+E)}l=u+(l.length>0?" "+l:l)}return l};function rR(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_j(t))&&(n&&(n+=" "),n+=r);return n}const _j=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_j(e[n]))&&(r&&(r+=" "),r+=t);return r};function nR(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=QP(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=tR(c,r);return s(c,d),d}return function(){return i(rR.apply(null,arguments))}}const Ge=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},yj=/^\[(?:([a-z-]+):)?(.+)\]$/i,sR=/^\d+\/\d+$/,aR=new Set(["px","full","screen"]),iR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kn=e=>fi(e)||aR.has(e)||sR.test(e),Qn=e=>Ui(e,"length",_R),fi=e=>!!e&&!Number.isNaN(Number(e)),kh=e=>Ui(e,"number",fi),oo=e=>!!e&&Number.isInteger(Number(e)),dR=e=>e.endsWith("%")&&fi(e.slice(0,-1)),ke=e=>yj.test(e),es=e=>iR.test(e),hR=new Set(["length","size","percentage"]),fR=e=>Ui(e,hR,vj),pR=e=>Ui(e,"position",vj),mR=new Set(["image","url"]),gR=e=>Ui(e,mR,vR),xR=e=>Ui(e,"",yR),lo=()=>!0,Ui=(e,t,r)=>{const n=yj.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},_R=e=>oR.test(e)&&!lR.test(e),vj=()=>!1,yR=e=>cR.test(e),vR=e=>uR.test(e),wR=()=>{const e=Ge("colors"),t=Ge("spacing"),r=Ge("blur"),n=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),l=Ge("borderWidth"),c=Ge("contrast"),u=Ge("grayscale"),d=Ge("hueRotate"),h=Ge("invert"),p=Ge("gap"),m=Ge("gradientColorStops"),w=Ge("gradientColorStopPositions"),y=Ge("inset"),_=Ge("margin"),f=Ge("opacity"),g=Ge("padding"),v=Ge("saturate"),j=Ge("scale"),E=Ge("sepia"),N=Ge("skew"),k=Ge("space"),S=Ge("translate"),A=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",ke,t],T=()=>[ke,t],U=()=>["",kn,Qn],M=()=>["auto",fi,ke],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",ke],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[fi,ke];return{cacheSize:500,separator:":",theme:{colors:[lo],spacing:[kn,Qn],blur:["none","",es,ke],brightness:ee(),borderColor:[e],borderRadius:["none","","full",es,ke],borderSpacing:T(),borderWidth:U(),contrast:ee(),grayscale:P(),hueRotate:ee(),invert:P(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[dR,Qn],inset:R(),margin:R(),opacity:ee(),padding:T(),saturate:ee(),scale:ee(),sepia:P(),skew:ee(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),ke]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oo,ke]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",oo,ke]}],"grid-cols":[{"grid-cols":[lo]}],"col-start-end":[{col:["auto",{span:["full",oo,ke]},ke]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[lo]}],"row-start-end":[{row:["auto",{span:[oo,ke]},ke]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,t]}],"min-w":[{"min-w":[ke,t,"min","max","fit"]}],"max-w":[{"max-w":[ke,t,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[ke,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,t,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kh]}],"font-family":[{font:[lo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",fi,kh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kn,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kn,Qn]}],"underline-offset":[{"underline-offset":["auto",kn,ke]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),pR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[kn,ke]}],"outline-w":[{outline:[kn,Qn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[kn,Qn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",es,xR]}],"shadow-color":[{shadow:[lo]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",es,ke]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[oo,ke]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[kn,Qn,kh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bR=nR(wR);function Se(...e){return bR(mj(e))}const dg=vd("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?FP:"button";return a.jsx(o,{className:Se(dg({variant:t,size:r,className:e})),ref:i,...s})});F.displayName="Button";const W=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));W.displayName="Card";const ge=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));ge.displayName="CardHeader";const xe=x.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));xe.displayName="CardTitle";const jR=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));jR.displayName="CardDescription";const V=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Se("p-6 pt-0",e),...t}));V.displayName="CardContent";const wp=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",e),...t}));wp.displayName="CardFooter";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...NR,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${SR(e)}`,l].join(" "),...u},[...t.map(([h,p])=>x.createElement(h,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=fe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=fe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=fe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=fe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=fe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=fe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=fe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=fe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=fe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=fe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=fe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),WR="modulepreload",VR=function(e){return"/"+e},o0={},Ca=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=VR(c),c in o0)return;o0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":WR,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},qR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ca(async()=>{const{default:n}=await Promise.resolve().then(()=>Bi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class xg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class HR extends xg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class l0 extends xg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class c0 extends xg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Np;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Np||(Np={}));var KR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class GR{constructor(t,{headers:r={},customFetch:n,region:s=Np.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=qR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return KR(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(y=>{throw new HR(y)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new l0(h);if(!h.ok)throw new c0(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield h.json():m==="application/octet-stream"?w=yield h.blob():m==="text/event-stream"?w=h:m==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof c0||s instanceof l0?s.context:void 0}}})}}var er={},_g={},bd={},Rl={},jd={},Nd={},YR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Si=YR();const JR=Si.fetch,kj=Si.fetch.bind(Si),Ej=Si.Headers,XR=Si.Request,ZR=Si.Response,Bi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ej,Request:XR,Response:ZR,default:kj,fetch:JR},Symbol.toStringTag,{value:"Module"})),QR=FE(Bi);var Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});let eO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Sd.default=eO;var Cj=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nd,"__esModule",{value:!0});const tO=Cj(QR),rO=Cj(Sd);let nO=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,h=null,p=null,m=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const _=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),f=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&f&&f.length>1&&(p=parseInt(f[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,m=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await i.text();try{d=JSON.parse(_),Array.isArray(d)&&i.status===404&&(h=[],d=null,m=200,w="OK")}catch{i.status===404&&_===""?(m=204,w="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,w="OK"),d&&this.shouldThrowOnError)throw new rO.default(d)}return{error:d,data:h,count:p,status:m,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Nd.default=nO;var sO=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jd,"__esModule",{value:!0});const aO=sO(Nd);let iO=class extends aO.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};jd.default=iO;var oO=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rl,"__esModule",{value:!0});const lO=oO(jd);let cO=class extends lO.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Rl.default=cO;var uO=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bd,"__esModule",{value:!0});const co=uO(Rl);let dO=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new co.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new co.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new co.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new co.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new co.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};bd.default=dO;var Tj=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_g,"__esModule",{value:!0});const hO=Tj(bd),fO=Tj(Rl);let pO=class Pj{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new hO.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Pj(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{c.searchParams.append(h,p)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new fO.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};_g.default=pO;var Wi=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(er,"__esModule",{value:!0});er.PostgrestError=er.PostgrestBuilder=er.PostgrestTransformBuilder=er.PostgrestFilterBuilder=er.PostgrestQueryBuilder=er.PostgrestClient=void 0;const Rj=Wi(_g);er.PostgrestClient=Rj.default;const Oj=Wi(bd);er.PostgrestQueryBuilder=Oj.default;const Aj=Wi(Rl);er.PostgrestFilterBuilder=Aj.default;const Ij=Wi(jd);er.PostgrestTransformBuilder=Ij.default;const Dj=Wi(Nd);er.PostgrestBuilder=Dj.default;const $j=Wi(Sd);er.PostgrestError=$j.default;var mO=er.default={PostgrestClient:Rj.default,PostgrestQueryBuilder:Oj.default,PostgrestFilterBuilder:Aj.default,PostgrestTransformBuilder:Ij.default,PostgrestBuilder:Dj.default,PostgrestError:$j.default};const{PostgrestClient:gO,PostgrestQueryBuilder:$F,PostgrestFilterBuilder:MF,PostgrestTransformBuilder:LF,PostgrestBuilder:FF,PostgrestError:UF}=mO;class xO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _O="2.15.4",yO=`realtime-js/${_O}`,vO="1.0.0",Sp=1e4,wO=1e3,bO=100;var Mo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mo||(Mo={}));var ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ft||(ft={}));var Yr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yr||(Yr={}));var kp;(function(e){e.websocket="websocket"})(kp||(kp={}));var Zs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zs||(Zs={}));class jO{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Mj{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const u0=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=NO(o,e,t,s),i),{})},NO=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Lj(i,o):Ep(o)},Lj=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return CO(t,r)}switch(e){case Ve.bool:return SO(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return kO(t);case Ve.json:case Ve.jsonb:return EO(t);case Ve.timestamp:return TO(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Ep(t);default:return Ep(t)}},Ep=e=>e,SO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},EO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},CO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Lj(t,l))}return e},TO=e=>typeof e=="string"?e.replace(" ","T"):e,Fj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ch{constructor(t,r,n={},s=Sp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var d0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(d0||(d0={}));class Lo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Lo.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Lo.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const p=d.map(_=>_.presence_ref),m=h.map(_=>_.presence_ref),w=d.filter(_=>m.indexOf(_.presence_ref)<0),y=h.filter(_=>p.indexOf(_.presence_ref)<0);w.length>0&&(l[u]=w),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),p=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var h0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(h0||(h0={}));var Fo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fo||(Fo={}));var Pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class yg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ch(this,Yr.join,this.params,this.timeout),this.rejoinTimer=new Mj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Lo(this),this.broadcastEndpointURL=Fj(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Fo.PRESENCE]&&this.bindings[Fo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Pn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Pn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket.setAuth(),m===void 0){t==null||t(Pn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,f=[];for(let g=0;g<_;g++){const v=y[g],{filter:{event:j,schema:E,table:N,filter:k}}=v,S=m&&m[g];if(S&&S.event===j&&S.schema===E&&S.table===N&&S.filter===k)f.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),this.state=ft.errored,t==null||t(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,t&&t(Pn.SUBSCRIBED);return}}).receive("error",m=>{this.state=ft.errored,t==null||t(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ft.joined&&t===Fo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ft.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ch(this,Yr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ch(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bO){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Yr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,y,_;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(y=m.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var w,y,_,f,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,E=(w=m.filter)===null||w===void 0?void 0:w.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const j=(g=(f=m==null?void 0:m.filter)===null||f===void 0?void 0:f.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:y,table:_,commit_timestamp:f,type:g,errors:v}=w;p=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:f,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(w))}m.callback(p,n)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yg.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yr.close,{},t)}_onError(t){this._on(Yr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=u0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=u0(t.columns,t.old_record)),r}}const Th=()=>{},ic={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PO=[1e3,2e3,5e3,1e4],RO=1e4,OO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AO{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sp,this.transport=null,this.heartbeatIntervalMs=ic.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Th,this.ref=0,this.reconnectTimer=null,this.logger=Th,this.conn=null,this.sendBuffer=[],this.serializer=new jO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Ca(async()=>{const{default:l}=await Promise.resolve().then(()=>Bi);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${kp.websocket}`,this.httpEndpoint=Fj(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vO}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mo.connecting:return Zs.Connecting;case Mo.open:return Zs.Open;case Mo.closing:return Zs.Closing;default:return Zs.Closed}}isConnected(){return this.connectionState()===Zs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new yg(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wO,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ic.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([OO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:yO};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Yr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Mj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ic.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Sp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ic.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Th,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>PO[h-1]||RO,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class vg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class IO extends vg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cp extends vg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var DO=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Uj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ca(async()=>{const{default:n}=await Promise.resolve().then(()=>Bi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$O=()=>DO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ca(()=>Promise.resolve().then(()=>Bi),void 0)).Response:Response}),Tp=e=>{if(Array.isArray(e))return e.map(r=>Tp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Tp(n)}),t},MO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ta=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ph=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LO=(e,t,r)=>Ta(void 0,void 0,void 0,function*(){const n=yield $O();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new IO(Ph(s),i,o))}).catch(s=>{t(new Cp(Ph(s),s))}):t(new Cp(Ph(e),e))}),FO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(MO(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ol(e,t,r,n,s,i){return Ta(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,FO(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>LO(c,l,n))})})}function ku(e,t,r,n){return Ta(this,void 0,void 0,function*(){return Ol(e,"GET",t,r,n)})}function hn(e,t,r,n,s){return Ta(this,void 0,void 0,function*(){return Ol(e,"POST",t,n,s,r)})}function Pp(e,t,r,n,s){return Ta(this,void 0,void 0,function*(){return Ol(e,"PUT",t,n,s,r)})}function UO(e,t,r,n){return Ta(this,void 0,void 0,function*(){return Ol(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function zj(e,t,r,n,s){return Ta(this,void 0,void 0,function*(){return Ol(e,"DELETE",t,n,s,r)})}var It=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const zO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BO{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Uj(s)}uploadOrUpdate(t,r,n,s){return It(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},f0),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Pp:hn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(pt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return It(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:f0.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Pp(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(pt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return It(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield hn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new vg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}update(t,r,n){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return It(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return It(this,void 0,void 0,function*(){try{return{data:{path:(yield hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return It(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield hn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return It(this,void 0,void 0,function*(){try{const s=yield hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}download(t,r){return It(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ku(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(pt(l))return{data:null,error:l};throw l}})}info(t){return It(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ku(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tp(n),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}exists(t){return It(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield UO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(pt(n)&&n instanceof Cp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return It(this,void 0,void 0,function*(){try{return{data:yield zj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}list(t,r,n){return It(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},zO),r),{prefix:t||""});return{data:yield hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}listV2(t,r){return It(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const WO="2.11.0",VO={"X-Client-Info":`storage-js/${WO}`};var Da=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class qO{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},VO),r),this.fetch=Uj(n)}listBuckets(){return Da(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}getBucket(t){return Da(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Da(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Da(this,void 0,void 0,function*(){try{return{data:yield Pp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Da(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Da(this,void 0,void 0,function*(){try{return{data:yield zj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}}class HO extends qO{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new BO(this.url,this.headers,t,this.fetch)}}const KO="2.56.1";let vo="";typeof Deno<"u"?vo="deno":typeof document<"u"?vo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vo="react-native":vo="node";const GO={"X-Client-Info":`supabase-js-${vo}/${KO}`},YO={headers:GO},JO={schema:"public"},XO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZO={};var QO=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const eA=e=>{let t;return e?t=e:typeof fetch>"u"?t=kj:t=fetch,(...r)=>t(...r)},tA=()=>typeof Headers>"u"?Ej:Headers,rA=(e,t,r)=>{const n=eA(r),s=tA();return(i,o)=>QO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var nA=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function sA(e){return e.endsWith("/")?e:e+"/"}function aA(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>nA(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const Bj="2.71.1",Va=30*1e3,Rp=3,Rh=Rp*Va,iA="http://localhost:9999",oA="supabase.auth.token",lA={"X-Client-Info":`gotrue-js/${Bj}`},Op="X-Supabase-Api-Version",Wj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uA=10*60*1e3;class wg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class dA extends wg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function hA(e){return je(e)&&e.name==="AuthApiError"}class Vj extends wg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Bs extends wg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class rs extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fA(e){return je(e)&&e.name==="AuthSessionMissingError"}class oc extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lc extends Bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cc extends Bs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pA(e){return je(e)&&e.name==="AuthImplicitGrantRedirectError"}class p0 extends Bs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ap extends Bs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Oh(e){return je(e)&&e.name==="AuthRetryableFetchError"}class m0 extends Bs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ip extends Bs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g0=` 	
\r=`.split(""),mA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<g0.length;t+=1)e[g0[t].charCodeAt(0)]=-2;for(let t=0;t<Eu.length;t+=1)e[Eu[t].charCodeAt(0)]=t;return e})();function x0(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Eu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Eu[n]),t.queuedBits-=6}}function qj(e,t,r){const n=mA[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _0(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{_A(o,n,r)};for(let o=0;o<e.length;o+=1)qj(e.charCodeAt(o),s,i);return t.join("")}function gA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xA(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}gA(n,t)}}function _A(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function yA(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)qj(e.charCodeAt(s),r,n);return new Uint8Array(t)}function vA(e){const t=[];return xA(e,r=>t.push(r)),new Uint8Array(t)}function wA(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>x0(s,r,n)),x0(null,r,n),t.join("")}function bA(e){return Math.round(Date.now()/1e3)+e}function jA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vr=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},Hj=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function NA(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Kj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ca(async()=>{const{default:n}=await Promise.resolve().then(()=>Bi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},SA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qa=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Gs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ts=async(e,t)=>{await e.removeItem(t)};class kd{constructor(){this.promise=new kd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}kd.promiseConstructor=Promise;function Ah(e){const t=e.split(".");if(t.length!==3)throw new Ip("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!cA.test(t[n]))throw new Ip("JWT not in base64url format");return{header:JSON.parse(_0(t[0])),payload:JSON.parse(_0(t[1])),signature:yA(t[2]),raw:{header:t[0],payload:t[1]}}}async function kA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function EA(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function CA(e){return("0"+e.toString(16)).substr(-2)}function TA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,CA).join("")}async function PA(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function RA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await PA(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $a(e,t,r=!1){const n=TA();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await qa(e,`${t}-code-verifier`,s);const i=await RA(n);return[i,n===i?"plain":"s256"]}const OA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AA(e){const t=e.headers.get(Op);if(!t||!t.match(OA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function IA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function DA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $A=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ma(e){if(!$A.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ih(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function y0(e){return JSON.parse(JSON.stringify(e))}var MA=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LA=[502,503,504];async function v0(e){var t;if(!SA(e))throw new Ap(Xs(e),0);if(LA.includes(e.status))throw new Ap(Xs(e),e.status);let r;try{r=await e.json()}catch(i){throw new Vj(Xs(i),i)}let n;const s=AA(e);if(s&&s.getTime()>=Wj["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new m0(Xs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new rs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new m0(Xs(r),e.status,r.weak_password.reasons);throw new dA(Xs(r),e.status||500,n)}const FA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Re(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Op]||(i[Op]=Wj["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await UA(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function UA(e,t,r,n,s,i){const o=FA(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Ap(Xs(c),0)}if(l.ok||await v0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await v0(c)}}function Cn(e){var t;let r=null;VA(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=bA(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function w0(e){const t=Cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zA(e){return{data:e,error:null}}function BA(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=MA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function WA(e){return e}function VA(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dh=["global","local","others"];var qA=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class HA{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Kj(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Dh[0]){if(Dh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dh.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ds})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=qA(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:BA,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ds})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:WA});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(je(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ma(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ds})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ma(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ds})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ma(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ds})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ma(t.userId);try{const{data:r,error:n}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ma(t.userId),Ma(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}function b0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function KA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const La={debug:!!(globalThis&&Hj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class GA extends Gj{}async function YA(e,t,r){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),La.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){La.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{La.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw La.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new GA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(La.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}KA();const JA={url:iA,storageKey:oA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function j0(e,t,r){return await r()}const Fa={};class cl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cl.nextInstanceID,cl.nextInstanceID+=1,this.instanceID>0&&Vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},JA),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new HA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kj(s.fetch),this.lock=s.lock||j0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Vr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=YA:this.lock=j0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Hj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=b0(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=b0(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Fa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Fa[this.storageKey]=Object.assign(Object.assign({},Fa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Fa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fa[this.storageKey]=Object.assign(Object.assign({},Fa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bj}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=NA(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Vr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pA(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?{error:r}:{error:new Vj("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await $a(this.storage,this.storageKey)),i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:w},xform:Cn})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Cn})}else throw new lc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:w0})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:w0})}else throw new lc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new oc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,h,p,m;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:_,wallet:f,statement:g,options:v}=t;let j;if(Vr())if(typeof f=="object")j=f;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=f}const E=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),g?{statement:g}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:_,error:f}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:wA(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Cn});if(f)throw f;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new oc}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:f})}catch(_){if(je(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Cn});if(await ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new oc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(je(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Cn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new oc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $a(this.storage,this.storageKey));const{error:h}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new lc("You must provide either an email or phone number.")}catch(l){if(je(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Cn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await $a(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:zA})}catch(i){if(je(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new rs;const{error:s}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(je(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new lc("You must provide either an email or phone number and a type")}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Rh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Gs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ih()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ds}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ds})})}catch(r){if(je(r))return fA(r)&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new rs;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $a(this.storage,this.storageKey));const{data:u,error:d}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ds});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rs;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ah(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(je(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new rs;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Vr())throw new cc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new p0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new p0("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new cc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const m=p-d;m*1e3<=Va&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const w=p-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,d);const{data:y,error:_}=await this._getUser(i);if(_)throw _;const f={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:t.type},error:null}}catch(n){if(je(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(hA(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=jA(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await $a(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(je(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Vr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(je(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await EA(async s=>(s>0&&await kA(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Oh(i)&&Date.now()+o-n<Va})}catch(n){if(this._debug(r,"error",n),je(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Gs(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await qa(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ih()}else if(s&&!s.user&&!s.user){const o=await Gs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ts(this.storage,this.storageKey+"-user"),await qa(this.storage,this.storageKey,s)):s.user=Ih()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Rh;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Rh}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Oh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new kd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new rs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),je(i)){const o={session:null,error:i};return Oh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await qa(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=y0(s);await qa(this.storage,this.storageKey,i)}else{const s=y0(r);await qa(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ts(this.storage,this.storageKey),await ts(this.storage,this.storageKey+"-code-verifier"),await ts(this.storage,this.storageKey+"-user"),this.userStorage&&await ts(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Va);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Va);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Va}ms, refresh threshold is ${Rp} ticks`),s<=Rp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await $a(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ah(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+uA>s)return n;const{data:i,error:o}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Ah(n);r!=null&&r.allowExpired||IA(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=DA(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,vA(`${l}.${c}`)))throw new Ip("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}}cl.nextInstanceID=0;const XA=cl;class ZA extends XA{constructor(t){super(t)}}var QA=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class eI{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=sA(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:JO,realtime:ZO,auth:Object.assign(Object.assign({},XO),{storageKey:u}),global:YO},h=aA(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=rA(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new gO(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new HO(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new GR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return QA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZA({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new AO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tI=(e,t,r)=>new eI(e,t,r);function rI(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}rI()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nI={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_URL:"https://disaster-shield-v2.vercel.app",VITE_FORCE_REAL_EMAILS:"true",VITE_RESEND_API_KEY:"re_VrH2LFmB_5wwrTzGgXAEbYwVguAgeoMmf",VITE_RESEND_FROM:"info@disastershield.net",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_51RmEVUGYzYF1t9Ad7djSEPmRdbwDewYDFiJZeFxB0jDkhkp7cKHo0p6D0R5E7sNaD4OK0GivOj7mot9lKjCvyvdL00ne4jRqtG",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sd3NhYWZmeHpkYXhpb2p5anNlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0OTI2NDMsImV4cCI6MjA3MjA2ODY0M30.XrERjaWSEeHpcZdCdsRixjI3OvsKBhIxwUfHhEvoLUk",VITE_SUPABASE_URL:"https://nlwsaaffxzdaxiojyjse.supabase.co",VITE_TWILIO_ACCOUNT_SID:"AC098ef5754a54e7143d2d6f2c36556630",VITE_USE_DIRECT_RESEND:"false"};function Wr(e){try{return nI[e]}catch{return}}const Tr={SUPABASE_URL:Wr("VITE_SUPABASE_URL"),SUPABASE_ANON_KEY:Wr("VITE_SUPABASE_ANON_KEY"),RESEND_API_KEY:Wr("VITE_RESEND_API_KEY"),RESEND_FROM:Wr("VITE_RESEND_FROM"),USE_DIRECT_RESEND:Wr("VITE_USE_DIRECT_RESEND")==="true",FORCE_REAL_EMAILS:Wr("VITE_FORCE_REAL_EMAILS")==="true",STRIPE_PUBLISHABLE_KEY:Wr("VITE_STRIPE_PUBLISHABLE_KEY"),APP_URL:Wr("VITE_APP_URL")||(typeof window<"u"?window.location.origin:"https://disaster-shield-v2.vercel.app"),TWILIO_ACCOUNT_SID:Wr("VITE_TWILIO_ACCOUNT_SID"),TWILIO_AUTH_TOKEN:Wr("TWILIO_AUTH_TOKEN"),TWILIO_PHONE_NUMBER:Wr("TWILIO_PHONE_NUMBER")},ii=Tr.SUPABASE_URL,Cu=Tr.SUPABASE_ANON_KEY,bg=!!(ii&&Cu&&ii!=="your_supabase_project_url"&&Cu!=="your_supabase_anon_key"&&String(ii).startsWith("https://")&&String(ii).includes(".supabase.co"));console.log("Supabase configuration check:",{supabaseUrl:ii?"Set":"Not set",supabaseAnonKey:Cu?"Set":"Not set",isConfigured:bg});const O=bg?(()=>{try{const e=tI(String(ii),String(Cu),{auth:{persistSession:!0,autoRefreshToken:!0},global:{headers:{"X-Client-Info":"disastershield-web"}}});return console.log("✅ Supabase client created successfully"),e}catch(e){return console.error("❌ Failed to create Supabase client:",e),null}})():(console.error("❌ Supabase not configured properly. Check your environment variables."),console.error("Expected VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to be set."),null),_t=bg;O!=null&&O.auth;function de(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function sI(e,t){const r=x.createContext(t),n=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function qn(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=h=>{var f;const{scope:p,children:m,...w}=h,y=((f=p==null?void 0:p[e])==null?void 0:f[c])||l,_=x.useMemo(()=>w,Object.values(w));return a.jsx(y.Provider,{value:_,children:m})};u.displayName=i+"Provider";function d(h,p){var y;const m=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,w=x.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,aI(s,...t)]}function aI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ot=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},iI=xm[" useId ".trim().toString()]||(()=>{}),oI=0;function Dn(e){const[t,r]=x.useState(iI());return Ot(()=>{r(n=>n??String(oI++))},[e]),t?`radix-${t}`:""}var lI=xm[" useInsertionEffect ".trim().toString()]||Ot;function ki({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=cI({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var h;if(l){const p=uI(d)?d(e):d;p!==e&&((h=o.current)==null||h.call(o,p))}else i(d)},[l,e,i,o]);return[c,u]}function cI({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return lI(()=>{i.current=t},[t]),x.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function uI(e){return typeof e=="function"}var dI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=dI.reduce((e,t)=>{const r=xa(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Yj(e,t){e&&Mi.flushSync(()=>e.dispatchEvent(t))}function vn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function hI(e,t=globalThis==null?void 0:globalThis.document){const r=vn(e);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var fI="DismissableLayer",Dp="dismissableLayer.update",pI="dismissableLayer.pointerDownOutside",mI="dismissableLayer.focusOutside",N0,Jj=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ed=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(Jj),[d,h]=x.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),w=Le(t,k=>h(k)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),f=y.indexOf(_),g=d?y.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=f,E=_I(k=>{const S=k.target,A=[...u.branches].some(b=>b.contains(S));!j||A||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},p),N=yI(k=>{const S=k.target;[...u.branches].some(b=>b.contains(S))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},p);return hI(k=>{g===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(N0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),S0(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=N0)}},[d,p,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),S0())},[d,u]),x.useEffect(()=>{const k=()=>m({});return document.addEventListener(Dp,k),()=>document.removeEventListener(Dp,k)},[]),a.jsx(Ce.div,{...c,ref:w,style:{pointerEvents:v?j?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,N.onFocusCapture),onBlurCapture:de(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,E.onPointerDownCapture)})});Ed.displayName=fI;var gI="DismissableLayerBranch",xI=x.forwardRef((e,t)=>{const r=x.useContext(Jj),n=x.useRef(null),s=Le(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Ce.div,{...e,ref:s})});xI.displayName=gI;function _I(e,t=globalThis==null?void 0:globalThis.document){const r=vn(e),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){Xj(pI,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function yI(e,t=globalThis==null?void 0:globalThis.document){const r=vn(e),n=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!n.current&&Xj(mI,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function S0(){const e=new CustomEvent(Dp);document.dispatchEvent(e)}function Xj(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Yj(s,i):s.dispatchEvent(i)}var $h="focusScope.autoFocusOnMount",Mh="focusScope.autoFocusOnUnmount",k0={bubbles:!1,cancelable:!0},vI="FocusScope",Cd=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=vn(s),d=vn(i),h=x.useRef(null),p=Le(t,y=>c(y)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(v){if(m.paused||!l)return;const j=v.target;l.contains(j)?h.current=j:ns(h.current,{select:!0})},_=function(v){if(m.paused||!l)return;const j=v.relatedTarget;j!==null&&(l.contains(j)||ns(h.current,{select:!0}))},f=function(v){if(document.activeElement===document.body)for(const E of v)E.removedNodes.length>0&&ns(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const g=new MutationObserver(f);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),g.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){C0.add(m);const y=document.activeElement;if(!l.contains(y)){const f=new CustomEvent($h,k0);l.addEventListener($h,u),l.dispatchEvent(f),f.defaultPrevented||(wI(kI(Zj(l)),{select:!0}),document.activeElement===y&&ns(l))}return()=>{l.removeEventListener($h,u),setTimeout(()=>{const f=new CustomEvent(Mh,k0);l.addEventListener(Mh,d),l.dispatchEvent(f),f.defaultPrevented||ns(y??document.body,{select:!0}),l.removeEventListener(Mh,d),C0.remove(m)},0)}}},[l,u,d,m]);const w=x.useCallback(y=>{if(!r&&!n||m.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,f=document.activeElement;if(_&&f){const g=y.currentTarget,[v,j]=bI(g);v&&j?!y.shiftKey&&f===j?(y.preventDefault(),r&&ns(v,{select:!0})):y.shiftKey&&f===v&&(y.preventDefault(),r&&ns(j,{select:!0})):f===g&&y.preventDefault()}},[r,n,m.paused]);return a.jsx(Ce.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});Cd.displayName=vI;function wI(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ns(n,{select:t}),document.activeElement!==r)return}function bI(e){const t=Zj(e),r=E0(t,e),n=E0(t.reverse(),e);return[r,n]}function Zj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function E0(e,t){for(const r of e)if(!jI(r,{upTo:t}))return r}function jI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function NI(e){return e instanceof HTMLInputElement&&"select"in e}function ns(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&NI(e)&&t&&e.select()}}var C0=SI();function SI(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=T0(e,t),e.unshift(t)},remove(t){var r;e=T0(e,t),(r=e[0])==null||r.resume()}}}function T0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function kI(e){return e.filter(t=>t.tagName!=="A")}var EI="Portal",Td=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=x.useState(!1);Ot(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?ej.createPortal(a.jsx(Ce.div,{...n,ref:t}),o):null});Td.displayName=EI;function CI(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Hn=e=>{const{present:t,children:r}=e,n=TI(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=Le(n.ref,PI(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};Hn.displayName="Presence";function TI(e){const[t,r]=x.useState(),n=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=CI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=uc(n.current);i.current=l==="mounted"?u:"none"},[l]),Ot(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,m=uc(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ot(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const y=uc(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(c("ANIMATION_END"),!s.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},p=m=>{m.target===t&&(i.current=uc(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function uc(e){return(e==null?void 0:e.animationName)||"none"}function PI(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Lh=0;function jg(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??P0()),document.body.insertAdjacentElement("beforeend",e[1]??P0()),Lh++,()=>{Lh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lh--}},[])}function P0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var pn=function(){return pn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pn.apply(this,arguments)};function Qj(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function RI(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Fc="right-scroll-bar-position",Uc="width-before-scroll-bar",OI="with-scroll-bars-hidden",AI="--removed-body-scroll-bar-size";function Fh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function II(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var DI=typeof window<"u"?x.useLayoutEffect:x.useEffect,R0=new WeakMap;function $I(e,t){var r=II(null,function(n){return e.forEach(function(s){return Fh(s,n)})});return DI(function(){var n=R0.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Fh(l,null)}),i.forEach(function(l){s.has(l)||Fh(l,o)})}R0.set(r,e)},[e]),r}function MI(e){return e}function LI(e,t){t===void 0&&(t=MI);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function FI(e){e===void 0&&(e={});var t=LI(null);return t.options=pn({async:!0,ssr:!1},e),t}var e1=function(e){var t=e.sideCar,r=Qj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,pn({},r))};e1.isSideCarExport=!0;function UI(e,t){return e.useMedium(t),e1}var t1=FI(),Uh=function(){},Pd=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:Uh,onWheelCapture:Uh,onTouchMoveCapture:Uh}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,m=e.noRelative,w=e.noIsolation,y=e.inert,_=e.allowPinchZoom,f=e.as,g=f===void 0?"div":f,v=e.gapMode,j=Qj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,N=$I([r,t]),k=pn(pn({},j),s);return x.createElement(x.Fragment,null,d&&x.createElement(E,{sideCar:t1,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:y,setCallbacks:i,allowPinchZoom:!!_,lockRef:r,gapMode:v}),o?x.cloneElement(x.Children.only(l),pn(pn({},k),{ref:N})):x.createElement(g,pn({},k,{className:c,ref:N}),l))});Pd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pd.classNames={fullWidth:Uc,zeroRight:Fc};var zI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zI();return t&&e.setAttribute("nonce",t),e}function WI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function VI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var qI=function(){var e=0,t=null;return{add:function(r){e==0&&(t=BI())&&(WI(t,r),VI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},HI=function(){var e=qI();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},r1=function(){var e=HI(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},KI={left:0,top:0,right:0,gap:0},zh=function(e){return parseInt(e||"",10)||0},GI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[zh(r),zh(n),zh(s)]},YI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return KI;var t=GI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},JI=r1(),pi="data-scroll-locked",XI=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(OI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(pi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Uc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Uc," .").concat(Uc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(pi,`] {
    `).concat(AI,": ").concat(l,`px;
  }
`)},O0=function(){var e=parseInt(document.body.getAttribute(pi)||"0",10);return isFinite(e)?e:0},ZI=function(){x.useEffect(function(){return document.body.setAttribute(pi,(O0()+1).toString()),function(){var e=O0()-1;e<=0?document.body.removeAttribute(pi):document.body.setAttribute(pi,e.toString())}},[])},QI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;ZI();var i=x.useMemo(function(){return YI(s)},[s]);return x.createElement(JI,{styles:XI(i,!t,s,r?"":"!important")})},$p=!1;if(typeof window<"u")try{var dc=Object.defineProperty({},"passive",{get:function(){return $p=!0,!0}});window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{$p=!1}var Ua=$p?{passive:!1}:!1,e4=function(e){return e.tagName==="TEXTAREA"},n1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!e4(e)&&r[t]==="visible")},t4=function(e){return n1(e,"overflowY")},r4=function(e){return n1(e,"overflowX")},A0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=s1(e,n);if(s){var i=a1(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},n4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},s4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},s1=function(e,t){return e==="v"?t4(t):r4(t)},a1=function(e,t){return e==="v"?n4(t):s4(t)},a4=function(e,t){return e==="h"&&t==="rtl"?-1:1},i4=function(e,t,r,n,s){var i=a4(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,p=0;do{if(!l)break;var m=a1(e,l),w=m[0],y=m[1],_=m[2],f=y-_-i*w;(w||f)&&s1(e,l)&&(h+=f,p+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},hc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},I0=function(e){return[e.deltaX,e.deltaY]},D0=function(e){return e&&"current"in e?e.current:e},o4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},l4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},c4=0,za=[];function u4(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(c4++)[0],i=x.useState(r1)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=RI([e.lockRef.current],(e.shards||[]).map(D0),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var f=hc(y),g=r.current,v="deltaX"in y?y.deltaX:g[0]-f[0],j="deltaY"in y?y.deltaY:g[1]-f[1],E,N=y.target,k=Math.abs(v)>Math.abs(j)?"h":"v";if("touches"in y&&k==="h"&&N.type==="range")return!1;var S=A0(k,N);if(!S)return!0;if(S?E=k:(E=k==="v"?"h":"v",S=A0(k,N)),!S)return!1;if(!n.current&&"changedTouches"in y&&(v||j)&&(n.current=E),!E)return!0;var A=n.current||E;return i4(A,_,y,A==="h"?v:j)},[]),c=x.useCallback(function(y){var _=y;if(!(!za.length||za[za.length-1]!==i)){var f="deltaY"in _?I0(_):hc(_),g=t.current.filter(function(E){return E.name===_.type&&(E.target===_.target||_.target===E.shadowParent)&&o4(E.delta,f)})[0];if(g&&g.should){_.cancelable&&_.preventDefault();return}if(!g){var v=(o.current.shards||[]).map(D0).filter(Boolean).filter(function(E){return E.contains(_.target)}),j=v.length>0?l(_,v[0]):!o.current.noIsolation;j&&_.cancelable&&_.preventDefault()}}},[]),u=x.useCallback(function(y,_,f,g){var v={name:y,delta:_,target:f,should:g,shadowParent:d4(f)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(j){return j!==v})},1)},[]),d=x.useCallback(function(y){r.current=hc(y),n.current=void 0},[]),h=x.useCallback(function(y){u(y.type,I0(y),y.target,l(y,e.lockRef.current))},[]),p=x.useCallback(function(y){u(y.type,hc(y),y.target,l(y,e.lockRef.current))},[]);x.useEffect(function(){return za.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ua),document.addEventListener("touchmove",c,Ua),document.addEventListener("touchstart",d,Ua),function(){za=za.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Ua),document.removeEventListener("touchmove",c,Ua),document.removeEventListener("touchstart",d,Ua)}},[]);var m=e.removeScrollBar,w=e.inert;return x.createElement(x.Fragment,null,w?x.createElement(i,{styles:l4(s)}):null,m?x.createElement(QI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function d4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const h4=UI(t1,u4);var Rd=x.forwardRef(function(e,t){return x.createElement(Pd,pn({},e,{ref:t,sideCar:h4}))});Rd.classNames=Pd.classNames;var f4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ba=new WeakMap,fc=new WeakMap,pc={},Bh=0,i1=function(e){return e&&(e.host||i1(e.parentNode))},p4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=i1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},m4=function(e,t,r,n){var s=p4(t,Array.isArray(e)?e:[e]);pc[r]||(pc[r]=new WeakMap);var i=pc[r],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var m=p.getAttribute(n),w=m!==null&&m!=="false",y=(Ba.get(p)||0)+1,_=(i.get(p)||0)+1;Ba.set(p,y),i.set(p,_),o.push(p),y===1&&w&&fc.set(p,!0),_===1&&p.setAttribute(r,"true"),w||p.setAttribute(n,"true")}catch(f){console.error("aria-hidden: cannot operate on ",p,f)}})};return d(t),l.clear(),Bh++,function(){o.forEach(function(h){var p=Ba.get(h)-1,m=i.get(h)-1;Ba.set(h,p),i.set(h,m),p||(fc.has(h)||h.removeAttribute(n),fc.delete(h)),m||h.removeAttribute(r)}),Bh--,Bh||(Ba=new WeakMap,Ba=new WeakMap,fc=new WeakMap,pc={})}},Ng=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=f4(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),m4(n,s,r,"aria-hidden")):function(){return null}},Od="Dialog",[o1,l1]=qn(Od),[g4,sn]=o1(Od),c1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=ki({prop:n,defaultProp:s??!1,onChange:i,caller:Od});return a.jsx(g4,{scope:t,triggerRef:l,contentRef:c,contentId:Dn(),titleId:Dn(),descriptionId:Dn(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};c1.displayName=Od;var u1="DialogTrigger",d1=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=sn(u1,r),i=Le(t,s.triggerRef);return a.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Eg(s.open),...n,ref:i,onClick:de(e.onClick,s.onOpenToggle)})});d1.displayName=u1;var Sg="DialogPortal",[x4,h1]=o1(Sg,{forceMount:void 0}),f1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=sn(Sg,t);return a.jsx(x4,{scope:t,forceMount:r,children:x.Children.map(n,o=>a.jsx(Hn,{present:r||i.open,children:a.jsx(Td,{asChild:!0,container:s,children:o})}))})};f1.displayName=Sg;var Tu="DialogOverlay",p1=x.forwardRef((e,t)=>{const r=h1(Tu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=sn(Tu,e.__scopeDialog);return i.modal?a.jsx(Hn,{present:n||i.open,children:a.jsx(y4,{...s,ref:t})}):null});p1.displayName=Tu;var _4=xa("DialogOverlay.RemoveScroll"),y4=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=sn(Tu,r);return a.jsx(Rd,{as:_4,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ce.div,{"data-state":Eg(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),_a="DialogContent",m1=x.forwardRef((e,t)=>{const r=h1(_a,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=sn(_a,e.__scopeDialog);return a.jsx(Hn,{present:n||i.open,children:i.modal?a.jsx(v4,{...s,ref:t}):a.jsx(w4,{...s,ref:t})})});m1.displayName=_a;var v4=x.forwardRef((e,t)=>{const r=sn(_a,e.__scopeDialog),n=x.useRef(null),s=Le(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return Ng(i)},[]),a.jsx(g1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:de(e.onFocusOutside,i=>i.preventDefault())})}),w4=x.forwardRef((e,t)=>{const r=sn(_a,e.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(g1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),g1=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=sn(_a,r),c=x.useRef(null),u=Le(t,c);return jg(),a.jsxs(a.Fragment,{children:[a.jsx(Cd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Ed,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Eg(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(j4,{titleId:l.titleId}),a.jsx(S4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),kg="DialogTitle",x1=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=sn(kg,r);return a.jsx(Ce.h2,{id:s.titleId,...n,ref:t})});x1.displayName=kg;var _1="DialogDescription",y1=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=sn(_1,r);return a.jsx(Ce.p,{id:s.descriptionId,...n,ref:t})});y1.displayName=_1;var v1="DialogClose",w1=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=sn(v1,r);return a.jsx(Ce.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>s.onOpenChange(!1))})});w1.displayName=v1;function Eg(e){return e?"open":"closed"}var b1="DialogTitleWarning",[b4,j1]=sI(b1,{contentName:_a,titleName:kg,docsSlug:"dialog"}),j4=({titleId:e})=>{const t=j1(b1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},N4="DialogDescriptionWarning",S4=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${j1(N4).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},N1=c1,S1=d1,k1=f1,Cg=p1,Tg=m1,Pg=x1,Rg=y1,Og=w1;const k4=N1,E4=S1,C4=k1,E1=x.forwardRef(({className:e,...t},r)=>a.jsx(Cg,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));E1.displayName=Cg.displayName;const T4=vd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),C1=x.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(C4,{children:[a.jsx(E1,{}),a.jsxs(Tg,{ref:s,className:Se(T4({side:e}),t),...n,children:[r,a.jsxs(Og,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Ni,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));C1.displayName=Tg.displayName;const P4=x.forwardRef(({className:e,...t},r)=>a.jsx(Pg,{ref:r,className:Se("text-lg font-semibold text-foreground",e),...t}));P4.displayName=Pg.displayName;const R4=x.forwardRef(({className:e,...t},r)=>a.jsx(Rg,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));R4.displayName=Rg.displayName;const O4=vd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ue({className:e,variant:t,...r}){return a.jsx("div",{className:Se(O4({variant:t}),e),...r})}function A4(e){const[t,r]=x.useState([]),[n,s]=x.useState(0),[i,o]=x.useState(!0);return x.useEffect(()=>{if(!e||!_t||!O){o(!1);return}(async()=>{try{const{data:h,error:p}=await O.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(50);if(p){console.error("Error fetching notifications:",p);return}r(h||[]),s((h==null?void 0:h.filter(m=>!m.read).length)||0)}catch(h){console.error("Error fetching notifications:",h)}finally{o(!1)}})();const d=O.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},h=>{if(h.eventType==="INSERT"){const p=h.new;r(m=>[p,...m.slice(0,49)]),p.read||s(m=>m+1)}else if(h.eventType==="UPDATE"){const p=h.new;r(m=>m.map(w=>w.id===p.id?p:w)),r(m=>(s(m.filter(w=>!w.read).length),m))}}).subscribe();return()=>{d.unsubscribe()}},[e]),{notifications:t,unreadCount:n,loading:i,markAsRead:async u=>{if(!_t||!O||!e){console.warn("Supabase not configured or user not authenticated - cannot mark notification as read");return}try{const{error:d}=await O.from("notifications").update({read:!0}).eq("id",u).eq("user_id",e);if(d){console.error("Error marking notification as read:",d);return}r(h=>h.map(p=>p.id===u?{...p,read:!0}:p)),s(h=>Math.max(0,h-1))}catch(d){console.error("Error marking notification as read:",d)}},markAllAsRead:async()=>{if(!_t||!O||!e){console.warn("Supabase not configured or user not authenticated - cannot mark all notifications as read");return}try{const{error:u}=await O.from("notifications").update({read:!0}).eq("user_id",e).eq("read",!1);if(u){console.error("Error marking all notifications as read:",u);return}r(d=>d.map(h=>({...h,read:!0}))),s(0)}catch(u){console.error("Error marking all notifications as read:",u)}}}}function bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function I4(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const mc=43200,$0=1440;let D4={};function $4(){return D4}function M0(e){const t=bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function zc(e,t){const r=bt(e),n=bt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function M4(e){return I4(e,Date.now())}function L4(e,t){const r=bt(e),n=bt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function F4(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function U4(e,t){return+bt(e)-+bt(t)}function z4(e){const t=bt(e);return t.setHours(23,59,59,999),t}function B4(e){const t=bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function W4(e){const t=bt(e);return+z4(t)==+B4(t)}function V4(e,t){const r=bt(e),n=bt(t),s=zc(r,n),i=Math.abs(L4(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=zc(r,n)===-s;W4(bt(e))&&i===1&&zc(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function q4(e,t,r){const n=U4(e,t)/1e3;return F4(r==null?void 0:r.roundingMethod)(n)}const H4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},K4=(e,t,r)=>{let n;const s=H4[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Wh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const G4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Y4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},J4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X4={date:Wh({formats:G4,defaultWidth:"full"}),time:Wh({formats:Y4,defaultWidth:"full"}),dateTime:Wh({formats:J4,defaultWidth:"full"})},Z4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Q4=(e,t,r,n)=>Z4[e];function uo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const e6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},r6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},n6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},a6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},i6=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},o6={ordinalNumber:i6,era:uo({values:e6,defaultWidth:"wide"}),quarter:uo({values:t6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:uo({values:r6,defaultWidth:"wide"}),day:uo({values:n6,defaultWidth:"wide"}),dayPeriod:uo({values:s6,defaultWidth:"wide",formattingValues:a6,defaultFormattingWidth:"wide"})};function ho(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?c6(l,h=>h.test(o)):l6(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function l6(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function c6(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function u6(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const d6=/^(\d+)(th|st|nd|rd)?/i,h6=/\d+/i,f6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},p6={any:[/^b/i,/^(a|c)/i]},m6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g6={any:[/1/i,/2/i,/3/i,/4/i]},x6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},v6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},w6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},j6={ordinalNumber:u6({matchPattern:d6,parsePattern:h6,valueCallback:e=>parseInt(e,10)}),era:ho({matchPatterns:f6,defaultMatchWidth:"wide",parsePatterns:p6,defaultParseWidth:"any"}),quarter:ho({matchPatterns:m6,defaultMatchWidth:"wide",parsePatterns:g6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ho({matchPatterns:x6,defaultMatchWidth:"wide",parsePatterns:_6,defaultParseWidth:"any"}),day:ho({matchPatterns:y6,defaultMatchWidth:"wide",parsePatterns:v6,defaultParseWidth:"any"}),dayPeriod:ho({matchPatterns:w6,defaultMatchWidth:"any",parsePatterns:b6,defaultParseWidth:"any"})},N6={code:"en-US",formatDistance:K4,formatLong:X4,formatRelative:Q4,localize:o6,match:j6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S6(e,t,r){const n=$4(),s=(r==null?void 0:r.locale)??n.locale??N6,i=2520,o=zc(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=bt(t),u=bt(e)):(c=bt(e),u=bt(t));const d=q4(u,c),h=(M0(u)-M0(c))/1e3,p=Math.round((d-h)/60);let m;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<$0){const w=Math.round(p/60);return s.formatDistance("aboutXHours",w,l)}else{if(p<i)return s.formatDistance("xDays",1,l);if(p<mc){const w=Math.round(p/$0);return s.formatDistance("xDays",w,l)}else if(p<mc*2)return m=Math.round(p/mc),s.formatDistance("aboutXMonths",m,l)}if(m=V4(u,c),m<12){const w=Math.round(p/mc);return s.formatDistance("xMonths",w,l)}else{const w=m%12,y=Math.trunc(m/12);return w<3?s.formatDistance("aboutXYears",y,l):w<9?s.formatDistance("overXYears",y,l):s.formatDistance("almostXYears",y+1,l)}}function k6(e,t){return S6(e,M4(e),t)}function vr({userId:e}){const[t,r]=x.useState(!1),n=x.useRef(null),{notifications:s,unreadCount:i,loading:o,markAsRead:l,markAllAsRead:c}=A4(e),[u,d]=x.useState(null),[h,p]=x.useState(null);if(x.useEffect(()=>{if((async()=>{if(!(!_t||!O))try{const{data:{user:f}}=await O.auth.getUser();if(d(f),f){const{data:g}=await O.from("profiles").select("*").eq("id",f.id).maybeSingle();p(g)}}catch(f){console.error("Error fetching user data:",f)}})(),_t&&O){const{data:{subscription:f}}=O.auth.onAuthStateChange((g,v)=>{d((v==null?void 0:v.user)||null),p(null)});return()=>f.unsubscribe()}},[]),x.useEffect(()=>{const _=f=>{n.current&&!n.current.contains(f.target)&&r(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]),!_t||!u)return null;const m=_=>{switch(_){case"job_posted":return"🚨";case"contractor_matched":return"🤝";case"job_accepted":return"✅";case"job_declined":return"❌";case"payment_received":return"💰";case"project_updated":return"📋";case"inspection_scheduled":return"📅";default:return"📢"}},w=_=>{switch(_){case"job_posted":return"bg-red-100 text-red-800";case"contractor_matched":return"bg-blue-100 text-blue-800";case"job_accepted":return"bg-green-100 text-green-800";case"job_declined":return"bg-gray-100 text-gray-800";case"payment_received":return"bg-yellow-100 text-yellow-800";case"project_updated":return"bg-purple-100 text-purple-800";case"inspection_scheduled":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},y=_=>{var f,g;_.read||l(_.id),(f=_.data)!=null&&f.projectId?window.location.href=`/portal/${_.data.projectId}`:(g=_.data)!=null&&g.url&&(window.location.href=_.data.url)};return a.jsxs("div",{className:"relative",ref:n,children:[a.jsxs(F,{variant:"ghost",size:"sm",className:"relative p-2",onClick:()=>r(!t),children:[a.jsx(bj,{className:"h-5 w-5"}),i>0&&a.jsx(Ue,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center bg-red-500 text-white text-xs",children:i>99?"99+":i})]}),t&&a.jsx("div",{className:"absolute right-0 top-full mt-2 w-72 max-w-[85vw] sm:w-80 md:w-96 z-50",style:{right:"max(-15vw, -30px)"},children:a.jsxs(W,{className:"shadow-lg border-0 max-h-96 overflow-hidden",children:[a.jsx(ge,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(xe,{className:"text-lg",children:"Notifications"}),a.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&a.jsxs(F,{variant:"ghost",size:"sm",onClick:c,className:"text-xs",children:[a.jsx(ER,{className:"h-4 w-4 mr-1"}),"Mark all read"]}),a.jsx(F,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:a.jsx(Ni,{className:"h-4 w-4"})})]})]})}),a.jsx(V,{className:"p-0 max-h-80 overflow-y-auto",children:o?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading notifications..."}):s.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}):a.jsx("div",{className:"divide-y",children:s.map(_=>a.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${_.read?"":"bg-blue-50"}`,onClick:()=>y(_),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-lg flex-shrink-0",children:m(_.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:_.title}),!_.read&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:_.message}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ue,{className:`text-xs ${w(_.type)} border-0`,children:_.type.replace("_"," ")}),a.jsx("span",{className:"text-xs text-gray-500",children:k6(new Date(_.created_at),{addSuffix:!0})})]})]})]})},_.id))})})]})})]})}const Yt={SECURITY_DEPOSIT:{id:"prod_SzIHDxwI57wzXS",priceId:"price_1S3JgcGYzYF1t9Ad8ePdG8yh",name:"Security Deposit",description:"Refundable security deposit to begin work",mode:"payment",amount:5e4},DISASTERSHIELD_SERVICE_FEE:{id:"prod_SzICBjmQuceCDb",priceId:"price_1S3JcEGYzYF1t9AdTLLyfj8o",name:"DisasterShield Service Fee",description:"Platform matching and claim management service",mode:"payment",amount:9900},REPAIR_COST_ESTIMATE:{id:"prod_DYNAMIC_REPAIR_COST",priceId:"price_DYNAMIC_REPAIR_COST",name:"Repair Cost Estimate",description:"Contractor estimate for repair work",mode:"payment",amount:0},FNOL_GENERATION_FEE:{id:"prod_T19oCXAy5c5fHQ",priceId:"price_1S57UuGYzYF1t9Adw8Ktj3IY",name:"FNOL Generation Fee",description:"Creating and approving the First Notice of Loss document",mode:"payment",amount:1e4}};console.log("Using Stripe TEST products with price IDs:",Object.values(Yt).map(e=>e.priceId));function da(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e/100)}async function T1(e){try{const t=Yt[e.productKey];console.log(`Creating checkout session for product: ${t.name} (${t.priceId})`),console.log(`Product mode: ${t.mode}, Stripe mode: TEST`);const{data:{session:r},error:n}=await O.auth.getSession();if(n||!r)throw new Error("Authentication required");console.log(`Making request to Stripe checkout endpoint with price_id: ${t.priceId}`);try{const s=await fetch("https://nlwsaaffxzdaxiojyjse.supabase.co/functions/v1/stripe-checkout",{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({price_id:t.priceId,mode:t.mode,success_url:e.successUrl,cancel_url:e.cancelUrl,project_id:e.projectId,product_id:e.productKey})}),i=await s.text();console.log("Response from checkout endpoint:",i);let o;try{o=JSON.parse(i)}catch{throw console.error("Response is not valid JSON:",i),new Error("Invalid response from payment server")}if(!s.ok)throw console.error("Stripe checkout error:",o),new Error(o.message||o.error||"Failed to create checkout session");const{sessionId:l,url:c}=o;if(console.log(`Successfully created Stripe checkout session: ${l}`),!c)throw new Error("No checkout URL returned from server");return{sessionId:l,url:c}}catch(s){throw console.error("Fetch error creating checkout session:",s),s.message&&s.message.includes("NetworkError")?new Error("Network error connecting to payment server. Please check your internet connection."):s}}catch(t){throw console.error("Error creating checkout session:",t),t}}async function P1(e){try{if(window!==window.top){window.top.location.href=e;return}window.location.href=e}catch(t){throw console.error("Checkout redirect failed:",t),new Error("Failed to redirect to checkout")}}async function E6(){var e;try{const{data:t,error:r}=await O.from("stripe_customers").select("customer_id").eq("user_id",(e=(await O.auth.getUser()).data.user)==null?void 0:e.id).maybeSingle();if(r)return console.error("Error fetching customer data:",r),null;if(!t)return console.log("No Stripe customer found for user"),null;const{data:n,error:s}=await O.from("stripe_subscriptions").select("*").eq("customer_id",t.customer_id).maybeSingle();return s?(console.error("Error fetching subscription:",s),null):n}catch(t){return console.error("Error fetching subscription:",t),null}}async function Ag(e){try{const{data:{user:t},error:r}=await O.auth.getUser();if(r||!t)return console.error("Error getting user:",r),[];const{data:n,error:s}=await O.from("stripe_customers").select("customer_id").eq("user_id",t.id).maybeSingle();if(s)return console.error("Error fetching customer data:",s),[];if(!n)return console.log("No Stripe customer found for user"),[];let i=O.from("stripe_orders").select("*").eq("customer_id",n.customer_id).order("created_at",{ascending:!1});e&&(i=i.eq("project_id",e));const{data:o,error:l}=await i;return l?(console.error("Error fetching orders:",l),[]):o||[]}catch(t){return console.error("Error fetching orders:",t),[]}}function Pu({userId:e,showCard:t=!1}){const[r,n]=x.useState(null),[s,i]=x.useState(!0);if(x.useEffect(()=>{(async()=>{if(!e||!_t){i(!1);return}try{const h=await E6();n(h)}catch(h){console.error("Error loading subscription:",h),n(null)}finally{i(!1)}})()},[e]),!_t||s)return null;const o=d=>{switch(d){case"active":return"bg-green-100 text-green-800";case"trialing":return"bg-blue-100 text-blue-800";case"past_due":return"bg-yellow-100 text-yellow-800";case"canceled":case"unpaid":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=d=>{switch(d){case"active":return a.jsx(RR,{className:"h-4 w-4"});case"trialing":return a.jsx(it,{className:"h-4 w-4"});case"past_due":case"canceled":case"unpaid":return a.jsx(Pt,{className:"h-4 w-4"});default:return null}},c=d=>{if(!r||!r.subscription_status)return"One-Time Payment";switch(d){case"active":return"Premium Plan";case"trialing":return"Trial Period";case"past_due":return"Payment Due";case"canceled":return"Canceled";case"unpaid":return"Payment Failed";case"not_started":return"One-Time Payment";default:return"One-Time Payment"}},u=a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Ue,{className:`border-0 ${o((r==null?void 0:r.subscription_status)||"not_started")}`,children:a.jsxs("span",{className:"flex items-center gap-1",children:[l((r==null?void 0:r.subscription_status)||"not_started"),c((r==null?void 0:r.subscription_status)||"not_started")]})})});return t?a.jsx(W,{className:"shadow-lg",children:a.jsxs(V,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Plan"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:c((r==null?void 0:r.subscription_status)||"not_started")})]}),l((r==null?void 0:r.subscription_status)||"not_started")]}),(r==null?void 0:r.current_period_end)&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[r.cancel_at_period_end?"Expires":"Renews"," on"," ",new Date(r.current_period_end*1e3).toLocaleDateString()]}),!r&&a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Pay for services as you use them"})]})}):u}var C6="Separator",L0="horizontal",T6=["horizontal","vertical"],R1=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=L0,...s}=e,i=P6(n)?n:L0,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Ce.div,{"data-orientation":i,...l,...s,ref:t})});R1.displayName=C6;function P6(e){return T6.includes(e)}var O1=R1;const A1=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(O1,{ref:s,decorative:r,orientation:t,className:Se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));A1.displayName=O1.displayName;function Ru({userId:e}){const[t,r]=x.useState(!1),[n,s]=x.useState([]),[i,o]=x.useState({}),[l,c]=x.useState(!0),[u,d]=x.useState(null),h=x.useRef(null);if(x.useEffect(()=>{if((async()=>{if(!(!_t||!O))try{const{data:{user:j}}=await O.auth.getUser();d(j)}catch(j){console.error("Error fetching user data:",j)}})(),_t&&O){const{data:{subscription:j}}=O.auth.onAuthStateChange((E,N)=>{d((N==null?void 0:N.user)||null)});return()=>j.unsubscribe()}},[]),x.useEffect(()=>{(async()=>{if(!u||!_t){c(!1);return}try{c(!0);const j=await Ag();s(j);const E=Array.from(new Set(j.map(N=>N.project_id).filter(Boolean)));if(E.length>0){const{data:N,error:k}=await O.from("projects").select("id, address, city, state, peril, status, payment_status").in("id",E);if(!k&&N){const S=N.reduce((A,b)=>(A[b.id]=b,A),{});o(S)}}}catch(j){console.error("Error loading orders:",j)}finally{c(!1)}})()},[u]),x.useEffect(()=>{const v=j=>{h.current&&!h.current.contains(j.target)&&r(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),!_t||!u)return null;const p=v=>{switch(v){case"completed":return a.jsx(tt,{className:"h-4 w-4 text-green-600"});case"pending":return a.jsx(it,{className:"h-4 w-4 text-yellow-600"});case"canceled":return a.jsx(Pt,{className:"h-4 w-4 text-red-600"});default:return a.jsx(it,{className:"h-4 w-4 text-gray-600"})}},m=v=>{switch(v){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=v=>{switch(v){case"SECURITY_DEPOSIT":return"Security Deposit";case"DISASTERSHIELD_SERVICE_FEE":return"Service Fee";case"REPAIR_COST_ESTIMATE":return"Repair Cost";case"FNOL_GENERATION_FEE":return"FNOL Generation";default:return"Payment"}},y=v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_=n.filter(v=>v.status==="completed").reduce((v,j)=>v+j.amount_total,0),f=n.filter(v=>v.status==="pending").length,g=n.filter(v=>v.status==="completed").length;return a.jsxs("div",{className:"relative",ref:h,children:[a.jsxs(F,{variant:"ghost",size:"sm",className:"relative p-2",onClick:()=>r(!t),children:[a.jsx(i0,{className:"h-5 w-5"}),n.length>0&&a.jsx(Ue,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center bg-blue-500 text-white text-xs",children:n.length>99?"99+":n.length})]}),t&&a.jsx("div",{className:"absolute right-0 top-full mt-2 w-96 z-50",children:a.jsxs(W,{className:"shadow-lg border-0 max-h-96 overflow-hidden",children:[a.jsx(ge,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(xe,{className:"text-lg flex items-center gap-2",children:[a.jsx(fg,{className:"h-5 w-5"}),"Payment History"]}),a.jsx(F,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:a.jsx(Ni,{className:"h-4 w-4"})})]})}),a.jsx(V,{className:"p-0 max-h-80 overflow-y-auto",children:l?a.jsxs("div",{className:"p-4 text-center text-gray-500",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),"Loading payment history..."]}):n.length===0?a.jsxs("div",{className:"p-4 text-center text-gray-500",children:[a.jsx(i0,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm",children:"No payments yet"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Your payment history will appear here"})]}):a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"p-3 bg-gray-50 border-b",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-semibold text-green-600",children:g}),a.jsx("div",{className:"text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-semibold text-yellow-600",children:f}),a.jsx("div",{className:"text-gray-500",children:"Pending"})]})]}),a.jsx(A1,{className:"my-2"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-semibold text-blue-600",children:da(_)}),a.jsx("div",{className:"text-gray-500",children:"Total Spent"})]})]}),n.slice(0,10).map(v=>{const j=v.project_id?i[v.project_id]:null;return a.jsx("div",{className:"p-3 hover:bg-gray-50 border-b last:border-b-0",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p(v.status),a.jsx("span",{className:"font-medium text-sm",children:w(v.product_id)}),a.jsx(Ue,{className:`text-xs border-0 ${m(v.status)}`,children:v.status})]}),j&&a.jsx("div",{className:"text-xs text-gray-600 mb-1",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ot,{className:"h-3 w-3"}),j.address,", ",j.city,", ",j.state]})}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(Pl,{className:"h-3 w-3"}),y(v.created_at)]})]}),a.jsxs("div",{className:"text-right ml-2",children:[a.jsx("div",{className:"font-semibold text-sm",children:da(v.amount_total)}),v.status==="completed"&&a.jsxs("div",{className:"text-xs text-green-600 flex items-center gap-1",children:[a.jsx(tt,{className:"h-3 w-3"}),"Paid"]})]})]})},v.id)}),n.length>10&&a.jsxs("div",{className:"p-3 text-center text-sm text-gray-500 border-t",children:["Showing 10 of ",n.length," payments"]})]})}),n.length>0&&a.jsx("div",{className:"p-3 border-t bg-gray-50",children:a.jsx(z,{to:"/client/dashboard",children:a.jsxs(F,{variant:"outline",size:"sm",className:"w-full",children:[a.jsx(AR,{className:"h-4 w-4 mr-2"}),"View All Payments"]})})})]})})]})}function Pa({user:e,userRole:t="client",showShoppingCart:r=!0,showSettings:n=!0,settingsLink:s="/profile",welcomeText:i,onSignOut:o,showBackButton:l=!1,backButtonText:c="Back",backButtonLink:u="/",showNavLinks:d=!1,navLinks:h=[]}){const[p,m]=x.useState(!1),w=ka(),y=()=>{var j,E;if(i)return i;switch(t){case"contractor":return`Welcome, ${((j=e==null?void 0:e.user_metadata)==null?void 0:j.full_name)||((E=e==null?void 0:e.email)==null?void 0:E.split("@")[0])||"User"}`;case"admin":return"Admin Portal";default:return"Welcome back!"}},_=()=>{switch(t){case"contractor":return"Settings";case"admin":return"Admin Settings";default:return"Profile"}},f=()=>{switch(t){case"contractor":return a.jsx(ll,{className:"h-4 w-4"});case"admin":return a.jsx(ll,{className:"h-4 w-4"});default:return a.jsx(wd,{className:"h-4 w-4"})}},g=()=>a.jsxs("div",{className:"hidden lg:flex items-center w-full relative",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[l&&a.jsxs(z,{to:u,className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),c&&a.jsx("span",{className:"text-sm font-medium",children:c})]}),a.jsxs(z,{to:"/",className:"flex items-center space-x-2",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DisasterShield"})]})]}),d&&h.length>0&&a.jsx("nav",{className:"absolute left-1/2 transform -translate-x-1/2 flex space-x-8",children:h.map(j=>a.jsx(z,{to:j.href,className:`text-gray-700 hover:text-blue-600 transition-all duration-300 font-medium relative ${w.pathname===j.href?"text-blue-600 font-semibold":""}`,children:j.label},j.href))}),a.jsxs("div",{className:"flex items-center space-x-4 ml-auto",children:[e&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm text-gray-600",children:y()}),t==="client"&&(e==null?void 0:e.role)==="admin"&&a.jsx(z,{to:"/admin",children:a.jsx(F,{variant:"outline",size:"sm",children:"Admin Portal"})}),r&&t==="client"&&a.jsx(Ru,{userId:e==null?void 0:e.id}),a.jsx(vr,{}),a.jsx(Pu,{userId:e==null?void 0:e.id}),n&&a.jsx(z,{to:s,children:a.jsxs(F,{variant:"outline",size:"sm",children:[f(),a.jsx("span",{className:"ml-2",children:_()})]})})]}),e?o&&a.jsxs(F,{variant:"outline",onClick:o,children:[a.jsx(s0,{className:"h-4 w-4 mr-2"}),"Sign Out"]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z,{to:"/auth/login",children:a.jsx(F,{variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:"Sign In"})}),a.jsx(z,{to:"/auth/signup",children:a.jsx(F,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Sign Up"})})]})]})]}),v=()=>a.jsxs(k4,{open:p,onOpenChange:m,children:[a.jsx(E4,{asChild:!0,children:a.jsx(F,{variant:"ghost",size:"sm",children:a.jsx(LR,{className:"h-5 w-5"})})}),a.jsx(C1,{side:"right",className:"w-80 max-w-[90vw] sm:max-w-[85vw]",children:a.jsxs("div",{className:"flex flex-col space-y-6 mt-6",children:[e&&a.jsx("div",{className:"text-sm text-gray-600 border-b pb-4",children:y()}),d&&h.length>0&&a.jsx("div",{className:"border-b pb-4",children:h.map(j=>a.jsx(z,{to:j.href,onClick:()=>m(!1),className:"block py-2 text-gray-700 hover:text-blue-600 transition-colors",children:j.label},j.href))}),e&&a.jsxs(a.Fragment,{children:[t==="client"&&(e==null?void 0:e.role)==="admin"&&a.jsxs(z,{to:"/admin",onClick:()=>m(!1),className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors",children:[a.jsx(me,{className:"h-4 w-4"}),a.jsx("span",{children:"Admin Portal"})]}),r&&t==="client"&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Payment History"}),a.jsx(Ru,{userId:e==null?void 0:e.id})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Subscription"}),a.jsx(Pu,{userId:e==null?void 0:e.id})]}),n&&a.jsxs(z,{to:s,onClick:()=>m(!1),className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors",children:[f(),a.jsx("span",{children:_()})]})]}),e?o&&a.jsxs(F,{variant:"outline",onClick:()=>{o(),m(!1)},className:"w-full justify-start",children:[a.jsx(s0,{className:"h-4 w-4 mr-2"}),"Sign Out"]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{to:"/auth/login",onClick:()=>m(!1),className:"block",children:a.jsx(F,{variant:"outline",className:"w-full border-blue-600 text-blue-600 hover:bg-blue-50",children:"Sign In"})}),a.jsx(z,{to:"/auth/signup",onClick:()=>m(!1),className:"block",children:a.jsx(F,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Sign Up"})})]})]})})]});return a.jsx("header",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[g(),a.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[e&&a.jsx(vr,{}),v()]})]})})})}function R6(){var o,l,c,u,d;Ze();const[e,t]=x.useState(null),[r,n]=x.useState(!0),[s,i]=x.useState(null);return x.useEffect(()=>{(async()=>{try{if(!_t||!O){console.log("Supabase not configured, skipping auth check"),t(null),i(null),n(!1);return}try{const{data:{session:m},error:w}=await O.auth.getSession();if(w){console.log("No active session:",w.message),t(null),i(null),n(!1);return}const y=(m==null?void 0:m.user)||null;if(t(y),y)try{const{data:_,error:f}=await O.from("profiles").select("*").eq("id",y.id).maybeSingle();!f&&_&&i(_)}catch(_){console.log("Error fetching profile:",_),i(null)}else i(null)}catch(m){console.log("Supabase fetch error (likely network/CORS):",m),t(null),i(null)}}catch(m){console.log("Supabase connection error:",m),t(null),i(null)}n(!1)})();let p=null;if(_t&&O)try{const{data:{subscription:m}}=O.auth.onAuthStateChange((w,y)=>{t((y==null?void 0:y.user)||null),i(null)});p=m}catch(m){console.log("Error setting up auth listener:",m),p=null}return()=>{p&&typeof p.unsubscribe=="function"&&p.unsubscribe()}},[]),a.jsxs("div",{className:"min-h-screen",children:[a.jsx("div",{className:"border-b border-white/20 bg-white/95 backdrop-blur-sm sticky top-0 z-50",children:a.jsx(Pa,{user:e,userRole:(s==null?void 0:s.role)||((o=e==null?void 0:e.user_metadata)==null?void 0:o.role)||"client",showShoppingCart:(s==null?void 0:s.role)==="client"||((l=e==null?void 0:e.user_metadata)==null?void 0:l.role)==="client",showSettings:!1,showNavLinks:!0,navLinks:[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"Contact",href:"/contact"}],welcomeText:e?`Welcome, ${(s==null?void 0:s.full_name)||((c=e.user_metadata)==null?void 0:c.full_name)||((u=e.email)==null?void 0:u.split("@")[0])||"User"}`:void 0,onSignOut:async()=>{O&&(await O.auth.signOut(),window.location.href="/")}})}),a.jsxs("section",{className:"relative pt-20 pb-32 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800"}),a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-8 leading-tight",children:["From Disaster to Repair",a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"in Minutes — Not Weeks"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Skip the paperwork maze. Our digital platform connects you with vetted contractors instantly, generates professional claim packets, and gets repairs started fast."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e&&(s==null?void 0:s.role)!=="contractor"&&(s==null?void 0:s.role)!=="admin"?a.jsx(z,{to:"/intake",children:a.jsxs(F,{size:"lg",className:"text-lg px-8 py-4 bg-orange-500 hover:bg-orange-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:["Start My Claim",a.jsx(Xr,{className:"ml-2 h-5 w-5"})]})}):e?null:a.jsx(z,{to:"/auth/login",children:a.jsxs(F,{size:"lg",className:"text-lg px-8 py-4 bg-orange-500 hover:bg-orange-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:["Sign In to File Claim",a.jsx(Xr,{className:"ml-2 h-5 w-5"})]})}),a.jsx(z,{to:"/auth/signup?role=contractor",children:a.jsx(F,{size:"lg",variant:"outline",className:"text-lg px-8 py-4 border-2 border-white/80 text-white bg-white/10 hover:bg-white hover:text-blue-700 transition-all duration-300",children:"Join as Contractor"})})]}),!e&&a.jsxs("div",{className:"mt-6 text-center",children:[a.jsx("p",{className:"text-blue-100 mb-2",children:"Already have an account?"}),a.jsxs("div",{className:"relative inline-block",children:[a.jsx("span",{className:"absolute -left-8 top-0 text-2xl text-yellow-400 animate-bounce",children:"→"}),a.jsx("span",{className:"absolute -right-8 top-0 text-2xl text-yellow-400 animate-bounce",children:"←"}),a.jsx(z,{to:"/auth/login",className:"text-blue-100 hover:text-white transition-colors font-medium px-4 py-2 rounded-lg hover:bg-white/10",children:"Sign In Here"})]})]})]})})]}),a.jsx("section",{className:"py-24 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"How DisasterShield Works"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Our streamlined process gets you from disaster to repair faster than traditional methods"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsx(W,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(IR,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"1. File Your Claim"}),a.jsx("p",{className:"text-gray-600",children:"Complete our simple 5-minute intake form with photos and details about your damage."})]})}),a.jsx(W,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ua,{className:"h-8 w-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"2. Get Matched"}),a.jsx("p",{className:"text-gray-600",children:"Our system instantly matches you with qualified local contractors in your area."})]})}),a.jsx(W,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(it,{className:"h-8 w-8 text-purple-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"3. Schedule Fast"}),a.jsx("p",{className:"text-gray-600",children:"Contractors respond within hours. Schedule inspections and get work started immediately."})]})}),a.jsx(W,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(tt,{className:"h-8 w-8 text-orange-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"4. Track Progress"}),a.jsx("p",{className:"text-gray-600",children:"Monitor your claim status, view professional packets, and manage payments all in one place."})]})})]})]})}),a.jsx("section",{className:"py-24 bg-gradient-to-r from-blue-600 to-indigo-700",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Get Your Property Restored?"}),a.jsx("p",{className:"text-xl text-blue-100 mb-10",children:"Join thousands of homeowners who've streamlined their insurance claims with DisasterShield"}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e&&(s==null?void 0:s.role)!=="contractor"&&(s==null?void 0:s.role)!=="admin"?a.jsx(z,{to:"/intake",children:a.jsxs(F,{size:"lg",className:"text-lg px-10 py-4 bg-orange-500 hover:bg-orange-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:["Start My Claim Now",a.jsx(Xr,{className:"ml-2 h-5 w-5"})]})}):e?e&&((s==null?void 0:s.role)==="admin"||((d=e.user_metadata)==null?void 0:d.role)==="admin")?a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-blue-100 text-lg",children:"Admin users can access the admin portal"}),a.jsx(z,{to:"/admin",children:a.jsx(F,{size:"lg",variant:"outline",className:"mt-4 text-lg px-10 py-4 border-2 border-white/80 text-white bg-white/10 hover:bg-white hover:text-blue-700 transition-all duration-300",children:"Go to Admin Portal"})})]}):a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-blue-100 text-lg",children:"Contractors can browse available jobs in their dashboard"}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{size:"lg",variant:"outline",className:"mt-4 text-lg px-10 py-4 border-2 border-white/80 text-white bg-white/10 hover:bg-white hover:text-blue-700 transition-all duration-300",children:"Go to Dashboard"})})]}):a.jsx(z,{to:"/auth/login",children:a.jsxs(F,{size:"lg",className:"text-lg px-10 py-4 bg-orange-500 hover:bg-orange-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:["Sign In to File Claim",a.jsx(Xr,{className:"ml-2 h-5 w-5"})]})})})]})}),a.jsx("footer",{className:"bg-gray-900 text-white py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(me,{className:"h-8 w-8 text-blue-400"}),a.jsx("span",{className:"text-xl font-bold",children:"DisasterShield"})]}),a.jsx("p",{className:"text-gray-400 mb-4 max-w-md",children:"The fastest way to connect homeowners with qualified contractors for insurance claims and disaster recovery."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx(z,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})}),a.jsx("li",{children:a.jsx(z,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),a.jsx("li",{children:a.jsx(z,{to:"/auth/signup",className:"hover:text-white transition-colors",children:"Sign Up"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"For Contractors"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx(z,{to:"/auth/signup?role=contractor",className:"hover:text-white transition-colors",children:"Join Network"})}),a.jsx("li",{children:a.jsx(z,{to:"/contractor/dashboard",className:"hover:text-white transition-colors",children:"Contractor Portal"})})]})]})]}),a.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400",children:a.jsx("p",{children:"© 2025 DisasterShield. All rights reserved."})})]})})]})}function O6(){var l,c,u,d,h,p;const e=Ze(),[t,r]=x.useState(null),[n,s]=x.useState(null),[i,o]=x.useState(!0);return x.useEffect(()=>{(async()=>{const{data:{user:y}}=await O.auth.getUser();if(r(y),y)try{const{data:_}=await O.from("profiles").select("role").eq("id",y.id).maybeSingle();s(_)}catch(_){console.error("Error fetching profile:",_),s(null)}else s(null);o(!1)})();const{data:{subscription:w}}=O.auth.onAuthStateChange((y,_)=>{r((_==null?void 0:_.user)||null),s(null)});return()=>w.unsubscribe()},[]),a.jsxs("div",{className:"min-h-screen",children:[a.jsx("div",{className:"border-b border-white/20 bg-white/95 backdrop-blur-sm",children:a.jsx(Pa,{user:t,userRole:(n==null?void 0:n.role)||((l=t==null?void 0:t.user_metadata)==null?void 0:l.role)||"client",showShoppingCart:(n==null?void 0:n.role)==="client"||((c=t==null?void 0:t.user_metadata)==null?void 0:c.role)==="client",showSettings:!1,showNavLinks:!0,navLinks:[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"Contact",href:"/contact"}],welcomeText:t?`Welcome, ${(n==null?void 0:n.full_name)||((u=t.user_metadata)==null?void 0:u.full_name)||((d=t.email)==null?void 0:d.split("@")[0])||"User"}`:void 0,onSignOut:async()=>{await O.auth.signOut(),e("/")}})}),a.jsx("section",{className:"py-24 bg-gradient-to-br from-blue-600 to-indigo-700 text-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Revolutionizing Disaster Recovery"}),a.jsx("p",{className:"text-xl text-blue-100 leading-relaxed",children:"We're eliminating the weeks of delays, paperwork confusion, and contractor uncertainty that plague traditional insurance claims. Our platform connects you with the right help instantly."})]})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Our Mission"}),a.jsx("p",{className:"text-lg text-gray-600 mb-6 leading-relaxed",children:"When disaster strikes, time is everything. Water spreads, mold grows, and damage compounds with every passing hour. Yet traditional claim processes can take weeks to connect homeowners with qualified contractors."}),a.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"DisasterShield changes this. Our digital-first platform eliminates delays by instantly matching verified contractors with urgent repair needs, generating professional documentation, and streamlining the entire process from incident to resolution."}),t&&(n==null?void 0:n.role)!=="contractor"&&((h=t.user_metadata)==null?void 0:h.role)!=="contractor"?a.jsx(z,{to:"/intake",children:a.jsxs(F,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:["Experience the Difference",a.jsx(Xr,{className:"ml-2 h-5 w-5"})]})}):t?a.jsx(z,{to:"/contractor/dashboard",children:a.jsxs(F,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:["Go to Dashboard",a.jsx(Xr,{className:"ml-2 h-5 w-5"})]})}):a.jsx(z,{to:"/auth/login",children:a.jsxs(F,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3",children:["Sign In to Get Started",a.jsx(Xr,{className:"ml-2 h-5 w-5"})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx(W,{className:"border-0 shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(it,{className:"h-6 w-6 text-green-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"85% Faster"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average time to contractor match vs traditional methods"})]})}),a.jsx(W,{className:"border-0 shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ua,{className:"h-6 w-6 text-blue-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"500+ Contractors"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Verified professionals in our network"})]})}),a.jsx(W,{className:"border-0 shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(n0,{className:"h-6 w-6 text-purple-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"98% Satisfaction"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Customer approval rating"})]})}),a.jsx(W,{className:"border-0 shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(tt,{className:"h-6 w-6 text-orange-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"$2M+ Claims"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Successfully processed"})]})})]})]})})}),a.jsx("section",{className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Built on Trust & Speed"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Every contractor is vetted, every process is transparent, and every claim is handled with urgency"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(me,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verified Network"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Every contractor in our network is thoroughly vetted for licensing, insurance, and track record. We only work with the best."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(it,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Lightning Fast"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"What used to take weeks now happens in minutes. Our automated matching and documentation saves precious time when every hour counts."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(n0,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Complete Transparency"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Track every step of your claim with real-time updates. Access your professional documentation anytime, anywhere."})]})]})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-indigo-700",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Experience the Future of Disaster Recovery?"}),a.jsx("p",{className:"text-xl text-blue-100 mb-10",children:"Join the platform that's changing how insurance claims get handled"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t&&(n==null?void 0:n.role)!=="contractor"&&((p=t.user_metadata)==null?void 0:p.role)!=="contractor"?a.jsx(z,{to:"/intake",children:a.jsxs(F,{size:"lg",className:"text-lg px-10 py-4 bg-orange-500 hover:bg-orange-600 text-white",children:["Start Your Claim",a.jsx(Xr,{className:"ml-2 h-5 w-5"})]})}):t?a.jsx(z,{to:"/contractor/dashboard",children:a.jsxs(F,{size:"lg",className:"text-lg px-10 py-4 bg-orange-500 hover:bg-orange-600 text-white",children:["Go to Dashboard",a.jsx(Xr,{className:"ml-2 h-5 w-5"})]})}):a.jsx(z,{to:"/auth/login",children:a.jsxs(F,{size:"lg",className:"text-lg px-10 py-4 bg-orange-500 hover:bg-orange-600 text-white",children:["Sign In to File Claim",a.jsx(Xr,{className:"ml-2 h-5 w-5"})]})}),a.jsx(z,{to:"/contact",children:a.jsx(F,{size:"lg",variant:"outline",className:"text-lg px-10 py-4 border-2 border-white/80 text-white bg-white/10 hover:bg-white hover:text-blue-700 transition-all duration-300",children:"Contact Us"})})]})]})})]})}const pe=x.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));pe.displayName="Input";const Cr=x.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Cr.displayName="Textarea";function A6(){var d,h,p,m,w;const e=Ze(),[t,r]=x.useState(null),[n,s]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState({name:"",email:"",subject:"",message:""});x.useEffect(()=>{(async()=>{const{data:{user:f}}=await O.auth.getUser();if(r(f),f)try{const{data:g}=await O.from("profiles").select("role").eq("id",f.id).maybeSingle();s(g)}catch(g){console.error("Error fetching profile:",g),s(null)}else s(null);o(!1)})();const{data:{subscription:_}}=O.auth.onAuthStateChange((f,g)=>{r((g==null?void 0:g.user)||null),s(null)});return()=>_.unsubscribe()},[]);const u=async y=>{y.preventDefault(),console.log("Contact form submitted:",l)};return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("div",{className:"border-b border-white/20 bg-white/95 backdrop-blur-sm",children:a.jsx(Pa,{user:t,userRole:(n==null?void 0:n.role)||((d=t==null?void 0:t.user_metadata)==null?void 0:d.role)||"client",showShoppingCart:(n==null?void 0:n.role)==="client"||((h=t==null?void 0:t.user_metadata)==null?void 0:h.role)==="client",showSettings:!1,showNavLinks:!0,navLinks:[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"Contact",href:"/contact"}],welcomeText:t?`Welcome, ${(n==null?void 0:n.full_name)||((p=t.user_metadata)==null?void 0:p.full_name)||((m=t.email)==null?void 0:m.split("@")[0])||"User"}`:void 0,onSignOut:async()=>{await O.auth.signOut(),e("/")}})}),a.jsx("div",{className:"py-20",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Have questions about DisasterShield? We're here to help you navigate your disaster recovery needs."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(W,{className:"border-0 shadow-lg h-full",children:[a.jsx(ge,{children:a.jsx(xe,{className:"text-2xl font-bold text-gray-900",children:"Contact Information"})}),a.jsxs(V,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Ea,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Email"}),a.jsx("p",{className:"text-gray-600",children:"support@disastershield.com"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"We typically respond within 2 hours"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(zi,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Phone"}),a.jsx("p",{className:"text-gray-600",children:"1-800-DISASTER"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Available 24/7 for emergencies"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(zs,{className:"h-5 w-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Headquarters"}),a.jsxs("p",{className:"text-gray-600",children:["123 Innovation Drive",a.jsx("br",{}),"Tampa, FL 33602"]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Emergency Claims"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"For urgent claims requiring immediate attention, use our fast-track intake process."}),t&&(n==null?void 0:n.role)!=="contractor"&&((w=t.user_metadata)==null?void 0:w.role)!=="contractor"?a.jsx(z,{to:"/intake",children:a.jsx(F,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"Start Emergency Claim"})}):t?a.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Contractors cannot file claims. Browse available jobs in your dashboard."}):a.jsx(z,{to:"/auth/login",children:a.jsx(F,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:"Sign In to File Claim"})})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(W,{className:"border-0 shadow-lg",children:[a.jsx(ge,{children:a.jsx(xe,{className:"text-2xl font-bold text-gray-900",children:"Send us a Message"})}),a.jsx(V,{children:a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx(pe,{type:"text",required:!0,value:l.name,onChange:y=>c({...l,name:y.target.value}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx(pe,{type:"email",required:!0,value:l.email,onChange:y=>c({...l,email:y.target.value}),className:"w-full"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),a.jsx(pe,{type:"text",required:!0,value:l.subject,onChange:y=>c({...l,subject:y.target.value}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),a.jsx(Cr,{required:!0,rows:6,value:l.message,onChange:y=>c({...l,message:y.target.value}),className:"w-full",placeholder:"Tell us how we can help..."})]}),a.jsx(F,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3",children:"Send Message"})]})})]})})]})]})})]})}function F0(e,[t,r]){return Math.min(r,Math.max(t,e))}function Ig(e){const t=e+"CollectionProvider",[r,n]=qn(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:f}=y,g=G.useRef(null),v=G.useRef(new Map).current;return a.jsx(s,{scope:_,itemMap:v,collectionRef:g,children:f})};o.displayName=t;const l=e+"CollectionSlot",c=xa(l),u=G.forwardRef((y,_)=>{const{scope:f,children:g}=y,v=i(l,f),j=Le(_,v.collectionRef);return a.jsx(c,{ref:j,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=xa(d),m=G.forwardRef((y,_)=>{const{scope:f,children:g,...v}=y,j=G.useRef(null),E=Le(_,j),N=i(d,f);return G.useEffect(()=>(N.itemMap.set(j,{ref:j,...v}),()=>void N.itemMap.delete(j))),a.jsx(p,{[h]:"",ref:E,children:g})});m.displayName=d;function w(y){const _=i(e+"CollectionConsumer",y);return G.useCallback(()=>{const g=_.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((N,k)=>v.indexOf(N.ref.current)-v.indexOf(k.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},w,n]}var I6=x.createContext(void 0);function Dg(e){const t=x.useContext(I6);return e||t||"ltr"}const D6=["top","right","bottom","left"],Os=Math.min,mr=Math.max,Ou=Math.round,gc=Math.floor,_n=e=>({x:e,y:e}),$6={left:"right",right:"left",bottom:"top",top:"bottom"},M6={start:"end",end:"start"};function Mp(e,t,r){return mr(e,Os(t,r))}function Un(e,t){return typeof e=="function"?e(t):e}function zn(e){return e.split("-")[0]}function Vi(e){return e.split("-")[1]}function $g(e){return e==="x"?"y":"x"}function Mg(e){return e==="y"?"height":"width"}const L6=new Set(["top","bottom"]);function mn(e){return L6.has(zn(e))?"y":"x"}function Lg(e){return $g(mn(e))}function F6(e,t,r){r===void 0&&(r=!1);const n=Vi(e),s=Lg(e),i=Mg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Au(o)),[o,Au(o)]}function U6(e){const t=Au(e);return[Lp(e),t,Lp(t)]}function Lp(e){return e.replace(/start|end/g,t=>M6[t])}const U0=["left","right"],z0=["right","left"],z6=["top","bottom"],B6=["bottom","top"];function W6(e,t,r){switch(e){case"top":case"bottom":return r?t?z0:U0:t?U0:z0;case"left":case"right":return t?z6:B6;default:return[]}}function V6(e,t,r,n){const s=Vi(e);let i=W6(zn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Lp)))),i}function Au(e){return e.replace(/left|right|bottom|top/g,t=>$6[t])}function q6(e){return{top:0,right:0,bottom:0,left:0,...e}}function I1(e){return typeof e!="number"?q6(e):{top:e,right:e,bottom:e,left:e}}function Iu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function B0(e,t,r){let{reference:n,floating:s}=e;const i=mn(t),o=Lg(t),l=Mg(o),c=zn(t),u=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(Vi(t)){case"start":m[o]-=p*(r&&u?-1:1);break;case"end":m[o]+=p*(r&&u?-1:1);break}return m}const H6=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=B0(u,n,c),p=n,m={},w=0;for(let y=0;y<l.length;y++){const{name:_,fn:f}=l[y],{x:g,y:v,data:j,reset:E}=await f({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,h=v??h,m={...m,[_]:{...m[_],...j}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:h}=B0(u,p,c)),y=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function ul(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Un(t,e),w=I1(m),_=l[p?h==="floating"?"reference":"floating":h],f=Iu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},E=Iu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:c}):g);return{top:(f.top-E.top+w.top)/j.y,bottom:(E.bottom-f.bottom+w.bottom)/j.y,left:(f.left-E.left+w.left)/j.x,right:(E.right-f.right+w.right)/j.x}}const K6=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Un(e,t)||{};if(u==null)return{};const h=I1(d),p={x:r,y:n},m=Lg(s),w=Mg(m),y=await o.getDimensions(u),_=m==="y",f=_?"top":"left",g=_?"bottom":"right",v=_?"clientHeight":"clientWidth",j=i.reference[w]+i.reference[m]-p[m]-i.floating[w],E=p[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=N?N[v]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=l.floating[v]||i.floating[w]);const S=j/2-E/2,A=k/2-y[w]/2-1,b=Os(h[f],A),R=Os(h[g],A),T=b,U=k-y[w]-R,M=k/2-y[w]/2+S,I=Mp(T,M,U),$=!c.arrow&&Vi(s)!=null&&M!==I&&i.reference[w]/2-(M<T?b:R)-y[w]/2<0,D=$?M<T?M-T:M-U:0;return{[m]:p[m]+D,data:{[m]:I,centerOffset:M-I-D,...$&&{alignmentOffset:D}},reset:$}}}),G6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,..._}=Un(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const f=zn(s),g=mn(l),v=zn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=p||(v||!y?[Au(l)]:U6(l)),N=w!=="none";!p&&N&&E.push(...V6(l,y,w,j));const k=[l,...E],S=await ul(t,_),A=[];let b=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(S[f]),h){const M=F6(s,o,j);A.push(S[M[0]],S[M[1]])}if(b=[...b,{placement:s,overflows:A}],!A.every(M=>M<=0)){var R,T;const M=(((R=i.flip)==null?void 0:R.index)||0)+1,I=k[M];if(I&&(!(h==="alignment"?g!==mn(I):!1)||b.every(C=>mn(C.placement)===g?C.overflows[0]>0:!0)))return{data:{index:M,overflows:b},reset:{placement:I}};let $=(T=b.filter(D=>D.overflows[0]<=0).sort((D,C)=>D.overflows[1]-C.overflows[1])[0])==null?void 0:T.placement;if(!$)switch(m){case"bestFit":{var U;const D=(U=b.filter(C=>{if(N){const P=mn(C.placement);return P===g||P==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(P=>P>0).reduce((P,B)=>P+B,0)]).sort((C,P)=>C[1]-P[1])[0])==null?void 0:U[0];D&&($=D);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function W0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function V0(e){return D6.some(t=>e[t]>=0)}const Y6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Un(e,t);switch(n){case"referenceHidden":{const i=await ul(t,{...s,elementContext:"reference"}),o=W0(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:V0(o)}}}case"escaped":{const i=await ul(t,{...s,altBoundary:!0}),o=W0(i,r.floating);return{data:{escapedOffsets:o,escaped:V0(o)}}}default:return{}}}}},D1=new Set(["left","top"]);async function J6(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=zn(r),l=Vi(r),c=mn(r)==="y",u=D1.has(o)?-1:1,d=i&&c?-1:1,h=Un(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(m=l==="end"?w*-1:w),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const X6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await J6(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Z6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:f,y:g}=_;return{x:f,y:g}}},...c}=Un(e,t),u={x:r,y:n},d=await ul(t,c),h=mn(zn(s)),p=$g(h);let m=u[p],w=u[h];if(i){const _=p==="y"?"top":"left",f=p==="y"?"bottom":"right",g=m+d[_],v=m-d[f];m=Mp(g,m,v)}if(o){const _=h==="y"?"top":"left",f=h==="y"?"bottom":"right",g=w+d[_],v=w-d[f];w=Mp(g,w,v)}const y=l.fn({...t,[p]:m,[h]:w});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[p]:i,[h]:o}}}}}},Q6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Un(e,t),d={x:r,y:n},h=mn(s),p=$g(h);let m=d[p],w=d[h];const y=Un(l,t),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const v=p==="y"?"height":"width",j=i.reference[p]-i.floating[v]+_.mainAxis,E=i.reference[p]+i.reference[v]-_.mainAxis;m<j?m=j:m>E&&(m=E)}if(u){var f,g;const v=p==="y"?"width":"height",j=D1.has(zn(s)),E=i.reference[h]-i.floating[v]+(j&&((f=o.offset)==null?void 0:f[h])||0)+(j?0:_.crossAxis),N=i.reference[h]+i.reference[v]+(j?0:((g=o.offset)==null?void 0:g[h])||0)-(j?_.crossAxis:0);w<E?w=E:w>N&&(w=N)}return{[p]:m,[h]:w}}}},eD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Un(e,t),d=await ul(t,u),h=zn(s),p=Vi(s),m=mn(s)==="y",{width:w,height:y}=i.floating;let _,f;h==="top"||h==="bottom"?(_=h,f=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(f=h,_=p==="end"?"top":"bottom");const g=y-d.top-d.bottom,v=w-d.left-d.right,j=Os(y-d[_],g),E=Os(w-d[f],v),N=!t.middlewareData.shift;let k=j,S=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=g),N&&!p){const b=mr(d.left,0),R=mr(d.right,0),T=mr(d.top,0),U=mr(d.bottom,0);m?S=w-2*(b!==0||R!==0?b+R:mr(d.left,d.right)):k=y-2*(T!==0||U!==0?T+U:mr(d.top,d.bottom))}await c({...t,availableWidth:S,availableHeight:k});const A=await o.getDimensions(l.floating);return w!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function Ad(){return typeof window<"u"}function qi(e){return $1(e)?(e.nodeName||"").toLowerCase():"#document"}function _r(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jn(e){var t;return(t=($1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $1(e){return Ad()?e instanceof Node||e instanceof _r(e).Node:!1}function tn(e){return Ad()?e instanceof Element||e instanceof _r(e).Element:!1}function wn(e){return Ad()?e instanceof HTMLElement||e instanceof _r(e).HTMLElement:!1}function q0(e){return!Ad()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _r(e).ShadowRoot}const tD=new Set(["inline","contents"]);function Al(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=rn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!tD.has(s)}const rD=new Set(["table","td","th"]);function nD(e){return rD.has(qi(e))}const sD=[":popover-open",":modal"];function Id(e){return sD.some(t=>{try{return e.matches(t)}catch{return!1}})}const aD=["transform","translate","scale","rotate","perspective"],iD=["transform","translate","scale","rotate","perspective","filter"],oD=["paint","layout","strict","content"];function Fg(e){const t=Ug(),r=tn(e)?rn(e):e;return aD.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||iD.some(n=>(r.willChange||"").includes(n))||oD.some(n=>(r.contain||"").includes(n))}function lD(e){let t=As(e);for(;wn(t)&&!Ei(t);){if(Fg(t))return t;if(Id(t))return null;t=As(t)}return null}function Ug(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cD=new Set(["html","body","#document"]);function Ei(e){return cD.has(qi(e))}function rn(e){return _r(e).getComputedStyle(e)}function Dd(e){return tn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function As(e){if(qi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||q0(e)&&e.host||jn(e);return q0(t)?t.host:t}function M1(e){const t=As(e);return Ei(t)?e.ownerDocument?e.ownerDocument.body:e.body:wn(t)&&Al(t)?t:M1(t)}function dl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=M1(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=_r(s);if(i){const l=Fp(o);return t.concat(o,o.visualViewport||[],Al(s)?s:[],l&&r?dl(l):[])}return t.concat(s,dl(s,[],r))}function Fp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function L1(e){const t=rn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=wn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Ou(r)!==i||Ou(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function zg(e){return tn(e)?e:e.contextElement}function mi(e){const t=zg(e);if(!wn(t))return _n(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=L1(t);let o=(i?Ou(r.width):r.width)/n,l=(i?Ou(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const uD=_n(0);function F1(e){const t=_r(e);return!Ug()||!t.visualViewport?uD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dD(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==_r(e)?!1:t}function ya(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=zg(e);let o=_n(1);t&&(n?tn(n)&&(o=mi(n)):o=mi(e));const l=dD(i,r,n)?F1(i):_n(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=_r(i),m=n&&tn(n)?_r(n):n;let w=p,y=Fp(w);for(;y&&n&&m!==w;){const _=mi(y),f=y.getBoundingClientRect(),g=rn(y),v=f.left+(y.clientLeft+parseFloat(g.paddingLeft))*_.x,j=f.top+(y.clientTop+parseFloat(g.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,h*=_.y,c+=v,u+=j,w=_r(y),y=Fp(w)}}return Iu({width:d,height:h,x:c,y:u})}function $d(e,t){const r=Dd(e).scrollLeft;return t?t.left+r:ya(jn(e)).left+r}function U1(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-$d(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function hD(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=jn(n),l=t?Id(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=_n(1);const d=_n(0),h=wn(n);if((h||!h&&!i)&&((qi(n)!=="body"||Al(o))&&(c=Dd(n)),wn(n))){const m=ya(n);u=mi(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const p=o&&!h&&!i?U1(o,c):_n(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function fD(e){return Array.from(e.getClientRects())}function pD(e){const t=jn(e),r=Dd(e),n=e.ownerDocument.body,s=mr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=mr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+$d(e);const l=-r.scrollTop;return rn(n).direction==="rtl"&&(o+=mr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const H0=25;function mD(e,t){const r=_r(e),n=jn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=Ug();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=$d(n);if(u<=0){const d=n.ownerDocument,h=d.body,p=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(n.clientWidth-h.clientWidth-m);w<=H0&&(i-=w)}else u<=H0&&(i+=u);return{width:i,height:o,x:l,y:c}}const gD=new Set(["absolute","fixed"]);function xD(e,t){const r=ya(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=wn(e)?mi(e):_n(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function K0(e,t,r){let n;if(t==="viewport")n=mD(e,r);else if(t==="document")n=pD(jn(e));else if(tn(t))n=xD(t,r);else{const s=F1(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Iu(n)}function z1(e,t){const r=As(e);return r===t||!tn(r)||Ei(r)?!1:rn(r).position==="fixed"||z1(r,t)}function _D(e,t){const r=t.get(e);if(r)return r;let n=dl(e,[],!1).filter(l=>tn(l)&&qi(l)!=="body"),s=null;const i=rn(e).position==="fixed";let o=i?As(e):e;for(;tn(o)&&!Ei(o);){const l=rn(o),c=Fg(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&gD.has(s.position)||Al(o)&&!c&&z1(e,o))?n=n.filter(d=>d!==o):s=l,o=As(o)}return t.set(e,n),n}function yD(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Id(t)?[]:_D(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=K0(t,d,s);return u.top=mr(h.top,u.top),u.right=Os(h.right,u.right),u.bottom=Os(h.bottom,u.bottom),u.left=mr(h.left,u.left),u},K0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function vD(e){const{width:t,height:r}=L1(e);return{width:t,height:r}}function wD(e,t,r){const n=wn(t),s=jn(t),i=r==="fixed",o=ya(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=_n(0);function u(){c.x=$d(s)}if(n||!n&&!i)if((qi(t)!=="body"||Al(s))&&(l=Dd(t)),n){const m=ya(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?U1(s,l):_n(0),h=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Vh(e){return rn(e).position==="static"}function G0(e,t){if(!wn(e)||rn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return jn(e)===r&&(r=r.ownerDocument.body),r}function B1(e,t){const r=_r(e);if(Id(e))return r;if(!wn(e)){let s=As(e);for(;s&&!Ei(s);){if(tn(s)&&!Vh(s))return s;s=As(s)}return r}let n=G0(e,t);for(;n&&nD(n)&&Vh(n);)n=G0(n,t);return n&&Ei(n)&&Vh(n)&&!Fg(n)?r:n||lD(e)||r}const bD=async function(e){const t=this.getOffsetParent||B1,r=this.getDimensions,n=await r(e.floating);return{reference:wD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jD(e){return rn(e).direction==="rtl"}const ND={convertOffsetParentRelativeRectToViewportRelativeRect:hD,getDocumentElement:jn,getClippingRect:yD,getOffsetParent:B1,getElementRects:bD,getClientRects:fD,getDimensions:vD,getScale:mi,isElement:tn,isRTL:jD};function W1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function SD(e,t){let r=null,n;const s=jn(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=u;if(l||t(),!p||!m)return;const w=gc(h),y=gc(s.clientWidth-(d+p)),_=gc(s.clientHeight-(h+m)),f=gc(d),v={rootMargin:-w+"px "+-y+"px "+-_+"px "+-f+"px",threshold:mr(0,Os(1,c))||1};let j=!0;function E(N){const k=N[0].intersectionRatio;if(k!==c){if(!j)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!W1(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(E,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,v)}r.observe(e)}return o(!0),i}function kD(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=zg(e),d=s||i?[...u?dl(u):[],...dl(t)]:[];d.forEach(f=>{s&&f.addEventListener("scroll",r,{passive:!0}),i&&f.addEventListener("resize",r)});const h=u&&l?SD(u,r):null;let p=-1,m=null;o&&(m=new ResizeObserver(f=>{let[g]=f;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let w,y=c?ya(e):null;c&&_();function _(){const f=ya(e);y&&!W1(y,f)&&r(),y=f,w=requestAnimationFrame(_)}return r(),()=>{var f;d.forEach(g=>{s&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),h==null||h(),(f=m)==null||f.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const ED=X6,CD=Z6,TD=G6,PD=eD,RD=Y6,Y0=K6,OD=Q6,AD=(e,t,r)=>{const n=new Map,s={platform:ND,...r},i={...s.platform,_c:n};return H6(e,t,{...s,platform:i})};var ID=typeof document<"u",DD=function(){},Bc=ID?x.useLayoutEffect:DD;function Du(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Du(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Du(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function V1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function J0(e,t){const r=V1(e);return Math.round(t*r)/r}function qh(e){const t=x.useRef(e);return Bc(()=>{t.current=e}),t}function $D(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=x.useState(n);Du(p,n)||m(n);const[w,y]=x.useState(null),[_,f]=x.useState(null),g=x.useCallback(C=>{C!==N.current&&(N.current=C,y(C))},[]),v=x.useCallback(C=>{C!==k.current&&(k.current=C,f(C))},[]),j=i||w,E=o||_,N=x.useRef(null),k=x.useRef(null),S=x.useRef(d),A=c!=null,b=qh(c),R=qh(s),T=qh(u),U=x.useCallback(()=>{if(!N.current||!k.current)return;const C={placement:t,strategy:r,middleware:p};R.current&&(C.platform=R.current),AD(N.current,k.current,C).then(P=>{const B={...P,isPositioned:T.current!==!1};M.current&&!Du(S.current,B)&&(S.current=B,Mi.flushSync(()=>{h(B)}))})},[p,t,r,R,T]);Bc(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(C=>({...C,isPositioned:!1})))},[u]);const M=x.useRef(!1);Bc(()=>(M.current=!0,()=>{M.current=!1}),[]),Bc(()=>{if(j&&(N.current=j),E&&(k.current=E),j&&E){if(b.current)return b.current(j,E,U);U()}},[j,E,U,b,A]);const I=x.useMemo(()=>({reference:N,floating:k,setReference:g,setFloating:v}),[g,v]),$=x.useMemo(()=>({reference:j,floating:E}),[j,E]),D=x.useMemo(()=>{const C={position:r,left:0,top:0};if(!$.floating)return C;const P=J0($.floating,d.x),B=J0($.floating,d.y);return l?{...C,transform:"translate("+P+"px, "+B+"px)",...V1($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:B}},[r,l,$.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:U,refs:I,elements:$,floatingStyles:D}),[d,U,I,$,D])}const MD=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Y0({element:n.current,padding:s}).fn(r):{}:n?Y0({element:n,padding:s}).fn(r):{}}}},LD=(e,t)=>({...ED(e),options:[e,t]}),FD=(e,t)=>({...CD(e),options:[e,t]}),UD=(e,t)=>({...OD(e),options:[e,t]}),zD=(e,t)=>({...TD(e),options:[e,t]}),BD=(e,t)=>({...PD(e),options:[e,t]}),WD=(e,t)=>({...RD(e),options:[e,t]}),VD=(e,t)=>({...MD(e),options:[e,t]});var qD="Arrow",q1=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Ce.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});q1.displayName=qD;var HD=q1;function H1(e){const[t,r]=x.useState(void 0);return Ot(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Bg="Popper",[K1,Md]=qn(Bg),[KD,G1]=K1(Bg),Y1=e=>{const{__scopePopper:t,children:r}=e,[n,s]=x.useState(null);return a.jsx(KD,{scope:t,anchor:n,onAnchorChange:s,children:r})};Y1.displayName=Bg;var J1="PopperAnchor",X1=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=G1(J1,r),o=x.useRef(null),l=Le(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Ce.div,{...s,ref:l})});X1.displayName=J1;var Wg="PopperContent",[GD,YD]=K1(Wg),Z1=x.forwardRef((e,t)=>{var L,Y,X,te,ie,le;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=e,_=G1(Wg,r),[f,g]=x.useState(null),v=Le(t,Ae=>g(Ae)),[j,E]=x.useState(null),N=H1(j),k=(N==null?void 0:N.width)??0,S=(N==null?void 0:N.height)??0,A=n+(i!=="center"?"-"+i:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],T=R.length>0,U={padding:b,boundary:R.filter(XD),altBoundary:T},{refs:M,floatingStyles:I,placement:$,isPositioned:D,middlewareData:C}=$D({strategy:"fixed",placement:A,whileElementsMounted:(...Ae)=>kD(...Ae,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[LD({mainAxis:s+S,alignmentAxis:o}),c&&FD({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?UD():void 0,...U}),c&&zD({...U}),BD({...U,apply:({elements:Ae,rects:ct,availableWidth:Ht,availableHeight:Kt})=>{const{width:Nr,height:Gt}=ct.reference,Sr=Ae.floating.style;Sr.setProperty("--radix-popper-available-width",`${Ht}px`),Sr.setProperty("--radix-popper-available-height",`${Kt}px`),Sr.setProperty("--radix-popper-anchor-width",`${Nr}px`),Sr.setProperty("--radix-popper-anchor-height",`${Gt}px`)}}),j&&VD({element:j,padding:l}),ZD({arrowWidth:k,arrowHeight:S}),p&&WD({strategy:"referenceHidden",...U})]}),[P,B]=tN($),ee=vn(w);Ot(()=>{D&&(ee==null||ee())},[D,ee]);const Z=(L=C.arrow)==null?void 0:L.x,he=(Y=C.arrow)==null?void 0:Y.y,ne=((X=C.arrow)==null?void 0:X.centerOffset)!==0,[ye,H]=x.useState();return Ot(()=>{f&&H(window.getComputedStyle(f).zIndex)},[f]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:D?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(te=C.transformOrigin)==null?void 0:te.x,(ie=C.transformOrigin)==null?void 0:ie.y].join(" "),...((le=C.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(GD,{scope:r,placedSide:P,onArrowChange:E,arrowX:Z,arrowY:he,shouldHideArrow:ne,children:a.jsx(Ce.div,{"data-side":P,"data-align":B,...y,ref:v,style:{...y.style,animation:D?void 0:"none"}})})})});Z1.displayName=Wg;var Q1="PopperArrow",JD={top:"bottom",right:"left",bottom:"top",left:"right"},eN=x.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=YD(Q1,n),o=JD[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(HD,{...s,ref:r,style:{...s.style,display:"block"}})})});eN.displayName=Q1;function XD(e){return e!==null}var ZD=e=>({name:"transformOrigin",options:e,fn(t){var _,f,g;const{placement:r,rects:n,middlewareData:s}=t,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=tN(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((f=s.arrow)==null?void 0:f.x)??0)+l/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",y="";return u==="bottom"?(w=o?h:`${p}px`,y=`${-c}px`):u==="top"?(w=o?h:`${p}px`,y=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?h:`${m}px`):u==="left"&&(w=`${n.floating.width+c}px`,y=o?h:`${m}px`),{data:{x:w,y}}}});function tN(e){const[t,r="center"]=e.split("-");return[t,r]}var rN=Y1,nN=X1,sN=Z1,aN=eN;function iN(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var oN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QD="VisuallyHidden",e$=x.forwardRef((e,t)=>a.jsx(Ce.span,{...e,ref:t,style:{...oN,...e.style}}));e$.displayName=QD;var t$=[" ","Enter","ArrowUp","ArrowDown"],r$=[" ","Enter"],va="Select",[Ld,Fd,n$]=Ig(va),[Hi,zF]=qn(va,[n$,Md]),Ud=Md(),[s$,Ws]=Hi(va),[a$,i$]=Hi(va),lN=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:m,form:w}=e,y=Ud(t),[_,f]=x.useState(null),[g,v]=x.useState(null),[j,E]=x.useState(!1),N=Dg(u),[k,S]=ki({prop:n,defaultProp:s??!1,onChange:i,caller:va}),[A,b]=ki({prop:o,defaultProp:l,onChange:c,caller:va}),R=x.useRef(null),T=_?w||!!_.closest("form"):!0,[U,M]=x.useState(new Set),I=Array.from(U).map($=>$.props.value).join(";");return a.jsx(rN,{...y,children:a.jsxs(s$,{required:m,scope:t,trigger:_,onTriggerChange:f,valueNode:g,onValueNodeChange:v,valueNodeHasChildren:j,onValueNodeHasChildrenChange:E,contentId:Dn(),value:A,onValueChange:b,open:k,onOpenChange:S,dir:N,triggerPointerDownPosRef:R,disabled:p,children:[a.jsx(Ld.Provider,{scope:t,children:a.jsx(a$,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback($=>{M(D=>new Set(D).add($))},[]),onNativeOptionRemove:x.useCallback($=>{M(D=>{const C=new Set(D);return C.delete($),C})},[]),children:r})}),T?a.jsxs(ON,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:A,onChange:$=>b($.target.value),disabled:p,form:w,children:[A===void 0?a.jsx("option",{value:""}):null,Array.from(U)]},I):null]})})};lN.displayName=va;var cN="SelectTrigger",uN=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Ud(r),o=Ws(cN,r),l=o.disabled||n,c=Le(t,o.onTriggerChange),u=Fd(r),d=x.useRef("touch"),[h,p,m]=IN(y=>{const _=u().filter(v=>!v.disabled),f=_.find(v=>v.value===o.value),g=DN(_,y,f);g!==void 0&&o.onValueChange(g.value)}),w=y=>{l||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(nN,{asChild:!0,...i,children:a.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":AN(o.value)?"":void 0,...s,ref:c,onClick:de(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:de(s.onPointerDown,y=>{d.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:de(s.onKeyDown,y=>{const _=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(_&&y.key===" ")&&t$.includes(y.key)&&(w(),y.preventDefault())})})})});uN.displayName=cN;var dN="SelectValue",hN=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Ws(dN,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Le(t,c.onValueNodeChange);return Ot(()=>{u(d)},[u,d]),a.jsx(Ce.span,{...l,ref:h,style:{pointerEvents:"none"},children:AN(c.value)?a.jsx(a.Fragment,{children:o}):i})});hN.displayName=dN;var o$="SelectIcon",fN=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Ce.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});fN.displayName=o$;var l$="SelectPortal",pN=e=>a.jsx(Td,{asChild:!0,...e});pN.displayName=l$;var wa="SelectContent",mN=x.forwardRef((e,t)=>{const r=Ws(wa,e.__scopeSelect),[n,s]=x.useState();if(Ot(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Mi.createPortal(a.jsx(gN,{scope:e.__scopeSelect,children:a.jsx(Ld.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(xN,{...e,ref:t})});mN.displayName=wa;var qr=10,[gN,Vs]=Hi(wa),c$="SelectContentImpl",u$=xa("SelectContent.RemoveScroll"),xN=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:_,...f}=e,g=Ws(wa,r),[v,j]=x.useState(null),[E,N]=x.useState(null),k=Le(t,L=>j(L)),[S,A]=x.useState(null),[b,R]=x.useState(null),T=Fd(r),[U,M]=x.useState(!1),I=x.useRef(!1);x.useEffect(()=>{if(v)return Ng(v)},[v]),jg();const $=x.useCallback(L=>{const[Y,...X]=T().map(le=>le.ref.current),[te]=X.slice(-1),ie=document.activeElement;for(const le of L)if(le===ie||(le==null||le.scrollIntoView({block:"nearest"}),le===Y&&E&&(E.scrollTop=0),le===te&&E&&(E.scrollTop=E.scrollHeight),le==null||le.focus(),document.activeElement!==ie))return},[T,E]),D=x.useCallback(()=>$([S,v]),[$,S,v]);x.useEffect(()=>{U&&D()},[U,D]);const{onOpenChange:C,triggerPointerDownPosRef:P}=g;x.useEffect(()=>{if(v){let L={x:0,y:0};const Y=te=>{var ie,le;L={x:Math.abs(Math.round(te.pageX)-(((ie=P.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(te.pageY)-(((le=P.current)==null?void 0:le.y)??0))}},X=te=>{L.x<=10&&L.y<=10?te.preventDefault():v.contains(te.target)||C(!1),document.removeEventListener("pointermove",Y),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",X,{capture:!0})}}},[v,C,P]),x.useEffect(()=>{const L=()=>C(!1);return window.addEventListener("blur",L),window.addEventListener("resize",L),()=>{window.removeEventListener("blur",L),window.removeEventListener("resize",L)}},[C]);const[B,ee]=IN(L=>{const Y=T().filter(ie=>!ie.disabled),X=Y.find(ie=>ie.ref.current===document.activeElement),te=DN(Y,L,X);te&&setTimeout(()=>te.ref.current.focus())}),Z=x.useCallback((L,Y,X)=>{const te=!I.current&&!X;(g.value!==void 0&&g.value===Y||te)&&(A(L),te&&(I.current=!0))},[g.value]),he=x.useCallback(()=>v==null?void 0:v.focus(),[v]),ne=x.useCallback((L,Y,X)=>{const te=!I.current&&!X;(g.value!==void 0&&g.value===Y||te)&&R(L)},[g.value]),ye=n==="popper"?Up:_N,H=ye===Up?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:_}:{};return a.jsx(gN,{scope:r,content:v,viewport:E,onViewportChange:N,itemRefCallback:Z,selectedItem:S,onItemLeave:he,itemTextRefCallback:ne,focusSelectedItem:D,selectedItemText:b,position:n,isPositioned:U,searchRef:B,children:a.jsx(Rd,{as:u$,allowPinchZoom:!0,children:a.jsx(Cd,{asChild:!0,trapped:g.open,onMountAutoFocus:L=>{L.preventDefault()},onUnmountAutoFocus:de(s,L=>{var Y;(Y=g.trigger)==null||Y.focus({preventScroll:!0}),L.preventDefault()}),children:a.jsx(Ed,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:L=>L.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(ye,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:L=>L.preventDefault(),...f,...H,onPlaced:()=>M(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...f.style},onKeyDown:de(f.onKeyDown,L=>{const Y=L.ctrlKey||L.altKey||L.metaKey;if(L.key==="Tab"&&L.preventDefault(),!Y&&L.key.length===1&&ee(L.key),["ArrowUp","ArrowDown","Home","End"].includes(L.key)){let te=T().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(L.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(L.key)){const ie=L.target,le=te.indexOf(ie);te=te.slice(le+1)}setTimeout(()=>$(te)),L.preventDefault()}})})})})})})});xN.displayName=c$;var d$="SelectItemAlignedPosition",_N=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Ws(wa,r),o=Vs(wa,r),[l,c]=x.useState(null),[u,d]=x.useState(null),h=Le(t,k=>d(k)),p=Fd(r),m=x.useRef(!1),w=x.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:f,focusSelectedItem:g}=o,v=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&_&&f){const k=i.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),b=f.getBoundingClientRect();if(i.dir!=="rtl"){const ie=b.left-S.left,le=A.left-ie,Ae=k.left-le,ct=k.width+Ae,Ht=Math.max(ct,S.width),Kt=window.innerWidth-qr,Nr=F0(le,[qr,Math.max(qr,Kt-Ht)]);l.style.minWidth=ct+"px",l.style.left=Nr+"px"}else{const ie=S.right-b.right,le=window.innerWidth-A.right-ie,Ae=window.innerWidth-k.right-le,ct=k.width+Ae,Ht=Math.max(ct,S.width),Kt=window.innerWidth-qr,Nr=F0(le,[qr,Math.max(qr,Kt-Ht)]);l.style.minWidth=ct+"px",l.style.right=Nr+"px"}const R=p(),T=window.innerHeight-qr*2,U=y.scrollHeight,M=window.getComputedStyle(u),I=parseInt(M.borderTopWidth,10),$=parseInt(M.paddingTop,10),D=parseInt(M.borderBottomWidth,10),C=parseInt(M.paddingBottom,10),P=I+$+U+C+D,B=Math.min(_.offsetHeight*5,P),ee=window.getComputedStyle(y),Z=parseInt(ee.paddingTop,10),he=parseInt(ee.paddingBottom,10),ne=k.top+k.height/2-qr,ye=T-ne,H=_.offsetHeight/2,L=_.offsetTop+H,Y=I+$+L,X=P-Y;if(Y<=ne){const ie=R.length>0&&_===R[R.length-1].ref.current;l.style.bottom="0px";const le=u.clientHeight-y.offsetTop-y.offsetHeight,Ae=Math.max(ye,H+(ie?he:0)+le+D),ct=Y+Ae;l.style.height=ct+"px"}else{const ie=R.length>0&&_===R[0].ref.current;l.style.top="0px";const Ae=Math.max(ne,I+y.offsetTop+(ie?Z:0)+H)+X;l.style.height=Ae+"px",y.scrollTop=Y-ne+y.offsetTop}l.style.margin=`${qr}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,l,u,y,_,f,i.dir,n]);Ot(()=>v(),[v]);const[j,E]=x.useState();Ot(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(k=>{k&&w.current===!0&&(v(),g==null||g(),w.current=!1)},[v,g]);return a.jsx(f$,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(Ce.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});_N.displayName=d$;var h$="SelectPopperPosition",Up=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=qr,...i}=e,o=Ud(r);return a.jsx(sN,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Up.displayName=h$;var[f$,Vg]=Hi(wa,{}),zp="SelectViewport",yN=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Vs(zp,r),o=Vg(zp,r),l=Le(t,i.onViewportChange),c=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Ld.Slot,{scope:r,children:a.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const w=window.innerHeight-qr*2,y=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),f=Math.max(y,_);if(f<w){const g=f+m,v=Math.min(w,g),j=g-v;h.style.height=v+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});yN.displayName=zp;var vN="SelectGroup",[p$,m$]=Hi(vN),g$=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Dn();return a.jsx(p$,{scope:r,id:s,children:a.jsx(Ce.div,{role:"group","aria-labelledby":s,...n,ref:t})})});g$.displayName=vN;var wN="SelectLabel",bN=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=m$(wN,r);return a.jsx(Ce.div,{id:s.id,...n,ref:t})});bN.displayName=wN;var $u="SelectItem",[x$,jN]=Hi($u),NN=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Ws($u,r),c=Vs($u,r),u=l.value===n,[d,h]=x.useState(i??""),[p,m]=x.useState(!1),w=Le(t,g=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,g,n,s)}),y=Dn(),_=x.useRef("touch"),f=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(x$,{scope:r,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:x.useCallback(g=>{h(v=>v||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(Ld.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Ce.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:de(o.onFocus,()=>m(!0)),onBlur:de(o.onBlur,()=>m(!1)),onClick:de(o.onClick,()=>{_.current!=="mouse"&&f()}),onPointerUp:de(o.onPointerUp,()=>{_.current==="mouse"&&f()}),onPointerDown:de(o.onPointerDown,g=>{_.current=g.pointerType}),onPointerMove:de(o.onPointerMove,g=>{var v;_.current=g.pointerType,s?(v=c.onItemLeave)==null||v.call(c):_.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(o.onPointerLeave,g=>{var v;g.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:de(o.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(r$.includes(g.key)&&f(),g.key===" "&&g.preventDefault())})})})})});NN.displayName=$u;var wo="SelectItemText",SN=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Ws(wo,r),l=Vs(wo,r),c=jN(wo,r),u=i$(wo,r),[d,h]=x.useState(null),p=Le(t,f=>h(f),c.onItemTextChange,f=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,f,c.value,c.disabled)}),m=d==null?void 0:d.textContent,w=x.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=u;return Ot(()=>(y(w),()=>_(w)),[y,_,w]),a.jsxs(a.Fragment,{children:[a.jsx(Ce.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mi.createPortal(i.children,o.valueNode):null]})});SN.displayName=wo;var kN="SelectItemIndicator",EN=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return jN(kN,r).isSelected?a.jsx(Ce.span,{"aria-hidden":!0,...n,ref:t}):null});EN.displayName=kN;var Bp="SelectScrollUpButton",CN=x.forwardRef((e,t)=>{const r=Vs(Bp,e.__scopeSelect),n=Vg(Bp,e.__scopeSelect),[s,i]=x.useState(!1),o=Le(t,n.onScrollButtonChange);return Ot(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(PN,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});CN.displayName=Bp;var Wp="SelectScrollDownButton",TN=x.forwardRef((e,t)=>{const r=Vs(Wp,e.__scopeSelect),n=Vg(Wp,e.__scopeSelect),[s,i]=x.useState(!1),o=Le(t,n.onScrollButtonChange);return Ot(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(PN,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});TN.displayName=Wp;var PN=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Vs("SelectScrollButton",r),o=x.useRef(null),l=Fd(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Ot(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ce.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:de(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:de(s.onPointerLeave,()=>{c()})})}),_$="SelectSeparator",RN=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Ce.div,{"aria-hidden":!0,...n,ref:t})});RN.displayName=_$;var Vp="SelectArrow",y$=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ud(r),i=Ws(Vp,r),o=Vs(Vp,r);return i.open&&o.position==="popper"?a.jsx(aN,{...s,...n,ref:t}):null});y$.displayName=Vp;var v$="SelectBubbleInput",ON=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=x.useRef(null),i=Le(n,s),o=iN(t);return x.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),a.jsx(Ce.select,{...r,style:{...oN,...r.style},ref:i,defaultValue:t})});ON.displayName=v$;function AN(e){return e===""||e===void 0}function IN(e){const t=vn(e),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function DN(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=w$(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function w$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var b$=lN,$N=uN,j$=hN,N$=fN,S$=pN,MN=mN,k$=yN,LN=bN,FN=NN,E$=SN,C$=EN,UN=CN,zN=TN,BN=RN;const tr=b$,rr=j$,Mt=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs($N,{ref:n,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(N$,{asChild:!0,children:a.jsx(Nj,{className:"h-4 w-4 opacity-50"})})]}));Mt.displayName=$N.displayName;const WN=x.forwardRef(({className:e,...t},r)=>a.jsx(UN,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(TR,{className:"h-4 w-4"})}));WN.displayName=UN.displayName;const VN=x.forwardRef(({className:e,...t},r)=>a.jsx(zN,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Nj,{className:"h-4 w-4"})}));VN.displayName=zN.displayName;const Lt=x.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(S$,{children:a.jsxs(MN,{ref:s,className:Se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(WN,{}),a.jsx(k$,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(VN,{})]})}));Lt.displayName=MN.displayName;const T$=x.forwardRef(({className:e,...t},r)=>a.jsx(LN,{ref:r,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));T$.displayName=LN.displayName;const _e=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(FN,{ref:n,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(C$,{children:a.jsx(hg,{className:"h-4 w-4"})})}),a.jsx(E$,{children:t})]}));_e.displayName=FN.displayName;const P$=x.forwardRef(({className:e,...t},r)=>a.jsx(BN,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));P$.displayName=BN.displayName;var zd="Checkbox",[R$,BF]=qn(zd),[O$,qg]=R$(zd);function A$(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[p,m]=ki({prop:r,defaultProp:s??!1,onChange:c,caller:zd}),[w,y]=x.useState(null),[_,f]=x.useState(null),g=x.useRef(!1),v=w?!!o||!!w.closest("form"):!0,j={checked:p,disabled:i,setChecked:m,control:w,setControl:y,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:Es(s)?!1:s,isFormControl:v,bubbleInput:_,setBubbleInput:f};return a.jsx(O$,{scope:t,...j,children:I$(h)?h(j):n})}var qN="CheckboxTrigger",HN=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:w}=qg(qN,e),y=Le(s,d),_=x.useRef(c);return x.useEffect(()=>{const f=i==null?void 0:i.form;if(f){const g=()=>h(_.current);return f.addEventListener("reset",g),()=>f.removeEventListener("reset",g)}},[i,h]),a.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":Es(c)?"mixed":c,"aria-required":u,"data-state":XN(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:y,onKeyDown:de(t,f=>{f.key==="Enter"&&f.preventDefault()}),onClick:de(r,f=>{h(g=>Es(g)?!0:!g),w&&m&&(p.current=f.isPropagationStopped(),p.current||f.stopPropagation())})})});HN.displayName=qN;var Hg=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return a.jsx(A$,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>a.jsxs(a.Fragment,{children:[a.jsx(HN,{...h,ref:t,__scopeCheckbox:r}),p&&a.jsx(JN,{__scopeCheckbox:r})]})})});Hg.displayName=zd;var KN="CheckboxIndicator",GN=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=qg(KN,r);return a.jsx(Hn,{present:n||Es(i.checked)||i.checked===!0,children:a.jsx(Ce.span,{"data-state":XN(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});GN.displayName=KN;var YN="CheckboxBubbleInput",JN=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:p,setBubbleInput:m}=qg(YN,e),w=Le(r,m),y=iN(i),_=H1(n);x.useEffect(()=>{const g=p;if(!g)return;const v=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(v,"checked").set,N=!s.current;if(y!==i&&E){const k=new Event("click",{bubbles:N});g.indeterminate=Es(i),E.call(g,Es(i)?!1:i),g.dispatchEvent(k)}},[p,y,i,s]);const f=x.useRef(Es(i)?!1:i);return a.jsx(Ce.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??f.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});JN.displayName=YN;function I$(e){return typeof e=="function"}function Es(e){return e==="indeterminate"}function XN(e){return Es(e)?"indeterminate":e?"checked":"unchecked"}const nr=x.forwardRef(({className:e,...t},r)=>a.jsx(Hg,{ref:r,className:Se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(GN,{className:Se("flex items-center justify-center text-current"),children:a.jsx(hg,{className:"h-4 w-4"})})}));nr.displayName=Hg.displayName;var $e;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})($e||($e={}));var X0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(X0||(X0={}));const oe=$e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ls=e=>{switch(typeof e){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return Number.isNaN(e)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(e)?oe.array:e===null?oe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?oe.promise:typeof Map<"u"&&e instanceof Map?oe.map:typeof Set<"u"&&e instanceof Set?oe.set:typeof Date<"u"&&e instanceof Date?oe.date:oe.object;default:return oe.unknown}},K=$e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof bn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,$e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}bn.create=e=>new bn(e);const qp=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===oe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,$e.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${$e.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${$e.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${$e.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:$e.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,$e.assertNever(e)}return{message:r}};let D$=qp;function $$(){return D$}const M$=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function re(e,t){const r=$$(),n=M$({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===qp?void 0:qp].filter(s=>!!s)});e.common.issues.push(n)}class wr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ve;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return wr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ve;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ve=Object.freeze({status:"aborted"}),bo=e=>({status:"dirty",value:e}),Mr=e=>({status:"valid",value:e}),Z0=e=>e.status==="aborted",Q0=e=>e.status==="dirty",Ci=e=>e.status==="valid",Mu=e=>typeof Promise<"u"&&e instanceof Promise;var ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ce||(ce={}));class Is{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ey=(e,t)=>{if(Ci(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new bn(e.common.issues);return this._error=r,this._error}}};function Pe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class De{get description(){return this._def.description}_getType(t){return ls(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ls(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new wr,ctx:{common:t.parent.common,data:t.data,parsedType:ls(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Mu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)},s=this._parseSync({data:t,path:n.path,parent:n});return ey(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Ci(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Ci(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Mu(s)?s:Promise.resolve(s));return ey(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:K.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Ri({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Cs.create(this,this._def)}nullable(){return Oi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yn.create(this)}promise(){return zu.create(this,this._def)}or(t){return Fu.create([this,t],this._def)}and(t){return Uu.create(this,t,this._def)}transform(t){return new Ri({...Pe(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Yp({...Pe(this._def),innerType:this,defaultValue:r,typeName:we.ZodDefault})}brand(){return new iM({typeName:we.ZodBranded,type:this,...Pe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Jp({...Pe(this._def),innerType:this,catchValue:r,typeName:we.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Kg.create(this,t)}readonly(){return Xp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const L$=/^c[^\s-]{8,}$/i,F$=/^[0-9a-z]+$/,U$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,z$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,B$=/^[a-z0-9_-]{21}$/i,W$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,V$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,q$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,H$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Hh;const K$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,G$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Y$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,J$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,X$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Z$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ZN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Q$=new RegExp(`^${ZN}$`);function QN(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function eM(e){return new RegExp(`^${QN(e)}$`)}function tM(e){let t=`${ZN}T${QN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function rM(e,t){return!!((t==="v4"||!t)&&K$.test(e)||(t==="v6"||!t)&&Y$.test(e))}function nM(e,t){if(!W$.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function sM(e,t){return!!((t==="v4"||!t)&&G$.test(e)||(t==="v6"||!t)&&J$.test(e))}class ms extends De{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==oe.string){const i=this._getOrReturnCtx(t);return re(i,{code:K.invalid_type,expected:oe.string,received:i.parsedType}),ve}const n=new wr;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?re(s,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&re(s,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")q$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"email",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Hh||(Hh=new RegExp(H$,"u")),Hh.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"emoji",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")z$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"uuid",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")B$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"nanoid",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")L$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cuid",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")F$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cuid2",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")U$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"ulid",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),re(s,{validation:"url",code:K.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"regex",code:K.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),re(s,{code:K.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),re(s,{code:K.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),re(s,{code:K.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?tM(i).test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:K.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Q$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:K.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?eM(i).test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:K.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?V$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"duration",code:K.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?rM(t.data,i.version)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"ip",code:K.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?nM(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"jwt",code:K.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?sM(t.data,i.version)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cidr",code:K.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?X$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"base64",code:K.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Z$.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"base64url",code:K.invalid_string,message:i.message}),n.dirty()):$e.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:K.invalid_string,...ce.errToObj(n)})}_addCheck(t){return new ms({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ce.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ce.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ce.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ce.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ce.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ce.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ce.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ce.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ce.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ce.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ce.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ce.errToObj(r)})}nonempty(t){return this.min(1,ce.errToObj(t))}trim(){return new ms({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ms({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ms({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ms.create=e=>new ms({checks:[],typeName:we.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Pe(e)});function aM(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class Ti extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==oe.number){const i=this._getOrReturnCtx(t);return re(i,{code:K.invalid_type,expected:oe.number,received:i.parsedType}),ve}let n;const s=new wr;for(const i of this._def.checks)i.kind==="int"?$e.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{code:K.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:K.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:K.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?aM(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),re(n,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{code:K.not_finite,message:i.message}),s.dirty()):$e.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ce.toString(r))}setLimit(t,r,n,s){return new Ti({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(t){return new Ti({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&$e.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ti.create=e=>new Ti({checks:[],typeName:we.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Pe(e)});class hl extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==oe.bigint)return this._getInvalidInput(t);let n;const s=new wr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:K.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:K.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),re(n,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):$e.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return re(r,{code:K.invalid_type,expected:oe.bigint,received:r.parsedType}),ve}gte(t,r){return this.setLimit("min",t,!0,ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ce.toString(r))}setLimit(t,r,n,s){return new hl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(t){return new hl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}hl.create=e=>new hl({checks:[],typeName:we.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Pe(e)});class Hp extends De{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==oe.boolean){const n=this._getOrReturnCtx(t);return re(n,{code:K.invalid_type,expected:oe.boolean,received:n.parsedType}),ve}return Mr(t.data)}}Hp.create=e=>new Hp({typeName:we.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Pe(e)});class Lu extends De{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==oe.date){const i=this._getOrReturnCtx(t);return re(i,{code:K.invalid_type,expected:oe.date,received:i.parsedType}),ve}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return re(i,{code:K.invalid_date}),ve}const n=new wr;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:K.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:K.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):$e.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Lu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ce.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ce.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Lu.create=e=>new Lu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:we.ZodDate,...Pe(e)});class ty extends De{_parse(t){if(this._getType(t)!==oe.symbol){const n=this._getOrReturnCtx(t);return re(n,{code:K.invalid_type,expected:oe.symbol,received:n.parsedType}),ve}return Mr(t.data)}}ty.create=e=>new ty({typeName:we.ZodSymbol,...Pe(e)});class ry extends De{_parse(t){if(this._getType(t)!==oe.undefined){const n=this._getOrReturnCtx(t);return re(n,{code:K.invalid_type,expected:oe.undefined,received:n.parsedType}),ve}return Mr(t.data)}}ry.create=e=>new ry({typeName:we.ZodUndefined,...Pe(e)});class ny extends De{_parse(t){if(this._getType(t)!==oe.null){const n=this._getOrReturnCtx(t);return re(n,{code:K.invalid_type,expected:oe.null,received:n.parsedType}),ve}return Mr(t.data)}}ny.create=e=>new ny({typeName:we.ZodNull,...Pe(e)});class sy extends De{constructor(){super(...arguments),this._any=!0}_parse(t){return Mr(t.data)}}sy.create=e=>new sy({typeName:we.ZodAny,...Pe(e)});class ay extends De{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Mr(t.data)}}ay.create=e=>new ay({typeName:we.ZodUnknown,...Pe(e)});class Ds extends De{_parse(t){const r=this._getOrReturnCtx(t);return re(r,{code:K.invalid_type,expected:oe.never,received:r.parsedType}),ve}}Ds.create=e=>new Ds({typeName:we.ZodNever,...Pe(e)});class iy extends De{_parse(t){if(this._getType(t)!==oe.undefined){const n=this._getOrReturnCtx(t);return re(n,{code:K.invalid_type,expected:oe.void,received:n.parsedType}),ve}return Mr(t.data)}}iy.create=e=>new iy({typeName:we.ZodVoid,...Pe(e)});class yn extends De{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==oe.array)return re(r,{code:K.invalid_type,expected:oe.array,received:r.parsedType}),ve;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(re(r,{code:o?K.too_big:K.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(re(r,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(re(r,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Is(r,o,r.path,l)))).then(o=>wr.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new Is(r,o,r.path,l)));return wr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new yn({...this._def,minLength:{value:t,message:ce.toString(r)}})}max(t,r){return new yn({...this._def,maxLength:{value:t,message:ce.toString(r)}})}length(t,r){return new yn({...this._def,exactLength:{value:t,message:ce.toString(r)}})}nonempty(t){return this.min(1,t)}}yn.create=(e,t)=>new yn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Pe(t)});function Ha(e){if(e instanceof ut){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Cs.create(Ha(n))}return new ut({...e._def,shape:()=>t})}else return e instanceof yn?new yn({...e._def,type:Ha(e.element)}):e instanceof Cs?Cs.create(Ha(e.unwrap())):e instanceof Oi?Oi.create(Ha(e.unwrap())):e instanceof ba?ba.create(e.items.map(t=>Ha(t))):e}class ut extends De{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=$e.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==oe.object){const u=this._getOrReturnCtx(t);return re(u,{code:K.invalid_type,expected:oe.object,received:u.parsedType}),ve}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ds&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Is(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ds){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(re(s,{code:K.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Is(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>wr.mergeObjectSync(n,u)):wr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ce.errToObj,new ut({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ce.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new ut({...this._def,unknownKeys:"strip"})}passthrough(){return new ut({...this._def,unknownKeys:"passthrough"})}extend(t){return new ut({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ut({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:we.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ut({...this._def,catchall:t})}pick(t){const r={};for(const n of $e.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ut({...this._def,shape:()=>r})}omit(t){const r={};for(const n of $e.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new ut({...this._def,shape:()=>r})}deepPartial(){return Ha(this)}partial(t){const r={};for(const n of $e.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new ut({...this._def,shape:()=>r})}required(t){const r={};for(const n of $e.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Cs;)i=i._def.innerType;r[n]=i}return new ut({...this._def,shape:()=>r})}keyof(){return eS($e.objectKeys(this.shape))}}ut.create=(e,t)=>new ut({shape:()=>e,unknownKeys:"strip",catchall:Ds.create(),typeName:we.ZodObject,...Pe(t)});ut.strictCreate=(e,t)=>new ut({shape:()=>e,unknownKeys:"strict",catchall:Ds.create(),typeName:we.ZodObject,...Pe(t)});ut.lazycreate=(e,t)=>new ut({shape:e,unknownKeys:"strip",catchall:Ds.create(),typeName:we.ZodObject,...Pe(t)});class Fu extends De{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new bn(l.ctx.common.issues));return re(r,{code:K.invalid_union,unionErrors:o}),ve}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new bn(c));return re(r,{code:K.invalid_union,unionErrors:l}),ve}}get options(){return this._def.options}}Fu.create=(e,t)=>new Fu({options:e,typeName:we.ZodUnion,...Pe(t)});function Kp(e,t){const r=ls(e),n=ls(t);if(e===t)return{valid:!0,data:e};if(r===oe.object&&n===oe.object){const s=$e.objectKeys(t),i=$e.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Kp(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===oe.array&&n===oe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Kp(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===oe.date&&n===oe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Uu extends De{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Z0(i)||Z0(o))return ve;const l=Kp(i.value,o.value);return l.valid?((Q0(i)||Q0(o))&&r.dirty(),{status:r.value,value:l.data}):(re(n,{code:K.invalid_intersection_types}),ve)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Uu.create=(e,t,r)=>new Uu({left:e,right:t,typeName:we.ZodIntersection,...Pe(r)});class ba extends De{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==oe.array)return re(n,{code:K.invalid_type,expected:oe.array,received:n.parsedType}),ve;if(n.data.length<this._def.items.length)return re(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&n.data.length>this._def.items.length&&(re(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Is(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>wr.mergeArray(r,o)):wr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ba({...this._def,rest:t})}}ba.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ba({items:e,typeName:we.ZodTuple,rest:null,...Pe(t)})};class oy extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==oe.map)return re(n,{code:K.invalid_type,expected:oe.map,received:n.parsedType}),ve;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Is(n,l,n.path,[u,"key"])),value:i._parse(new Is(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ve;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ve;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}oy.create=(e,t,r)=>new oy({valueType:t,keyType:e,typeName:we.ZodMap,...Pe(r)});class fl extends De{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==oe.set)return re(n,{code:K.invalid_type,expected:oe.set,received:n.parsedType}),ve;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(re(n,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(re(n,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ve;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Is(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new fl({...this._def,minSize:{value:t,message:ce.toString(r)}})}max(t,r){return new fl({...this._def,maxSize:{value:t,message:ce.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}fl.create=(e,t)=>new fl({valueType:e,minSize:null,maxSize:null,typeName:we.ZodSet,...Pe(t)});class ly extends De{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ly.create=(e,t)=>new ly({getter:e,typeName:we.ZodLazy,...Pe(t)});class Gp extends De{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return re(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:t.data}}get value(){return this._def.value}}Gp.create=(e,t)=>new Gp({value:e,typeName:we.ZodLiteral,...Pe(t)});function eS(e,t){return new Pi({values:e,typeName:we.ZodEnum,...Pe(t)})}class Pi extends De{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return re(r,{expected:$e.joinValues(n),received:r.parsedType,code:K.invalid_type}),ve}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return re(r,{received:r.data,code:K.invalid_enum_value,options:n}),ve}return Mr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Pi.create(t,{...this._def,...r})}exclude(t,r=this._def){return Pi.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Pi.create=eS;class cy extends De{_parse(t){const r=$e.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==oe.string&&n.parsedType!==oe.number){const s=$e.objectValues(r);return re(n,{expected:$e.joinValues(s),received:n.parsedType,code:K.invalid_type}),ve}if(this._cache||(this._cache=new Set($e.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=$e.objectValues(r);return re(n,{received:n.data,code:K.invalid_enum_value,options:s}),ve}return Mr(t.data)}get enum(){return this._def.values}}cy.create=(e,t)=>new cy({values:e,typeName:we.ZodNativeEnum,...Pe(t)});class zu extends De{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.promise&&r.common.async===!1)return re(r,{code:K.invalid_type,expected:oe.promise,received:r.parsedType}),ve;const n=r.parsedType===oe.promise?r.data:Promise.resolve(r.data);return Mr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}zu.create=(e,t)=>new zu({type:e,typeName:we.ZodPromise,...Pe(t)});class Ri extends De{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{re(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ve;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ve:c.status==="dirty"||r.value==="dirty"?bo(c.value):c});{if(r.value==="aborted")return ve;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ve:l.status==="dirty"||r.value==="dirty"?bo(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ve:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ve:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ci(o))return ve;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ci(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):ve);$e.assertNever(s)}}Ri.create=(e,t,r)=>new Ri({schema:e,typeName:we.ZodEffects,effect:t,...Pe(r)});Ri.createWithPreprocess=(e,t,r)=>new Ri({schema:t,effect:{type:"preprocess",transform:e},typeName:we.ZodEffects,...Pe(r)});class Cs extends De{_parse(t){return this._getType(t)===oe.undefined?Mr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Cs.create=(e,t)=>new Cs({innerType:e,typeName:we.ZodOptional,...Pe(t)});class Oi extends De{_parse(t){return this._getType(t)===oe.null?Mr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Oi.create=(e,t)=>new Oi({innerType:e,typeName:we.ZodNullable,...Pe(t)});class Yp extends De{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===oe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Yp.create=(e,t)=>new Yp({innerType:e,typeName:we.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Pe(t)});class Jp extends De{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Mu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Jp.create=(e,t)=>new Jp({innerType:e,typeName:we.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Pe(t)});class uy extends De{_parse(t){if(this._getType(t)!==oe.nan){const n=this._getOrReturnCtx(t);return re(n,{code:K.invalid_type,expected:oe.nan,received:n.parsedType}),ve}return{status:"valid",value:t.data}}}uy.create=e=>new uy({typeName:we.ZodNaN,...Pe(e)});class iM extends De{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Kg extends De{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ve:i.status==="dirty"?(r.dirty(),bo(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ve:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Kg({in:t,out:r,typeName:we.ZodPipeline})}}class Xp extends De{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Ci(s)&&(s.value=Object.freeze(s.value)),s);return Mu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Xp.create=(e,t)=>new Xp({innerType:e,typeName:we.ZodReadonly,...Pe(t)});var we;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(we||(we={}));const Fe=ms.create,dy=Ti.create,Kh=Hp.create;Ds.create;const Zp=yn.create,Hr=ut.create;Fu.create;Uu.create;ba.create;const oM=Gp.create,Qs=Pi.create;zu.create;Cs.create;Oi.create;const lM=Hr({contact:Hr({fullName:Fe().min(2,"Full name is required"),phone:Fe().min(10,"Phone number is required"),email:Fe().email("Valid email required")}),address:Hr({street:Fe().min(5,"Street address is required"),unit:Fe().optional(),city:Fe().min(2,"City is required"),state:Fe().length(2,"State must be 2 characters"),zip:Fe().regex(/^\d{5}$/,"ZIP must be 5 digits")}),incident:Hr({peril:Qs(["flood","water","wind","fire","mold","other"]),incidentAt:Fe().min(1,"Incident date is required"),description:Fe().min(20,"Description must be at least 20 characters").max(500,"Description must be under 500 characters"),areas:Fe().optional(),waterCategory:Qs(["1","2","3"]).optional(),powerOn:Kh().optional(),sqftImpacted:dy().optional()}),media:Hr({uploads:Zp(Hr({storagePath:Fe(),type:Qs(["photo","video"]),roomTag:Fe().optional(),caption:Fe().optional()})).optional().default([])}),insurance:Hr({willFile:Qs(["yes","no","unsure"]),carrierName:Fe().optional(),customCarrierName:Fe().optional(),policyNumber:Fe().optional(),deductibleCents:dy().optional()}),schedule:Hr({preferredDateISO:Fe().min(1,"Preferred date is required"),preferredWindow:Qs(["8-10","10-12","12-2","2-4","4-6"])}),consents:Hr({shareAndContactOk:Kh().refine(e=>e===!0,"You must consent to share information"),termsAccepted:Kh().refine(e=>e===!0,"You must accept terms and conditions")})}),cM=Hr({company_name:Fe().min(2,"Company name is required"),contact_name:Fe().min(2,"Contact name is required"),email:Fe().email("Valid email required"),phone:Fe().min(10,"Phone number is required"),service_areas:Zp(Fe()).min(1,"At least one service area required"),trades:Zp(Fe()).min(1,"At least one trade required"),capacity:Qs(["active","paused"]).default("active"),calendly_url:Fe().url().optional().or(oM(""))}),uM=Hr({email:Fe().email("Please enter a valid email address").refine(e=>{var n;const t=(n=e.split("@")[1])==null?void 0:n.toLowerCase();return!["something.com","example.com","test.com","placeholder.com","fake.com","dummy.com"].includes(t)},"Please use a real email address, not a placeholder"),password:Fe().min(6,"Password must be at least 6 characters"),confirmPassword:Fe(),fullName:Fe().min(2,"Full name must be at least 2 characters"),phone:Fe().regex(/^\+1[0-9]{10}$/,"Phone must be in E.164 format (+1XXXXXXXXXX)"),role:Qs(["homeowner","business_owner","contractor","admin"])}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function dM(e,t){return t.filter(r=>r.capacity==="active").map(r=>{let n=0;const s=[];n+=10,s.push("Available");const o={flood:["water_mitigation","rebuild"],water:["water_mitigation","mold"],wind:["rebuild","roofing"],fire:["rebuild","smoke_restoration"],mold:["mold","water_mitigation"],other:["rebuild"]}[e.peril]||["rebuild"];r.trades.some(m=>o.includes(m))&&(n+=25,s.push("Specialized in "+e.peril+" damage"));const c=r.service_areas.map(m=>m.toLowerCase());c.includes(e.zip)?(n+=30,s.push("Serves your ZIP code")):c.includes(e.city.toLowerCase())?(n+=25,s.push("Serves your city")):c.includes(e.state.toLowerCase())&&(n+=15,s.push("Serves your state"));const u=new Date(e.incident_at),d=Math.floor((Date.now()-u.getTime())/(1e3*60*60*24));d<=1?(n+=10,s.push("Emergency response available")):d<=3&&(n+=5,s.push("Quick response available"));const h=new Date(e.preferred_date),p=Math.floor((h.getTime()-Date.now())/(1e3*60*60*24));return p>=1&&p<=7&&(n+=5,s.push("Available for preferred date")),r.calendly_url&&(n+=5,s.push("Online scheduling available")),{...r,score:n,reasons:s}}).filter(r=>r.score>0).sort((r,n)=>n.score-r.score)}function hM(e,t=3){return e.slice(0,t)}function tS(e,t){let r=0;const n=e+t;for(let s=0;s<n.length;s++){const i=n.charCodeAt(s);r=(r<<5)-r+i,r=r&r}return Math.abs(r).toString(36)}function hy(e){const t=Math.floor(Date.now()/1e3)+172800,r={...e,exp:t},n=JSON.stringify(r),i=tS(n,"your-secret-key");return`${btoa(n)}.${i}`}function rS(e){try{console.log("Verifying token:",e);const[t,r]=e.split(".");if(console.log("Token parts:",{dataB64:!!t,signature:!!r}),!t||!r)return console.error("Token format is invalid - missing parts"),null;let n;try{n=atob(t),console.log("Decoded base64 data length:",n.length)}catch(c){return console.error("Base64 decoding failed:",c),null}const i=tS(n,"your-secret-key");if(console.log("Signature check:",{actual:r,expected:i,match:r===i}),r!==i)return console.error("Signature mismatch"),null;let o;try{o=JSON.parse(n),console.log("Parsed payload:",o)}catch(c){return console.error("JSON parsing failed:",c),null}const l=Date.now()/1e3;return console.log("Expiration check:",{expiration:o.exp,now:l,valid:l<o.exp}),l>o.exp?(console.error("Token expired"),null):o}catch(t){return console.error("Token verification error:",t),null}}var $s={},Ki={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS=x;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xt=Object.prototype.hasOwnProperty,fM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fy={},py={};function sS(e){return Xt.call(py,e)?!0:Xt.call(fy,e)?!1:fM.test(e)?py[e]=!0:(fy[e]=!0,!1)}function Wt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function Yg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gg,Yg);St[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gg,Yg);St[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gg,Yg);St[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});var Wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pM=["Webkit","ms","Moz","O"];Object.keys(Wc).forEach(function(e){pM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wc[t]=Wc[e]})});var mM=/["'&<>]/;function Ft(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=mM.exec(e);if(t){var r="",n,s=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==n&&(r+=e.substring(s,n)),s=n+1,r+=t}e=s!==n?r+e.substring(s,n):r}return e}var gM=/([A-Z])/g,xM=/^ms-/,Qp=Array.isArray;function En(e,t){return{insertionMode:e,selectedValue:t}}function _M(e,t,r){switch(t){case"select":return En(1,r.value!=null?r.value:r.defaultValue);case"svg":return En(2,null);case"math":return En(3,null);case"foreignObject":return En(1,null);case"table":return En(4,null);case"thead":case"tbody":case"tfoot":return En(5,null);case"colgroup":return En(7,null);case"tr":return En(6,null)}return 4<=e.insertionMode||e.insertionMode===0?En(1,null):e}var my=new Map;function aS(e,t,r){if(typeof r!="object")throw Error(Ne(62));t=!0;for(var n in r)if(Xt.call(r,n)){var s=r[n];if(s!=null&&typeof s!="boolean"&&s!==""){if(n.indexOf("--")===0){var i=Ft(n);s=Ft((""+s).trim())}else{i=n;var o=my.get(i);o!==void 0||(o=Ft(i.replace(gM,"-$1").toLowerCase().replace(xM,"-ms-")),my.set(i,o)),i=o,s=typeof s=="number"?s===0||Xt.call(Wc,n)?""+s:s+"px":Ft((""+s).trim())}t?(t=!1,e.push(' style="',i,":",s)):e.push(";",i,":",s)}}t||e.push('"')}function lr(e,t,r,n){switch(r){case"style":aS(e,t,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){if(t=St.hasOwnProperty(r)?St[r]:null,t!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(r=t.attributeName,t.type){case 3:n&&e.push(" ",r,'=""');break;case 4:n===!0?e.push(" ",r,'=""'):n!==!1&&e.push(" ",r,'="',Ft(n),'"');break;case 5:isNaN(n)||e.push(" ",r,'="',Ft(n),'"');break;case 6:!isNaN(n)&&1<=n&&e.push(" ",r,'="',Ft(n),'"');break;default:t.sanitizeURL&&(n=""+n),e.push(" ",r,'="',Ft(n),'"')}}else if(sS(r)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(t=r.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",r,'="',Ft(n),'"')}}}function Vc(e,t,r){if(t!=null){if(r!=null)throw Error(Ne(60));if(typeof t!="object"||!("__html"in t))throw Error(Ne(61));t=t.__html,t!=null&&e.push(""+t)}}function yM(e){var t="";return nS.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function Gh(e,t,r,n){e.push(ln(r));var s=r=null,i;for(i in t)if(Xt.call(t,i)){var o=t[i];if(o!=null)switch(i){case"children":r=o;break;case"dangerouslySetInnerHTML":s=o;break;default:lr(e,n,i,o)}}return e.push(">"),Vc(e,s,r),typeof r=="string"?(e.push(Ft(r)),null):r}var vM=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,gy=new Map;function ln(e){var t=gy.get(e);if(t===void 0){if(!vM.test(e))throw Error(Ne(65,e));t="<"+e,gy.set(e,t)}return t}function wM(e,t,r,n,s){switch(t){case"select":e.push(ln("select"));var i=null,o=null;for(d in r)if(Xt.call(r,d)){var l=r[d];if(l!=null)switch(d){case"children":i=l;break;case"dangerouslySetInnerHTML":o=l;break;case"defaultValue":case"value":break;default:lr(e,n,d,l)}}return e.push(">"),Vc(e,o,i),i;case"option":o=s.selectedValue,e.push(ln("option"));var c=l=null,u=null,d=null;for(i in r)if(Xt.call(r,i)){var h=r[i];if(h!=null)switch(i){case"children":l=h;break;case"selected":u=h;break;case"dangerouslySetInnerHTML":d=h;break;case"value":c=h;default:lr(e,n,i,h)}}if(o!=null)if(r=c!==null?""+c:yM(l),Qp(o)){for(n=0;n<o.length;n++)if(""+o[n]===r){e.push(' selected=""');break}}else""+o===r&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),Vc(e,d,l),l;case"textarea":e.push(ln("textarea")),d=o=i=null;for(l in r)if(Xt.call(r,l)&&(c=r[l],c!=null))switch(l){case"children":d=c;break;case"value":i=c;break;case"defaultValue":o=c;break;case"dangerouslySetInnerHTML":throw Error(Ne(91));default:lr(e,n,l,c)}if(i===null&&o!==null&&(i=o),e.push(">"),d!=null){if(i!=null)throw Error(Ne(92));if(Qp(d)&&1<d.length)throw Error(Ne(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Ft(""+i)),null;case"input":e.push(ln("input")),c=d=l=i=null;for(o in r)if(Xt.call(r,o)&&(u=r[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Ne(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":l=u;break;case"checked":d=u;break;case"value":i=u;break;default:lr(e,n,o,u)}return d!==null?lr(e,n,"checked",d):c!==null&&lr(e,n,"checked",c),i!==null?lr(e,n,"value",i):l!==null&&lr(e,n,"value",l),e.push("/>"),null;case"menuitem":e.push(ln("menuitem"));for(var p in r)if(Xt.call(r,p)&&(i=r[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Ne(400));default:lr(e,n,p,i)}return e.push(">"),null;case"title":e.push(ln("title")),i=null;for(h in r)if(Xt.call(r,h)&&(o=r[h],o!=null))switch(h){case"children":i=o;break;case"dangerouslySetInnerHTML":throw Error(Ne(434));default:lr(e,n,h,o)}return e.push(">"),i;case"listing":case"pre":e.push(ln(t)),o=i=null;for(c in r)if(Xt.call(r,c)&&(l=r[c],l!=null))switch(c){case"children":i=l;break;case"dangerouslySetInnerHTML":o=l;break;default:lr(e,n,c,l)}if(e.push(">"),o!=null){if(i!=null)throw Error(Ne(60));if(typeof o!="object"||!("__html"in o))throw Error(Ne(61));r=o.__html,r!=null&&(typeof r=="string"&&0<r.length&&r[0]===`
`?e.push(`
`,r):e.push(""+r))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(ln(t));for(var m in r)if(Xt.call(r,m)&&(i=r[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Ne(399,t));default:lr(e,n,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Gh(e,r,t,n);case"html":return s.insertionMode===0&&e.push("<!DOCTYPE html>"),Gh(e,r,t,n);default:if(t.indexOf("-")===-1&&typeof r.is!="string")return Gh(e,r,t,n);e.push(ln(t)),o=i=null;for(u in r)if(Xt.call(r,u)&&(l=r[u],l!=null))switch(u){case"children":i=l;break;case"dangerouslySetInnerHTML":o=l;break;case"style":aS(e,n,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:sS(u)&&typeof l!="function"&&typeof l!="symbol"&&e.push(" ",u,'="',Ft(l),'"')}return e.push(">"),Vc(e,o,i),i}}function xy(e,t,r){if(e.push('<!--$?--><template id="'),r===null)throw Error(Ne(395));return e.push(r),e.push('"></template>')}function bM(e,t,r,n){switch(r.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');default:throw Error(Ne(397))}}function jM(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(Ne(397))}}var NM=/[<\u2028\u2029]/g;function Yh(e){return JSON.stringify(e).replace(NM,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function SM(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function _y(e,t,r,n){return r.generateStaticMarkup?(e.push(Ft(t)),!1):(t===""?e=n:(n&&e.push("<!-- -->"),e.push(Ft(t)),e=!0),e)}var Uo=Object.assign,kM=Symbol.for("react.element"),iS=Symbol.for("react.portal"),oS=Symbol.for("react.fragment"),lS=Symbol.for("react.strict_mode"),cS=Symbol.for("react.profiler"),uS=Symbol.for("react.provider"),dS=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),fS=Symbol.for("react.suspense"),pS=Symbol.for("react.suspense_list"),mS=Symbol.for("react.memo"),Jg=Symbol.for("react.lazy"),EM=Symbol.for("react.scope"),CM=Symbol.for("react.debug_trace_mode"),TM=Symbol.for("react.legacy_hidden"),PM=Symbol.for("react.default_value"),yy=Symbol.iterator;function em(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oS:return"Fragment";case iS:return"Portal";case cS:return"Profiler";case lS:return"StrictMode";case fS:return"Suspense";case pS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dS:return(e.displayName||"Context")+".Consumer";case uS:return(e._context.displayName||"Context")+".Provider";case hS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mS:return t=e.displayName||null,t!==null?t:em(e.type)||"Memo";case Jg:t=e._payload,e=e._init;try{return em(e(t))}catch{}}return null}var gS={};function vy(e,t){if(e=e.contextTypes,!e)return gS;var r={},n;for(n in e)r[n]=t[n];return r}var ia=null;function Bd(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var r=t.parent;if(e===null){if(r!==null)throw Error(Ne(401))}else{if(r===null)throw Error(Ne(401));Bd(e,r)}t.context._currentValue2=t.value}}function xS(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&xS(e)}function _S(e){var t=e.parent;t!==null&&_S(t),e.context._currentValue2=e.value}function yS(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(Ne(402));e.depth===t.depth?Bd(e,t):yS(e,t)}function vS(e,t){var r=t.parent;if(r===null)throw Error(Ne(402));e.depth===r.depth?Bd(e,r):vS(e,r),t.context._currentValue2=t.value}function Bu(e){var t=ia;t!==e&&(t===null?_S(e):e===null?xS(t):t.depth===e.depth?Bd(t,e):t.depth>e.depth?yS(t,e):vS(t,e),ia=e)}var wy={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function by(e,t,r,n){var s=e.state!==void 0?e.state:null;e.updater=wy,e.props=r,e.state=s;var i={queue:[],replace:!1};e._reactInternals=i;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue2:n,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(r,s),s=o==null?s:Uo({},s,o),e.state=s),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&wy.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,o=i.replace,i.queue=null,i.replace=!1,o&&t.length===1)e.state=t[0];else{for(i=o?t[0]:e.state,s=!0,o=o?1:0;o<t.length;o++){var l=t[o];l=typeof l=="function"?l.call(e,i,r,n):l,l!=null&&(s?(s=!1,i=Uo({},i,l)):Uo(i,l))}e.state=i}else i.queue=null}var RM={id:1,overflow:""};function tm(e,t,r){var n=e.id;e=e.overflow;var s=32-qc(n)-1;n&=~(1<<s),r+=1;var i=32-qc(t)+s;if(30<i){var o=s-s%5;return i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,{id:1<<32-qc(t)+s|r<<s|n,overflow:i+e}}return{id:1<<i|r<<s|n,overflow:e}}var qc=Math.clz32?Math.clz32:IM,OM=Math.log,AM=Math.LN2;function IM(e){return e>>>=0,e===0?32:31-(OM(e)/AM|0)|0}function DM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $M=typeof Object.is=="function"?Object.is:DM,Bn=null,Xg=null,Hc=null,qe=null,jo=!1,Wu=!1,pl=0,gs=null,Wd=0;function ea(){if(Bn===null)throw Error(Ne(321));return Bn}function jy(){if(0<Wd)throw Error(Ne(312));return{memoizedState:null,queue:null,next:null}}function Zg(){return qe===null?Hc===null?(jo=!1,Hc=qe=jy()):(jo=!0,qe=Hc):qe.next===null?(jo=!1,qe=qe.next=jy()):(jo=!0,qe=qe.next),qe}function Qg(){Xg=Bn=null,Wu=!1,Hc=null,Wd=0,qe=gs=null}function wS(e,t){return typeof t=="function"?t(e):t}function Ny(e,t,r){if(Bn=ea(),qe=Zg(),jo){var n=qe.queue;if(t=n.dispatch,gs!==null&&(r=gs.get(n),r!==void 0)){gs.delete(n),n=qe.memoizedState;do n=e(n,r.action),r=r.next;while(r!==null);return qe.memoizedState=n,[n,t]}return[qe.memoizedState,t]}return e=e===wS?typeof t=="function"?t():t:r!==void 0?r(t):t,qe.memoizedState=e,e=qe.queue={last:null,dispatch:null},e=e.dispatch=MM.bind(null,Bn,e),[qe.memoizedState,e]}function Sy(e,t){if(Bn=ea(),qe=Zg(),t=t===void 0?null:t,qe!==null){var r=qe.memoizedState;if(r!==null&&t!==null){var n=r[1];e:if(n===null)n=!1;else{for(var s=0;s<n.length&&s<t.length;s++)if(!$M(t[s],n[s])){n=!1;break e}n=!0}if(n)return r[0]}}return e=e(),qe.memoizedState=[e,t],e}function MM(e,t,r){if(25<=Wd)throw Error(Ne(301));if(e===Bn)if(Wu=!0,e={action:r,next:null},gs===null&&(gs=new Map),r=gs.get(t),r===void 0)gs.set(t,e);else{for(t=r;t.next!==null;)t=t.next;t.next=e}}function LM(){throw Error(Ne(394))}function xc(){}var ky={readContext:function(e){return e._currentValue2},useContext:function(e){return ea(),e._currentValue2},useMemo:Sy,useReducer:Ny,useRef:function(e){Bn=ea(),qe=Zg();var t=qe.memoizedState;return t===null?(e={current:e},qe.memoizedState=e):t},useState:function(e){return Ny(wS,e)},useInsertionEffect:xc,useLayoutEffect:function(){},useCallback:function(e,t){return Sy(function(){return e},t)},useImperativeHandle:xc,useEffect:xc,useDebugValue:xc,useDeferredValue:function(e){return ea(),e},useTransition:function(){return ea(),[!1,LM]},useId:function(){var e=Xg.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-qc(e)-1)).toString(32)+t;var r=Kc;if(r===null)throw Error(Ne(404));return t=pl++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return ea(),t(e._source)},useSyncExternalStore:function(e,t,r){if(r===void 0)throw Error(Ne(407));return r()}},Kc=null,Jh=nS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function FM(e){return console.error(e),null}function No(){}function UM(e,t,r,n,s,i,o,l,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:s===void 0?FM:s,onAllReady:No,onShellReady:o===void 0?No:o,onShellError:No,onFatalError:No},r=Vu(t,0,null,r,!1,!1),r.parentFlushed=!0,e=ex(t,e,null,r,d,gS,null,RM),u.push(e),t}function ex(e,t,r,n,s,i,o,l){e.allPendingTasks++,r===null?e.pendingRootTasks++:r.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&NS(e)},blockedBoundary:r,blockedSegment:n,abortSet:s,legacyContext:i,context:o,treeContext:l};return s.add(c),c}function Vu(e,t,r,n,s,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:r,lastPushedText:s,textEmbedded:i}}function ml(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function qu(e,t){var r=e.onShellError;r(t),r=e.onFatalError,r(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Ey(e,t,r,n,s){for(Bn={},Xg=t,pl=0,e=r(n,s);Wu;)Wu=!1,pl=0,Wd+=1,qe=null,e=r(n,s);return Qg(),e}function Cy(e,t,r,n){var s=r.render(),i=n.childContextTypes;if(i!=null){var o=t.legacyContext;if(typeof r.getChildContext!="function")n=o;else{r=r.getChildContext();for(var l in r)if(!(l in i))throw Error(Ne(108,em(n)||"Unknown",l));n=Uo({},o,r)}t.legacyContext=n,dr(e,t,s),t.legacyContext=o}else dr(e,t,s)}function Ty(e,t){if(e&&e.defaultProps){t=Uo({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rm(e,t,r,n,s){if(typeof r=="function")if(r.prototype&&r.prototype.isReactComponent){s=vy(r,t.legacyContext);var i=r.contextType;i=new r(n,typeof i=="object"&&i!==null?i._currentValue2:s),by(i,r,n,s),Cy(e,t,i,r)}else{i=vy(r,t.legacyContext),s=Ey(e,t,r,n,i);var o=pl!==0;if(typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0)by(s,r,n,i),Cy(e,t,s,r);else if(o){n=t.treeContext,t.treeContext=tm(n,1,0);try{dr(e,t,s)}finally{t.treeContext=n}}else dr(e,t,s)}else if(typeof r=="string"){switch(s=t.blockedSegment,i=wM(s.chunks,r,n,e.responseState,s.formatContext),s.lastPushedText=!1,o=s.formatContext,s.formatContext=_M(o,r,n),nm(e,t,i),s.formatContext=o,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:s.chunks.push("</",r,">")}s.lastPushedText=!1}else{switch(r){case TM:case CM:case lS:case cS:case oS:dr(e,t,n.children);return;case pS:dr(e,t,n.children);return;case EM:throw Error(Ne(343));case fS:e:{r=t.blockedBoundary,s=t.blockedSegment,i=n.fallback,n=n.children,o=new Set;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},c=Vu(e,s.chunks.length,l,s.formatContext,!1,!1);s.children.push(c),s.lastPushedText=!1;var u=Vu(e,0,null,s.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=u;try{if(nm(e,t,n),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,Hu(l,u),l.pendingTasks===0)break e}catch(d){u.status=4,l.forceClientRender=!0,l.errorDigest=ml(e,d)}finally{t.blockedBoundary=r,t.blockedSegment=s}t=ex(e,i,r,c,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof r=="object"&&r!==null)switch(r.$$typeof){case hS:if(n=Ey(e,t,r.render,n,s),pl!==0){r=t.treeContext,t.treeContext=tm(r,1,0);try{dr(e,t,n)}finally{t.treeContext=r}}else dr(e,t,n);return;case mS:r=r.type,n=Ty(r,n),rm(e,t,r,n,s);return;case uS:if(s=n.children,r=r._context,n=n.value,i=r._currentValue2,r._currentValue2=n,o=ia,ia=n={parent:o,depth:o===null?0:o.depth+1,context:r,parentValue:i,value:n},t.context=n,dr(e,t,s),e=ia,e===null)throw Error(Ne(403));n=e.parentValue,e.context._currentValue2=n===PM?e.context._defaultValue:n,e=ia=e.parent,t.context=e;return;case dS:n=n.children,n=n(r._currentValue2),dr(e,t,n);return;case Jg:s=r._init,r=s(r._payload),n=Ty(r,n),rm(e,t,r,n,void 0);return}throw Error(Ne(130,r==null?r:typeof r,""))}}function dr(e,t,r){if(t.node=r,typeof r=="object"&&r!==null){switch(r.$$typeof){case kM:rm(e,t,r.type,r.props,r.ref);return;case iS:throw Error(Ne(257));case Jg:var n=r._init;r=n(r._payload),dr(e,t,r);return}if(Qp(r)){Py(e,t,r);return}if(r===null||typeof r!="object"?n=null:(n=yy&&r[yy]||r["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(r))){if(r=n.next(),!r.done){var s=[];do s.push(r.value),r=n.next();while(!r.done);Py(e,t,s)}return}throw e=Object.prototype.toString.call(r),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}typeof r=="string"?(n=t.blockedSegment,n.lastPushedText=_y(t.blockedSegment.chunks,r,e.responseState,n.lastPushedText)):typeof r=="number"&&(n=t.blockedSegment,n.lastPushedText=_y(t.blockedSegment.chunks,""+r,e.responseState,n.lastPushedText))}function Py(e,t,r){for(var n=r.length,s=0;s<n;s++){var i=t.treeContext;t.treeContext=tm(i,n,s);try{nm(e,t,r[s])}finally{t.treeContext=i}}}function nm(e,t,r){var n=t.blockedSegment.formatContext,s=t.legacyContext,i=t.context;try{return dr(e,t,r)}catch(c){if(Qg(),typeof c=="object"&&c!==null&&typeof c.then=="function"){r=c;var o=t.blockedSegment,l=Vu(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(l),o.lastPushedText=!1,e=ex(e,t.node,t.blockedBoundary,l,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,r.then(e,e),t.blockedSegment.formatContext=n,t.legacyContext=s,t.context=i,Bu(i)}else throw t.blockedSegment.formatContext=n,t.legacyContext=s,t.context=i,Bu(i),c}}function zM(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,jS(this,t,e)}function bS(e,t,r){var n=e.blockedBoundary;e.blockedSegment.status=3,n===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,e=r===void 0?Error(Ne(432)):r,n.errorDigest=t.onError(e),n.parentFlushed&&t.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(s){return bS(s,t,r)}),n.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(n=t.onAllReady,n()))}function Hu(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,r.status===1&&Hu(e,r)}else e.completedSegments.push(t)}function jS(e,t,r){if(t===null){if(r.parentFlushed){if(e.completedRootSegment!==null)throw Error(Ne(389));e.completedRootSegment=r}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=No,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(r.parentFlushed&&r.status===1&&Hu(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(zM,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&r.status===1&&(Hu(t,r),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function NS(e){if(e.status!==2){var t=ia,r=Jh.current;Jh.current=ky;var n=Kc;Kc=e.responseState;try{var s=e.pingedTasks,i;for(i=0;i<s.length;i++){var o=s[i],l=e,c=o.blockedSegment;if(c.status===0){Bu(o.context);try{dr(l,o,o.node),l.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),o.abortSet.delete(o),c.status=1,jS(l,o.blockedBoundary,c)}catch(w){if(Qg(),typeof w=="object"&&w!==null&&typeof w.then=="function"){var u=o.ping;w.then(u,u)}else{o.abortSet.delete(o),c.status=4;var d=o.blockedBoundary,h=w,p=ml(l,h);if(d===null?qu(l,h):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&l.clientRenderedBoundaries.push(d))),l.allPendingTasks--,l.allPendingTasks===0){var m=l.onAllReady;m()}}}finally{}}}s.splice(0,i),e.destination!==null&&tx(e,e.destination)}catch(w){ml(e,w),qu(e,w)}finally{Kc=n,Jh.current=r,r===ky&&Bu(t)}}}function _c(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var n=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=n.toString(16),t.push(e),t.push('"></template>');case 1:r.status=2;var s=!0;n=r.chunks;var i=0;r=r.children;for(var o=0;o<r.length;o++){for(s=r[o];i<s.index;i++)t.push(n[i]);s=Vd(e,t,s)}for(;i<n.length-1;i++)t.push(n[i]);return i<n.length&&(s=t.push(n[i])),s;default:throw Error(Ne(390))}}function Vd(e,t,r){var n=r.boundary;if(n===null)return _c(e,t,r);if(n.parentFlushed=!0,n.forceClientRender)return e.responseState.generateStaticMarkup||(n=n.errorDigest,t.push("<!--$!-->"),t.push("<template"),n&&(t.push(' data-dgst="'),n=Ft(n),t.push(n),t.push('"')),t.push("></template>")),_c(e,t,r),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<n.pendingTasks){n.rootSegmentID=e.nextSegmentId++,0<n.completedSegments.length&&e.partialBoundaries.push(n);var s=e.responseState,i=s.nextSuspenseID++;return s=s.boundaryPrefix+i.toString(16),n=n.id=s,xy(t,e.responseState,n),_c(e,t,r),t.push("<!--/$-->")}if(n.byteSize>e.progressiveChunkSize)return n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),xy(t,e.responseState,n.id),_c(e,t,r),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),r=n.completedSegments,r.length!==1)throw Error(Ne(391));return Vd(e,t,r[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function Ry(e,t,r){return bM(t,e.responseState,r.formatContext,r.id),Vd(e,t,r),jM(t,r.formatContext)}function Oy(e,t,r){for(var n=r.completedSegments,s=0;s<n.length;s++)SS(e,t,r,n[s]);if(n.length=0,e=e.responseState,n=r.id,r=r.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),n===null)throw Error(Ne(395));return r=r.toString(16),t.push(n),t.push('","'),t.push(e.segmentPrefix),t.push(r),t.push('")<\/script>')}function SS(e,t,r,n){if(n.status===2)return!0;var s=n.id;if(s===-1){if((n.id=r.rootSegmentID)===-1)throw Error(Ne(392));return Ry(e,t,n)}return Ry(e,t,n),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),s=s.toString(16),t.push(s),t.push('","'),t.push(e.placeholderPrefix),t.push(s),t.push('")<\/script>')}function tx(e,t){try{var r=e.completedRootSegment;if(r!==null&&e.pendingRootTasks===0){Vd(e,t,r),e.completedRootSegment=null;var n=e.responseState.bootstrapChunks;for(r=0;r<n.length-1;r++)t.push(n[r]);r<n.length&&t.push(n[r])}var s=e.clientRenderedBoundaries,i;for(i=0;i<s.length;i++){var o=s[i];n=t;var l=e.responseState,c=o.id,u=o.errorDigest,d=o.errorMessage,h=o.errorComponentStack;if(n.push(l.startInlineScript),l.sentClientRenderFunction?n.push('$RX("'):(l.sentClientRenderFunction=!0,n.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),c===null)throw Error(Ne(395));if(n.push(c),n.push('"'),u||d||h){n.push(",");var p=Yh(u||"");n.push(p)}if(d||h){n.push(",");var m=Yh(d||"");n.push(m)}if(h){n.push(",");var w=Yh(h);n.push(w)}if(!n.push(")<\/script>")){e.destination=null,i++,s.splice(0,i);return}}s.splice(0,i);var y=e.completedBoundaries;for(i=0;i<y.length;i++)if(!Oy(e,t,y[i])){e.destination=null,i++,y.splice(0,i);return}y.splice(0,i);var _=e.partialBoundaries;for(i=0;i<_.length;i++){var f=_[i];e:{s=e,o=t;var g=f.completedSegments;for(l=0;l<g.length;l++)if(!SS(s,o,f,g[l])){l++,g.splice(0,l);var v=!1;break e}g.splice(0,l),v=!0}if(!v){e.destination=null,i++,_.splice(0,i);return}}_.splice(0,i);var j=e.completedBoundaries;for(i=0;i<j.length;i++)if(!Oy(e,t,j[i])){e.destination=null,i++,j.splice(0,i);return}j.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function BM(e,t){try{var r=e.abortableTasks;r.forEach(function(n){return bS(n,e,t)}),r.clear(),e.destination!==null&&tx(e,e.destination)}catch(n){ml(e,n),qu(e,n)}}function WM(){}function kS(e,t,r,n){var s=!1,i=null,o="",l={push:function(u){return u!==null&&(o+=u),!0},destroy:function(u){s=!0,i=u}},c=!1;if(e=UM(e,SM(r,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,WM,void 0,function(){c=!0}),NS(e),BM(e,n),e.status===1)e.status=2,l.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=l;try{tx(e,l)}catch(u){ml(e,u),qu(e,u)}}if(s)throw i;if(!c)throw Error(Ne(426));return o}Ki.renderToNodeStream=function(){throw Error(Ne(207))};Ki.renderToStaticMarkup=function(e,t){return kS(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Ki.renderToStaticNodeStream=function(){throw Error(Ne(208))};Ki.renderToString=function(e,t){return kS(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Ki.version="18.2.0";var rx={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES=x;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hr=null,fr=0;function ue(e,t){if(t.length!==0)if(512<t.length)0<fr&&(e.enqueue(new Uint8Array(hr.buffer,0,fr)),hr=new Uint8Array(512),fr=0),e.enqueue(t);else{var r=hr.length-fr;r<t.length&&(r===0?e.enqueue(hr):(hr.set(t.subarray(0,r),fr),e.enqueue(hr),t=t.subarray(r)),hr=new Uint8Array(512),fr=0),hr.set(t,fr),fr+=t.length}}function Je(e,t){return ue(e,t),!0}function Ay(e){hr&&0<fr&&(e.enqueue(new Uint8Array(hr.buffer,0,fr)),hr=null,fr=0)}var CS=new TextEncoder;function Te(e){return CS.encode(e)}function Q(e){return CS.encode(e)}function TS(e,t){typeof e.error=="function"?e.error(t):e.close()}var Zt=Object.prototype.hasOwnProperty,VM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iy={},Dy={};function PS(e){return Zt.call(Dy,e)?!0:Zt.call(Iy,e)?!1:VM.test(e)?Dy[e]=!0:(Iy[e]=!0,!1)}function Vt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var nx=/[\-:]([a-z])/g;function sx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nx,sx);kt[t]=new Vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nx,sx);kt[t]=new Vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nx,sx);kt[t]=new Vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});var Gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qM=["Webkit","ms","Moz","O"];Object.keys(Gc).forEach(function(e){qM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gc[t]=Gc[e]})});var HM=/["'&<>]/;function wt(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=HM.exec(e);if(t){var r="",n,s=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==n&&(r+=e.substring(s,n)),s=n+1,r+=t}e=s!==n?r+e.substring(s,n):r}return e}var KM=/([A-Z])/g,GM=/^ms-/,sm=Array.isArray,YM=Q("<script>"),JM=Q("<\/script>"),XM=Q('<script src="'),ZM=Q('<script type="module" src="'),$y=Q('" async=""><\/script>'),QM=/(<\/|<)(s)(cript)/gi;function eL(e,t,r,n){return""+t+(r==="s"?"\\u0073":"\\u0053")+n}function tL(e,t,r,n,s){e=e===void 0?"":e,t=t===void 0?YM:Q('<script nonce="'+wt(t)+'">');var i=[];if(r!==void 0&&i.push(t,Te((""+r).replace(QM,eL)),JM),n!==void 0)for(r=0;r<n.length;r++)i.push(XM,Te(wt(n[r])),$y);if(s!==void 0)for(n=0;n<s.length;n++)i.push(ZM,Te(wt(s[n])),$y);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Q(e+"P:"),segmentPrefix:Q(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function cn(e,t){return{insertionMode:e,selectedValue:t}}function rL(e){return cn(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function nL(e,t,r){switch(t){case"select":return cn(1,r.value!=null?r.value:r.defaultValue);case"svg":return cn(2,null);case"math":return cn(3,null);case"foreignObject":return cn(1,null);case"table":return cn(4,null);case"thead":case"tbody":case"tfoot":return cn(5,null);case"colgroup":return cn(7,null);case"tr":return cn(6,null)}return 4<=e.insertionMode||e.insertionMode===0?cn(1,null):e}var ax=Q("<!-- -->");function My(e,t,r,n){return t===""?n:(n&&e.push(ax),e.push(Te(wt(t))),!0)}var Ly=new Map,sL=Q(' style="'),Fy=Q(":"),aL=Q(";");function RS(e,t,r){if(typeof r!="object")throw Error(Ee(62));t=!0;for(var n in r)if(Zt.call(r,n)){var s=r[n];if(s!=null&&typeof s!="boolean"&&s!==""){if(n.indexOf("--")===0){var i=Te(wt(n));s=Te(wt((""+s).trim()))}else{i=n;var o=Ly.get(i);o!==void 0||(o=Q(wt(i.replace(KM,"-$1").toLowerCase().replace(GM,"-ms-"))),Ly.set(i,o)),i=o,s=typeof s=="number"?s===0||Zt.call(Gc,n)?Te(""+s):Te(s+"px"):Te(wt((""+s).trim()))}t?(t=!1,e.push(sL,i,Fy,s)):e.push(aL,i,Fy,s)}}t||e.push(ta)}var ss=Q(" "),Ka=Q('="'),ta=Q('"'),Uy=Q('=""');function cr(e,t,r,n){switch(r){case"style":RS(e,t,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){if(t=kt.hasOwnProperty(r)?kt[r]:null,t!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(r=Te(t.attributeName),t.type){case 3:n&&e.push(ss,r,Uy);break;case 4:n===!0?e.push(ss,r,Uy):n!==!1&&e.push(ss,r,Ka,Te(wt(n)),ta);break;case 5:isNaN(n)||e.push(ss,r,Ka,Te(wt(n)),ta);break;case 6:!isNaN(n)&&1<=n&&e.push(ss,r,Ka,Te(wt(n)),ta);break;default:t.sanitizeURL&&(n=""+n),e.push(ss,r,Ka,Te(wt(n)),ta)}}else if(PS(r)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(t=r.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(ss,Te(r),Ka,Te(wt(n)),ta)}}}var as=Q(">"),zy=Q("/>");function Yc(e,t,r){if(t!=null){if(r!=null)throw Error(Ee(60));if(typeof t!="object"||!("__html"in t))throw Error(Ee(61));t=t.__html,t!=null&&e.push(Te(""+t))}}function iL(e){var t="";return ES.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}var Xh=Q(' selected=""');function Zh(e,t,r,n){e.push(un(r));var s=r=null,i;for(i in t)if(Zt.call(t,i)){var o=t[i];if(o!=null)switch(i){case"children":r=o;break;case"dangerouslySetInnerHTML":s=o;break;default:cr(e,n,i,o)}}return e.push(as),Yc(e,s,r),typeof r=="string"?(e.push(Te(wt(r))),null):r}var Qh=Q(`
`),oL=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,By=new Map;function un(e){var t=By.get(e);if(t===void 0){if(!oL.test(e))throw Error(Ee(65,e));t=Q("<"+e),By.set(e,t)}return t}var lL=Q("<!DOCTYPE html>");function cL(e,t,r,n,s){switch(t){case"select":e.push(un("select"));var i=null,o=null;for(d in r)if(Zt.call(r,d)){var l=r[d];if(l!=null)switch(d){case"children":i=l;break;case"dangerouslySetInnerHTML":o=l;break;case"defaultValue":case"value":break;default:cr(e,n,d,l)}}return e.push(as),Yc(e,o,i),i;case"option":o=s.selectedValue,e.push(un("option"));var c=l=null,u=null,d=null;for(i in r)if(Zt.call(r,i)){var h=r[i];if(h!=null)switch(i){case"children":l=h;break;case"selected":u=h;break;case"dangerouslySetInnerHTML":d=h;break;case"value":c=h;default:cr(e,n,i,h)}}if(o!=null)if(r=c!==null?""+c:iL(l),sm(o)){for(n=0;n<o.length;n++)if(""+o[n]===r){e.push(Xh);break}}else""+o===r&&e.push(Xh);else u&&e.push(Xh);return e.push(as),Yc(e,d,l),l;case"textarea":e.push(un("textarea")),d=o=i=null;for(l in r)if(Zt.call(r,l)&&(c=r[l],c!=null))switch(l){case"children":d=c;break;case"value":i=c;break;case"defaultValue":o=c;break;case"dangerouslySetInnerHTML":throw Error(Ee(91));default:cr(e,n,l,c)}if(i===null&&o!==null&&(i=o),e.push(as),d!=null){if(i!=null)throw Error(Ee(92));if(sm(d)&&1<d.length)throw Error(Ee(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(Qh),i!==null&&e.push(Te(wt(""+i))),null;case"input":e.push(un("input")),c=d=l=i=null;for(o in r)if(Zt.call(r,o)&&(u=r[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Ee(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":l=u;break;case"checked":d=u;break;case"value":i=u;break;default:cr(e,n,o,u)}return d!==null?cr(e,n,"checked",d):c!==null&&cr(e,n,"checked",c),i!==null?cr(e,n,"value",i):l!==null&&cr(e,n,"value",l),e.push(zy),null;case"menuitem":e.push(un("menuitem"));for(var p in r)if(Zt.call(r,p)&&(i=r[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Ee(400));default:cr(e,n,p,i)}return e.push(as),null;case"title":e.push(un("title")),i=null;for(h in r)if(Zt.call(r,h)&&(o=r[h],o!=null))switch(h){case"children":i=o;break;case"dangerouslySetInnerHTML":throw Error(Ee(434));default:cr(e,n,h,o)}return e.push(as),i;case"listing":case"pre":e.push(un(t)),o=i=null;for(c in r)if(Zt.call(r,c)&&(l=r[c],l!=null))switch(c){case"children":i=l;break;case"dangerouslySetInnerHTML":o=l;break;default:cr(e,n,c,l)}if(e.push(as),o!=null){if(i!=null)throw Error(Ee(60));if(typeof o!="object"||!("__html"in o))throw Error(Ee(61));r=o.__html,r!=null&&(typeof r=="string"&&0<r.length&&r[0]===`
`?e.push(Qh,Te(r)):e.push(Te(""+r)))}return typeof i=="string"&&i[0]===`
`&&e.push(Qh),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(un(t));for(var m in r)if(Zt.call(r,m)&&(i=r[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Ee(399,t));default:cr(e,n,m,i)}return e.push(zy),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Zh(e,r,t,n);case"html":return s.insertionMode===0&&e.push(lL),Zh(e,r,t,n);default:if(t.indexOf("-")===-1&&typeof r.is!="string")return Zh(e,r,t,n);e.push(un(t)),o=i=null;for(u in r)if(Zt.call(r,u)&&(l=r[u],l!=null))switch(u){case"children":i=l;break;case"dangerouslySetInnerHTML":o=l;break;case"style":RS(e,n,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:PS(u)&&typeof l!="function"&&typeof l!="symbol"&&e.push(ss,Te(u),Ka,Te(wt(l)),ta)}return e.push(as),Yc(e,o,i),i}}var uL=Q("</"),dL=Q(">"),hL=Q('<template id="'),fL=Q('"></template>'),pL=Q("<!--$-->"),mL=Q('<!--$?--><template id="'),gL=Q('"></template>'),xL=Q("<!--$!-->"),_L=Q("<!--/$-->"),yL=Q("<template"),vL=Q('"'),wL=Q(' data-dgst="');Q(' data-msg="');Q(' data-stck="');var bL=Q("></template>");function Wy(e,t,r){if(ue(e,mL),r===null)throw Error(Ee(395));return ue(e,r),Je(e,gL)}var jL=Q('<div hidden id="'),NL=Q('">'),SL=Q("</div>"),kL=Q('<svg aria-hidden="true" style="display:none" id="'),EL=Q('">'),CL=Q("</svg>"),TL=Q('<math aria-hidden="true" style="display:none" id="'),PL=Q('">'),RL=Q("</math>"),OL=Q('<table hidden id="'),AL=Q('">'),IL=Q("</table>"),DL=Q('<table hidden><tbody id="'),$L=Q('">'),ML=Q("</tbody></table>"),LL=Q('<table hidden><tr id="'),FL=Q('">'),UL=Q("</tr></table>"),zL=Q('<table hidden><colgroup id="'),BL=Q('">'),WL=Q("</colgroup></table>");function VL(e,t,r,n){switch(r.insertionMode){case 0:case 1:return ue(e,jL),ue(e,t.segmentPrefix),ue(e,Te(n.toString(16))),Je(e,NL);case 2:return ue(e,kL),ue(e,t.segmentPrefix),ue(e,Te(n.toString(16))),Je(e,EL);case 3:return ue(e,TL),ue(e,t.segmentPrefix),ue(e,Te(n.toString(16))),Je(e,PL);case 4:return ue(e,OL),ue(e,t.segmentPrefix),ue(e,Te(n.toString(16))),Je(e,AL);case 5:return ue(e,DL),ue(e,t.segmentPrefix),ue(e,Te(n.toString(16))),Je(e,$L);case 6:return ue(e,LL),ue(e,t.segmentPrefix),ue(e,Te(n.toString(16))),Je(e,FL);case 7:return ue(e,zL),ue(e,t.segmentPrefix),ue(e,Te(n.toString(16))),Je(e,BL);default:throw Error(Ee(397))}}function qL(e,t){switch(t.insertionMode){case 0:case 1:return Je(e,SL);case 2:return Je(e,CL);case 3:return Je(e,RL);case 4:return Je(e,IL);case 5:return Je(e,ML);case 6:return Je(e,UL);case 7:return Je(e,WL);default:throw Error(Ee(397))}}var HL=Q('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),KL=Q('$RS("'),GL=Q('","'),YL=Q('")<\/script>'),JL=Q('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),XL=Q('$RC("'),ZL=Q('","'),QL=Q('")<\/script>'),e3=Q('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),t3=Q('$RX("'),r3=Q('"'),n3=Q(")<\/script>"),ef=Q(","),s3=/[<\u2028\u2029]/g;function tf(e){return JSON.stringify(e).replace(s3,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var zo=Object.assign,a3=Symbol.for("react.element"),OS=Symbol.for("react.portal"),AS=Symbol.for("react.fragment"),IS=Symbol.for("react.strict_mode"),DS=Symbol.for("react.profiler"),$S=Symbol.for("react.provider"),MS=Symbol.for("react.context"),LS=Symbol.for("react.forward_ref"),FS=Symbol.for("react.suspense"),US=Symbol.for("react.suspense_list"),zS=Symbol.for("react.memo"),ix=Symbol.for("react.lazy"),i3=Symbol.for("react.scope"),o3=Symbol.for("react.debug_trace_mode"),l3=Symbol.for("react.legacy_hidden"),c3=Symbol.for("react.default_value"),Vy=Symbol.iterator;function am(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case AS:return"Fragment";case OS:return"Portal";case DS:return"Profiler";case IS:return"StrictMode";case FS:return"Suspense";case US:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case MS:return(e.displayName||"Context")+".Consumer";case $S:return(e._context.displayName||"Context")+".Provider";case LS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zS:return t=e.displayName||null,t!==null?t:am(e.type)||"Memo";case ix:t=e._payload,e=e._init;try{return am(e(t))}catch{}}return null}var BS={};function qy(e,t){if(e=e.contextTypes,!e)return BS;var r={},n;for(n in e)r[n]=t[n];return r}var oa=null;function qd(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var r=t.parent;if(e===null){if(r!==null)throw Error(Ee(401))}else{if(r===null)throw Error(Ee(401));qd(e,r)}t.context._currentValue=t.value}}function WS(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&WS(e)}function VS(e){var t=e.parent;t!==null&&VS(t),e.context._currentValue=e.value}function qS(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Ee(402));e.depth===t.depth?qd(e,t):qS(e,t)}function HS(e,t){var r=t.parent;if(r===null)throw Error(Ee(402));e.depth===r.depth?qd(e,r):HS(e,r),t.context._currentValue=t.value}function Ku(e){var t=oa;t!==e&&(t===null?VS(e):e===null?WS(t):t.depth===e.depth?qd(t,e):t.depth>e.depth?qS(t,e):HS(t,e),oa=e)}var Hy={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Ky(e,t,r,n){var s=e.state!==void 0?e.state:null;e.updater=Hy,e.props=r,e.state=s;var i={queue:[],replace:!1};e._reactInternals=i;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue:n,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(r,s),s=o==null?s:zo({},s,o),e.state=s),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Hy.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,o=i.replace,i.queue=null,i.replace=!1,o&&t.length===1)e.state=t[0];else{for(i=o?t[0]:e.state,s=!0,o=o?1:0;o<t.length;o++){var l=t[o];l=typeof l=="function"?l.call(e,i,r,n):l,l!=null&&(s?(s=!1,i=zo({},i,l)):zo(i,l))}e.state=i}else i.queue=null}var u3={id:1,overflow:""};function im(e,t,r){var n=e.id;e=e.overflow;var s=32-Jc(n)-1;n&=~(1<<s),r+=1;var i=32-Jc(t)+s;if(30<i){var o=s-s%5;return i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,{id:1<<32-Jc(t)+s|r<<s|n,overflow:i+e}}return{id:1<<i|r<<s|n,overflow:e}}var Jc=Math.clz32?Math.clz32:f3,d3=Math.log,h3=Math.LN2;function f3(e){return e>>>=0,e===0?32:31-(d3(e)/h3|0)|0}function p3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m3=typeof Object.is=="function"?Object.is:p3,Wn=null,ox=null,Xc=null,He=null,So=!1,Gu=!1,gl=0,xs=null,Hd=0;function ra(){if(Wn===null)throw Error(Ee(321));return Wn}function Gy(){if(0<Hd)throw Error(Ee(312));return{memoizedState:null,queue:null,next:null}}function lx(){return He===null?Xc===null?(So=!1,Xc=He=Gy()):(So=!0,He=Xc):He.next===null?(So=!1,He=He.next=Gy()):(So=!0,He=He.next),He}function cx(){ox=Wn=null,Gu=!1,Xc=null,Hd=0,He=xs=null}function KS(e,t){return typeof t=="function"?t(e):t}function Yy(e,t,r){if(Wn=ra(),He=lx(),So){var n=He.queue;if(t=n.dispatch,xs!==null&&(r=xs.get(n),r!==void 0)){xs.delete(n),n=He.memoizedState;do n=e(n,r.action),r=r.next;while(r!==null);return He.memoizedState=n,[n,t]}return[He.memoizedState,t]}return e=e===KS?typeof t=="function"?t():t:r!==void 0?r(t):t,He.memoizedState=e,e=He.queue={last:null,dispatch:null},e=e.dispatch=g3.bind(null,Wn,e),[He.memoizedState,e]}function Jy(e,t){if(Wn=ra(),He=lx(),t=t===void 0?null:t,He!==null){var r=He.memoizedState;if(r!==null&&t!==null){var n=r[1];e:if(n===null)n=!1;else{for(var s=0;s<n.length&&s<t.length;s++)if(!m3(t[s],n[s])){n=!1;break e}n=!0}if(n)return r[0]}}return e=e(),He.memoizedState=[e,t],e}function g3(e,t,r){if(25<=Hd)throw Error(Ee(301));if(e===Wn)if(Gu=!0,e={action:r,next:null},xs===null&&(xs=new Map),r=xs.get(t),r===void 0)xs.set(t,e);else{for(t=r;t.next!==null;)t=t.next;t.next=e}}function x3(){throw Error(Ee(394))}function yc(){}var Xy={readContext:function(e){return e._currentValue},useContext:function(e){return ra(),e._currentValue},useMemo:Jy,useReducer:Yy,useRef:function(e){Wn=ra(),He=lx();var t=He.memoizedState;return t===null?(e={current:e},He.memoizedState=e):t},useState:function(e){return Yy(KS,e)},useInsertionEffect:yc,useLayoutEffect:function(){},useCallback:function(e,t){return Jy(function(){return e},t)},useImperativeHandle:yc,useEffect:yc,useDebugValue:yc,useDeferredValue:function(e){return ra(),e},useTransition:function(){return ra(),[!1,x3]},useId:function(){var e=ox.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Jc(e)-1)).toString(32)+t;var r=Zc;if(r===null)throw Error(Ee(404));return t=gl++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return ra(),t(e._source)},useSyncExternalStore:function(e,t,r){if(r===void 0)throw Error(Ee(407));return r()}},Zc=null,rf=ES.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function _3(e){return console.error(e),null}function ko(){}function y3(e,t,r,n,s,i,o,l,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:s===void 0?_3:s,onAllReady:i===void 0?ko:i,onShellReady:o===void 0?ko:o,onShellError:l===void 0?ko:l,onFatalError:c===void 0?ko:c},r=Yu(t,0,null,r,!1,!1),r.parentFlushed=!0,e=ux(t,e,null,r,d,BS,null,u3),u.push(e),t}function ux(e,t,r,n,s,i,o,l){e.allPendingTasks++,r===null?e.pendingRootTasks++:r.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&JS(e)},blockedBoundary:r,blockedSegment:n,abortSet:s,legacyContext:i,context:o,treeContext:l};return s.add(c),c}function Yu(e,t,r,n,s,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:r,lastPushedText:s,textEmbedded:i}}function xl(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Ju(e,t){var r=e.onShellError;r(t),r=e.onFatalError,r(t),e.destination!==null?(e.status=2,TS(e.destination,t)):(e.status=1,e.fatalError=t)}function Zy(e,t,r,n,s){for(Wn={},ox=t,gl=0,e=r(n,s);Gu;)Gu=!1,gl=0,Hd+=1,He=null,e=r(n,s);return cx(),e}function Qy(e,t,r,n){var s=r.render(),i=n.childContextTypes;if(i!=null){var o=t.legacyContext;if(typeof r.getChildContext!="function")n=o;else{r=r.getChildContext();for(var l in r)if(!(l in i))throw Error(Ee(108,am(n)||"Unknown",l));n=zo({},o,r)}t.legacyContext=n,pr(e,t,s),t.legacyContext=o}else pr(e,t,s)}function ev(e,t){if(e&&e.defaultProps){t=zo({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function om(e,t,r,n,s){if(typeof r=="function")if(r.prototype&&r.prototype.isReactComponent){s=qy(r,t.legacyContext);var i=r.contextType;i=new r(n,typeof i=="object"&&i!==null?i._currentValue:s),Ky(i,r,n,s),Qy(e,t,i,r)}else{i=qy(r,t.legacyContext),s=Zy(e,t,r,n,i);var o=gl!==0;if(typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0)Ky(s,r,n,i),Qy(e,t,s,r);else if(o){n=t.treeContext,t.treeContext=im(n,1,0);try{pr(e,t,s)}finally{t.treeContext=n}}else pr(e,t,s)}else if(typeof r=="string"){switch(s=t.blockedSegment,i=cL(s.chunks,r,n,e.responseState,s.formatContext),s.lastPushedText=!1,o=s.formatContext,s.formatContext=nL(o,r,n),lm(e,t,i),s.formatContext=o,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:s.chunks.push(uL,Te(r),dL)}s.lastPushedText=!1}else{switch(r){case l3:case o3:case IS:case DS:case AS:pr(e,t,n.children);return;case US:pr(e,t,n.children);return;case i3:throw Error(Ee(343));case FS:e:{r=t.blockedBoundary,s=t.blockedSegment,i=n.fallback,n=n.children,o=new Set;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},c=Yu(e,s.chunks.length,l,s.formatContext,!1,!1);s.children.push(c),s.lastPushedText=!1;var u=Yu(e,0,null,s.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=u;try{if(lm(e,t,n),u.lastPushedText&&u.textEmbedded&&u.chunks.push(ax),u.status=1,Xu(l,u),l.pendingTasks===0)break e}catch(d){u.status=4,l.forceClientRender=!0,l.errorDigest=xl(e,d)}finally{t.blockedBoundary=r,t.blockedSegment=s}t=ux(e,i,r,c,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof r=="object"&&r!==null)switch(r.$$typeof){case LS:if(n=Zy(e,t,r.render,n,s),gl!==0){r=t.treeContext,t.treeContext=im(r,1,0);try{pr(e,t,n)}finally{t.treeContext=r}}else pr(e,t,n);return;case zS:r=r.type,n=ev(r,n),om(e,t,r,n,s);return;case $S:if(s=n.children,r=r._context,n=n.value,i=r._currentValue,r._currentValue=n,o=oa,oa=n={parent:o,depth:o===null?0:o.depth+1,context:r,parentValue:i,value:n},t.context=n,pr(e,t,s),e=oa,e===null)throw Error(Ee(403));n=e.parentValue,e.context._currentValue=n===c3?e.context._defaultValue:n,e=oa=e.parent,t.context=e;return;case MS:n=n.children,n=n(r._currentValue),pr(e,t,n);return;case ix:s=r._init,r=s(r._payload),n=ev(r,n),om(e,t,r,n,void 0);return}throw Error(Ee(130,r==null?r:typeof r,""))}}function pr(e,t,r){if(t.node=r,typeof r=="object"&&r!==null){switch(r.$$typeof){case a3:om(e,t,r.type,r.props,r.ref);return;case OS:throw Error(Ee(257));case ix:var n=r._init;r=n(r._payload),pr(e,t,r);return}if(sm(r)){tv(e,t,r);return}if(r===null||typeof r!="object"?n=null:(n=Vy&&r[Vy]||r["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(r))){if(r=n.next(),!r.done){var s=[];do s.push(r.value),r=n.next();while(!r.done);tv(e,t,s)}return}throw e=Object.prototype.toString.call(r),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}typeof r=="string"?(n=t.blockedSegment,n.lastPushedText=My(t.blockedSegment.chunks,r,e.responseState,n.lastPushedText)):typeof r=="number"&&(n=t.blockedSegment,n.lastPushedText=My(t.blockedSegment.chunks,""+r,e.responseState,n.lastPushedText))}function tv(e,t,r){for(var n=r.length,s=0;s<n;s++){var i=t.treeContext;t.treeContext=im(i,n,s);try{lm(e,t,r[s])}finally{t.treeContext=i}}}function lm(e,t,r){var n=t.blockedSegment.formatContext,s=t.legacyContext,i=t.context;try{return pr(e,t,r)}catch(c){if(cx(),typeof c=="object"&&c!==null&&typeof c.then=="function"){r=c;var o=t.blockedSegment,l=Yu(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(l),o.lastPushedText=!1,e=ux(e,t.node,t.blockedBoundary,l,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,r.then(e,e),t.blockedSegment.formatContext=n,t.legacyContext=s,t.context=i,Ku(i)}else throw t.blockedSegment.formatContext=n,t.legacyContext=s,t.context=i,Ku(i),c}}function v3(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,YS(this,t,e)}function GS(e,t,r){var n=e.blockedBoundary;e.blockedSegment.status=3,n===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,e=r===void 0?Error(Ee(432)):r,n.errorDigest=t.onError(e),n.parentFlushed&&t.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(s){return GS(s,t,r)}),n.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(n=t.onAllReady,n()))}function Xu(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,r.status===1&&Xu(e,r)}else e.completedSegments.push(t)}function YS(e,t,r){if(t===null){if(r.parentFlushed){if(e.completedRootSegment!==null)throw Error(Ee(389));e.completedRootSegment=r}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=ko,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(r.parentFlushed&&r.status===1&&Xu(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(v3,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&r.status===1&&(Xu(t,r),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function JS(e){if(e.status!==2){var t=oa,r=rf.current;rf.current=Xy;var n=Zc;Zc=e.responseState;try{var s=e.pingedTasks,i;for(i=0;i<s.length;i++){var o=s[i],l=e,c=o.blockedSegment;if(c.status===0){Ku(o.context);try{pr(l,o,o.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(ax),o.abortSet.delete(o),c.status=1,YS(l,o.blockedBoundary,c)}catch(w){if(cx(),typeof w=="object"&&w!==null&&typeof w.then=="function"){var u=o.ping;w.then(u,u)}else{o.abortSet.delete(o),c.status=4;var d=o.blockedBoundary,h=w,p=xl(l,h);if(d===null?Ju(l,h):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&l.clientRenderedBoundaries.push(d))),l.allPendingTasks--,l.allPendingTasks===0){var m=l.onAllReady;m()}}}finally{}}}s.splice(0,i),e.destination!==null&&dx(e,e.destination)}catch(w){xl(e,w),Ju(e,w)}finally{Zc=n,rf.current=r,r===Xy&&Ku(t)}}}function vc(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var n=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,ue(t,hL),ue(t,e.placeholderPrefix),e=Te(n.toString(16)),ue(t,e),Je(t,fL);case 1:r.status=2;var s=!0;n=r.chunks;var i=0;r=r.children;for(var o=0;o<r.length;o++){for(s=r[o];i<s.index;i++)ue(t,n[i]);s=Kd(e,t,s)}for(;i<n.length-1;i++)ue(t,n[i]);return i<n.length&&(s=Je(t,n[i])),s;default:throw Error(Ee(390))}}function Kd(e,t,r){var n=r.boundary;if(n===null)return vc(e,t,r);if(n.parentFlushed=!0,n.forceClientRender)n=n.errorDigest,Je(t,xL),ue(t,yL),n&&(ue(t,wL),ue(t,Te(wt(n))),ue(t,vL)),Je(t,bL),vc(e,t,r);else if(0<n.pendingTasks){n.rootSegmentID=e.nextSegmentId++,0<n.completedSegments.length&&e.partialBoundaries.push(n);var s=e.responseState,i=s.nextSuspenseID++;s=Q(s.boundaryPrefix+i.toString(16)),n=n.id=s,Wy(t,e.responseState,n),vc(e,t,r)}else if(n.byteSize>e.progressiveChunkSize)n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),Wy(t,e.responseState,n.id),vc(e,t,r);else{if(Je(t,pL),r=n.completedSegments,r.length!==1)throw Error(Ee(391));Kd(e,t,r[0])}return Je(t,_L)}function rv(e,t,r){return VL(t,e.responseState,r.formatContext,r.id),Kd(e,t,r),qL(t,r.formatContext)}function nv(e,t,r){for(var n=r.completedSegments,s=0;s<n.length;s++)XS(e,t,r,n[s]);if(n.length=0,e=e.responseState,n=r.id,r=r.rootSegmentID,ue(t,e.startInlineScript),e.sentCompleteBoundaryFunction?ue(t,XL):(e.sentCompleteBoundaryFunction=!0,ue(t,JL)),n===null)throw Error(Ee(395));return r=Te(r.toString(16)),ue(t,n),ue(t,ZL),ue(t,e.segmentPrefix),ue(t,r),Je(t,QL)}function XS(e,t,r,n){if(n.status===2)return!0;var s=n.id;if(s===-1){if((n.id=r.rootSegmentID)===-1)throw Error(Ee(392));return rv(e,t,n)}return rv(e,t,n),e=e.responseState,ue(t,e.startInlineScript),e.sentCompleteSegmentFunction?ue(t,KL):(e.sentCompleteSegmentFunction=!0,ue(t,HL)),ue(t,e.segmentPrefix),s=Te(s.toString(16)),ue(t,s),ue(t,GL),ue(t,e.placeholderPrefix),ue(t,s),Je(t,YL)}function dx(e,t){hr=new Uint8Array(512),fr=0;try{var r=e.completedRootSegment;if(r!==null&&e.pendingRootTasks===0){Kd(e,t,r),e.completedRootSegment=null;var n=e.responseState.bootstrapChunks;for(r=0;r<n.length-1;r++)ue(t,n[r]);r<n.length&&Je(t,n[r])}var s=e.clientRenderedBoundaries,i;for(i=0;i<s.length;i++){var o=s[i];n=t;var l=e.responseState,c=o.id,u=o.errorDigest,d=o.errorMessage,h=o.errorComponentStack;if(ue(n,l.startInlineScript),l.sentClientRenderFunction?ue(n,t3):(l.sentClientRenderFunction=!0,ue(n,e3)),c===null)throw Error(Ee(395));ue(n,c),ue(n,r3),(u||d||h)&&(ue(n,ef),ue(n,Te(tf(u||"")))),(d||h)&&(ue(n,ef),ue(n,Te(tf(d||"")))),h&&(ue(n,ef),ue(n,Te(tf(h)))),Je(n,n3)}s.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)nv(e,t,p[i]);p.splice(0,i),Ay(t),hr=new Uint8Array(512),fr=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var w=m[i];e:{s=e,o=t;var y=w.completedSegments;for(l=0;l<y.length;l++)if(!XS(s,o,w,y[l])){l++,y.splice(0,l);var _=!1;break e}y.splice(0,l),_=!0}if(!_){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var f=e.completedBoundaries;for(i=0;i<f.length;i++)nv(e,t,f[i]);f.splice(0,i)}finally{Ay(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function sv(e,t){try{var r=e.abortableTasks;r.forEach(function(n){return GS(n,e,t)}),r.clear(),e.destination!==null&&dx(e,e.destination)}catch(n){xl(e,n),Ju(e,n)}}rx.renderToReadableStream=function(e,t){return new Promise(function(r,n){var s,i,o=new Promise(function(d,h){i=d,s=h}),l=y3(e,tL(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),rL(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(h){if(l.status===1)l.status=2,TS(h,l.fatalError);else if(l.status!==2&&l.destination===null){l.destination=h;try{dx(l,h)}catch(p){xl(l,p),Ju(l,p)}}},cancel:function(){sv(l)}},{highWaterMark:0});d.allReady=o,r(d)},function(d){o.catch(function(){}),n(d)},s);if(t&&t.signal){var c=t.signal,u=function(){sv(l,c.reason),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}JS(l)})};rx.version="18.2.0";var Gi,ZS;Gi=Ki,ZS=rx;var w3=$s.version=Gi.version,b3=$s.renderToString=Gi.renderToString,j3=$s.renderToStaticMarkup=Gi.renderToStaticMarkup,N3=$s.renderToNodeStream=Gi.renderToNodeStream,S3=$s.renderToStaticNodeStream=Gi.renderToStaticNodeStream,k3=$s.renderToReadableStream=ZS.renderToReadableStream;const E3=Fv({__proto__:null,default:$s,renderToNodeStream:N3,renderToReadableStream:k3,renderToStaticMarkup:j3,renderToStaticNodeStream:S3,renderToString:b3,version:w3},[$s]);var C3=function(t){return T3(t)&&!P3(t)};function T3(e){return!!e&&typeof e=="object"}function P3(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||A3(e)}var R3=typeof Symbol=="function"&&Symbol.for,O3=R3?Symbol.for("react.element"):60103;function A3(e){return e.$$typeof===O3}function I3(e){return Array.isArray(e)?[]:{}}function _l(e,t){return t.clone!==!1&&t.isMergeableObject(e)?yl(I3(e),e,t):e}function D3(e,t,r){return e.concat(t).map(function(n){return _l(n,r)})}function $3(e,t){if(!t.customMerge)return yl;var r=t.customMerge(e);return typeof r=="function"?r:yl}function M3(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function av(e){return Object.keys(e).concat(M3(e))}function QS(e,t){try{return t in e}catch{return!1}}function L3(e,t){return QS(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function F3(e,t,r){var n={};return r.isMergeableObject(e)&&av(e).forEach(function(s){n[s]=_l(e[s],r)}),av(t).forEach(function(s){L3(e,s)||(QS(e,s)&&r.isMergeableObject(t[s])?n[s]=$3(s,r)(e[s],t[s],r):n[s]=_l(t[s],r))}),n}function yl(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||D3,r.isMergeableObject=r.isMergeableObject||C3,r.cloneUnlessOtherwiseSpecified=_l;var n=Array.isArray(t),s=Array.isArray(e),i=n===s;return i?n?r.arrayMerge(e,t,r):F3(e,t,r):_l(t,r)}yl.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,s){return yl(n,s,r)},{})};var U3={exports:{}},fo={},wc={exports:{}},nf={},sf={},iv;function hx(){if(iv)return sf;iv=1;function e(n){this.__parent=n,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}e.prototype.clone_empty=function(){var n=new e(this.__parent);return n.set_indent(this.__indent_count,this.__alignment_count),n},e.prototype.item=function(n){return n<0?this.__items[this.__items.length+n]:this.__items[n]},e.prototype.has_match=function(n){for(var s=this.__items.length-1;s>=0;s--)if(this.__items[s].match(n))return!0;return!1},e.prototype.set_indent=function(n,s){this.is_empty()&&(this.__indent_count=n||0,this.__alignment_count=s||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var n=this.__parent.current_line;return n.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),n.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),n.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,n.__items[0]===" "&&(n.__items.splice(0,1),n.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return this.__items.length===0},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(n){this.__items.push(n);var s=n.lastIndexOf(`
`);s!==-1?this.__character_count=n.length-s:this.__character_count+=n.length},e.prototype.pop=function(){var n=null;return this.is_empty()||(n=this.__items.pop(),this.__character_count-=n.length),n},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var n="";return this.is_empty()?this.__parent.indent_empty_lines&&(n=this.__parent.get_indent_string(this.__indent_count)):(n=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),n+=this.__items.join("")),n};function t(n,s){this.__cache=[""],this.__indent_size=n.indent_size,this.__indent_string=n.indent_char,n.indent_with_tabs||(this.__indent_string=new Array(n.indent_size+1).join(n.indent_char)),s=s||"",n.indent_level>0&&(s=new Array(n.indent_level+1).join(this.__indent_string)),this.__base_string=s,this.__base_string_length=s.length}t.prototype.get_indent_size=function(n,s){var i=this.__base_string_length;return s=s||0,n<0&&(i=0),i+=n*this.__indent_size,i+=s,i},t.prototype.get_indent_string=function(n,s){var i=this.__base_string;return s=s||0,n<0&&(n=0,i=""),s+=n*this.__indent_size,this.__ensure_cache(s),i+=this.__cache[s],i},t.prototype.__ensure_cache=function(n){for(;n>=this.__cache.length;)this.__add_column()},t.prototype.__add_column=function(){var n=this.__cache.length,s=0,i="";this.__indent_size&&n>=this.__indent_size&&(s=Math.floor(n/this.__indent_size),n-=s*this.__indent_size,i=new Array(s+1).join(this.__indent_string)),n&&(i+=new Array(n+1).join(" ")),this.__cache.push(i)};function r(n,s){this.__indent_cache=new t(n,s),this.raw=!1,this._end_with_newline=n.end_with_newline,this.indent_size=n.indent_size,this.wrap_line_length=n.wrap_line_length,this.indent_empty_lines=n.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(n,s){return this.__indent_cache.get_indent_string(n,s)},r.prototype.get_indent_size=function(n,s){return this.__indent_cache.get_indent_size(n,s)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(n){return this.is_empty()||!n&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},r.prototype.get_code=function(n){this.trim(!0);var s=this.current_line.pop();s&&(s[s.length-1]===`
`&&(s=s.replace(/\n+$/g,"")),this.current_line.push(s)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join(`
`);return n!==`
`&&(i=i.replace(/[\n]/g,n)),i},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(n,s){return n=n||0,s=s||0,this.next_line.set_indent(n,s),this.__lines.length>1?(this.current_line.set_indent(n,s),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(n){for(var s=0;s<n.newlines;s++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(n.whitespace_before),this.current_line.push(n.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(n){this.__add_space_before_token(),this.current_line.push(n),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(n){for(var s=this.__lines.length;n<s;)this.__lines[n]._remove_indent(),n++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(n){for(n=n===void 0?!1:n,this.current_line.trim();n&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(n,s){for(var i=this.__lines.length-2;i>=0;){var o=this.__lines[i];if(o.is_empty())break;if(o.item(0).indexOf(n)!==0&&o.item(-1)!==s){this.__lines.splice(i+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}},sf.Output=r,sf}var af={},ov;function ek(){if(ov)return af;ov=1;function e(t,r,n,s){this.type=t,this.text=r,this.comments_before=null,this.newlines=n||0,this.whitespace_before=s||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return af.Token=e,af}var of={},lv;function tk(){return lv||(lv=1,function(e){var t="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",s="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",i="\\\\u[0-9a-fA-F]{4}|\\\\u\\{[0-9a-fA-F]+\\}",o="(?:"+i+"|["+t+n+"])",l="(?:"+i+"|["+r+n+s+"])*";e.identifier=new RegExp(o+l,"g"),e.identifierStart=new RegExp(o),e.identifierMatch=new RegExp("(?:"+i+"|["+r+n+s+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp(`\r
|`+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")}(of)),of}var lf={},po={},cv;function fx(){if(cv)return po;cv=1;function e(n,s){this.raw_options=t(n,s),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}e.prototype._get_array=function(n,s){var i=this.raw_options[n],o=s||[];return typeof i=="object"?i!==null&&typeof i.concat=="function"&&(o=i.concat()):typeof i=="string"&&(o=i.split(/[^a-zA-Z0-9_\/\-]+/)),o},e.prototype._get_boolean=function(n,s){var i=this.raw_options[n],o=i===void 0?!!s:!!i;return o},e.prototype._get_characters=function(n,s){var i=this.raw_options[n],o=s||"";return typeof i=="string"&&(o=i.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),o},e.prototype._get_number=function(n,s){var i=this.raw_options[n];s=parseInt(s,10),isNaN(s)&&(s=0);var o=parseInt(i,10);return isNaN(o)&&(o=s),o},e.prototype._get_selection=function(n,s,i){var o=this._get_selection_list(n,s,i);if(o.length!==1)throw new Error("Invalid Option Value: The option '"+n+`' can only be one of the following values:
`+s+`
You passed in: '`+this.raw_options[n]+"'");return o[0]},e.prototype._get_selection_list=function(n,s,i){if(!s||s.length===0)throw new Error("Selection list cannot be empty.");if(i=i||[s[0]],!this._is_valid_selection(i,s))throw new Error("Invalid Default Value!");var o=this._get_array(n,i);if(!this._is_valid_selection(o,s))throw new Error("Invalid Option Value: The option '"+n+`' can contain only the following values:
`+s+`
You passed in: '`+this.raw_options[n]+"'");return o},e.prototype._is_valid_selection=function(n,s){return n.length&&s.length&&!n.some(function(i){return s.indexOf(i)===-1})};function t(n,s){var i={};n=r(n);var o;for(o in n)o!==s&&(i[o]=n[o]);if(s&&n[s])for(o in n[s])i[o]=n[s][o];return i}function r(n){var s={},i;for(i in n){var o=i.replace(/-/g,"_");s[o]=n[i]}return s}return po.Options=e,po.normalizeOpts=r,po.mergeOpts=t,po}var uv;function rk(){if(uv)return lf;uv=1;var e=fx().Options,t=["before-newline","after-newline","preserve-newline"];function r(n){e.call(this,n,"js");var s=this.raw_options.brace_style||null;s==="expand-strict"?this.raw_options.brace_style="expand":s==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var o=0;o<i.length;o++)i[o]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=i[o];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",t),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return r.prototype=new e,lf.Options=r,lf}var Wa={},cf={},dv;function px(){if(dv)return cf;dv=1;var e=RegExp.prototype.hasOwnProperty("sticky");function t(r){this.__input=r||"",this.__input_length=this.__input.length,this.__position=0}return t.prototype.restart=function(){this.__position=0},t.prototype.back=function(){this.__position>0&&(this.__position-=1)},t.prototype.hasNext=function(){return this.__position<this.__input_length},t.prototype.next=function(){var r=null;return this.hasNext()&&(r=this.__input.charAt(this.__position),this.__position+=1),r},t.prototype.peek=function(r){var n=null;return r=r||0,r+=this.__position,r>=0&&r<this.__input_length&&(n=this.__input.charAt(r)),n},t.prototype.__match=function(r,n){r.lastIndex=n;var s=r.exec(this.__input);return s&&!(e&&r.sticky)&&s.index!==n&&(s=null),s},t.prototype.test=function(r,n){return n=n||0,n+=this.__position,n>=0&&n<this.__input_length?!!this.__match(r,n):!1},t.prototype.testChar=function(r,n){var s=this.peek(n);return r.lastIndex=0,s!==null&&r.test(s)},t.prototype.match=function(r){var n=this.__match(r,this.__position);return n?this.__position+=n[0].length:n=null,n},t.prototype.read=function(r,n,s){var i="",o;return r&&(o=this.match(r),o&&(i+=o[0])),n&&(o||!r)&&(i+=this.readUntil(n,s)),i},t.prototype.readUntil=function(r,n){var s="",i=this.__position;r.lastIndex=this.__position;var o=r.exec(this.__input);return o?(i=o.index,n&&(i+=o[0].length)):i=this.__input_length,s=this.__input.substring(this.__position,i),this.__position=i,s},t.prototype.readUntilAfter=function(r){return this.readUntil(r,!0)},t.prototype.get_regexp=function(r,n){var s=null,i="g";return n&&e&&(i="y"),typeof r=="string"&&r!==""?s=new RegExp(r,i):r&&(s=new RegExp(r.source,i)),s},t.prototype.get_literal_regexp=function(r){return RegExp(r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},t.prototype.peekUntilAfter=function(r){var n=this.__position,s=this.readUntilAfter(r);return this.__position=n,s},t.prototype.lookBack=function(r){var n=this.__position-1;return n>=r.length&&this.__input.substring(n-r.length,n).toLowerCase()===r},cf.InputScanner=t,cf}var bc={},uf={},hv;function z3(){if(hv)return uf;hv=1;function e(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}return e.prototype.restart=function(){this.__position=0},e.prototype.isEmpty=function(){return this.__tokens_length===0},e.prototype.hasNext=function(){return this.__position<this.__tokens_length},e.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},e.prototype.peek=function(t){var r=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(r=this.__tokens[t]),r},e.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},uf.TokenStream=e,uf}var df={},hf={},fv;function Gd(){if(fv)return hf;fv=1;function e(t,r){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,r&&(this._starting_pattern=this._input.get_regexp(r._starting_pattern,!0),this._match_pattern=this._input.get_regexp(r._match_pattern,!0),this._until_pattern=this._input.get_regexp(r._until_pattern),this._until_after=r._until_after)}return e.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},e.prototype.read_match=function(){return this._input.match(this._match_pattern)},e.prototype.until_after=function(t){var r=this._create();return r._until_after=!0,r._until_pattern=this._input.get_regexp(t),r._update(),r},e.prototype.until=function(t){var r=this._create();return r._until_after=!1,r._until_pattern=this._input.get_regexp(t),r._update(),r},e.prototype.starting_with=function(t){var r=this._create();return r._starting_pattern=this._input.get_regexp(t,!0),r._update(),r},e.prototype.matching=function(t){var r=this._create();return r._match_pattern=this._input.get_regexp(t,!0),r._update(),r},e.prototype._create=function(){return new e(this._input,this)},e.prototype._update=function(){},hf.Pattern=e,hf}var pv;function B3(){if(pv)return df;pv=1;var e=Gd().Pattern;function t(r,n){e.call(this,r,n),n?this._line_regexp=this._input.get_regexp(n._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return t.prototype=new e,t.prototype.__set_whitespace_patterns=function(r,n){r+="\\t ",n+="\\n\\r",this._match_pattern=this._input.get_regexp("["+r+n+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+n+"]")},t.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var r=this._input.read(this._match_pattern);if(r===" ")this.whitespace_before_token=" ";else if(r){var n=this.__split(this._newline_regexp,r);this.newline_count=n.length-1,this.whitespace_before_token=n[this.newline_count]}return r},t.prototype.matching=function(r,n){var s=this._create();return s.__set_whitespace_patterns(r,n),s._update(),s},t.prototype._create=function(){return new t(this._input,this)},t.prototype.__split=function(r,n){r.lastIndex=0;for(var s=0,i=[],o=r.exec(n);o;)i.push(n.substring(s,o.index)),s=o.index+o[0].length,o=r.exec(n);return s<n.length?i.push(n.substring(s,n.length)):i.push(""),i},df.WhitespacePattern=t,df}var mv;function Zu(){if(mv)return bc;mv=1;var e=px().InputScanner,t=ek().Token,r=z3().TokenStream,n=B3().WhitespacePattern,s={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},i=function(o,l){this._input=new e(o),this._options=l||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new n(this._input)};return i.prototype.tokenize=function(){this._input.restart(),this.__tokens=new r,this._reset();for(var o,l=new t(s.START,""),c=null,u=[],d=new r;l.type!==s.EOF;){for(o=this._get_next_token(l,c);this._is_comment(o);)d.add(o),o=this._get_next_token(l,c);d.isEmpty()||(o.comments_before=d,d=new r),o.parent=c,this._is_opening(o)?(u.push(c),c=o):c&&this._is_closing(o,c)&&(o.opened=c,c.closed=o,c=u.pop(),o.parent=c),o.previous=l,l.next=o,this.__tokens.add(o),l=o}return this.__tokens},i.prototype._is_first_token=function(){return this.__tokens.isEmpty()},i.prototype._reset=function(){},i.prototype._get_next_token=function(o,l){this._readWhitespace();var c=this._input.read(/.+/g);return c?this._create_token(s.RAW,c):this._create_token(s.EOF,"")},i.prototype._is_comment=function(o){return!1},i.prototype._is_opening=function(o){return!1},i.prototype._is_closing=function(o,l){return!1},i.prototype._create_token=function(o,l){var c=new t(o,l,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return c},i.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},bc.Tokenizer=i,bc.TOKEN=s,bc}var ff={},gv;function mx(){if(gv)return ff;gv=1;function e(t,r){t=typeof t=="string"?t:t.source,r=typeof r=="string"?r:r.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+r,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+r,"g")}return e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var r={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)r[n[1]]=n[2],n=this.__directive_pattern.exec(t);return r},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},ff.Directives=e,ff}var pf={},xv;function nk(){if(xv)return pf;xv=1;var e=Gd().Pattern,t={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function r(n,s){e.call(this,n,s),this.__template_pattern=null,this._disabled=Object.assign({},t),this._excluded=Object.assign({},t),s&&(this.__template_pattern=this._input.get_regexp(s.__template_pattern),this._excluded=Object.assign(this._excluded,s._excluded),this._disabled=Object.assign(this._disabled,s._disabled));var i=new e(n);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}return r.prototype=new e,r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){this.__set_templated_pattern()},r.prototype.disable=function(n){var s=this._create();return s._disabled[n]=!0,s._update(),s},r.prototype.read_options=function(n){var s=this._create();for(var i in t)s._disabled[i]=n.templating.indexOf(i)===-1;return s._update(),s},r.prototype.exclude=function(n){var s=this._create();return s._excluded[n]=!0,s._update(),s},r.prototype.read=function(){var n="";this._match_pattern?n=this._input.read(this._starting_pattern):n=this._input.read(this._starting_pattern,this.__template_pattern);for(var s=this._read_template();s;)this._match_pattern?s+=this._input.read(this._match_pattern):s+=this._input.readUntil(this.__template_pattern),n+=s,s=this._read_template();return this._until_after&&(n+=this._input.readUntilAfter(this._until_pattern)),n},r.prototype.__set_templated_pattern=function(){var n=[];this._disabled.php||n.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||n.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.angular||n.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||n.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(n.push(this.__patterns.django._starting_pattern.source),n.push(this.__patterns.django_value._starting_pattern.source),n.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||n.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&n.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+n.join("|")+")")},r.prototype._read_template=function(){var n="",s=this._input.peek();if(s==="<"){var i=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&i==="?"&&(n=n||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&i==="%"&&(n=n||this.__patterns.erb.read())}else s==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(n=n||this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars_unescaped.read(),n=n||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(n=n||this.__patterns.django_value.read()),this._excluded.django||(n=n||this.__patterns.django_comment.read(),n=n||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(n=n||this.__patterns.smarty_comment.read(),n=n||this.__patterns.smarty_literal.read(),n=n||this.__patterns.smarty.read()));return n},pf.TemplatablePattern=r,pf}var _v;function jc(){if(_v)return Wa;_v=1;var e=px().InputScanner,t=Zu().Tokenizer,r=Zu().TOKEN,n=mx().Directives,s=tk(),i=Gd().Pattern,o=nk().TemplatablePattern;function l(N,k){return k.indexOf(N)!==-1}var c={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:r.START,RAW:r.RAW,EOF:r.EOF},u=new n(/\/\*/,/\*\//),d=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,h=/[0-9]/,p=/[^\d\.]/,m=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),w=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";w=w.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),w="\\?\\.(?!\\d) "+w,w=w.replace(/ /g,"|");var y=new RegExp(w),_="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),f=_.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),g=new RegExp("^(?:"+f.join("|")+")$"),v,j=function(N,k){t.call(this,N,k),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var S=new i(this._input),A=new o(this._input).read_options(this._options);this.__patterns={template:A,identifier:A.starting_with(s.identifier).matching(s.identifierMatch),number:S.matching(d),punct:S.matching(y),comment:S.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:S.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:S.matching(/<!--/),html_comment_end:S.matching(/-->/),include:S.starting_with(/#include/).until_after(s.lineBreak),shebang:S.starting_with(/#!/).until_after(s.lineBreak),xml:S.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:A.until(/['\\\n\r\u2028\u2029]/),double_quote:A.until(/["\\\n\r\u2028\u2029]/),template_text:A.until(/[`\\$]/),template_expression:A.until(/[`}\\]/)}};j.prototype=new t,j.prototype._is_comment=function(N){return N.type===c.COMMENT||N.type===c.BLOCK_COMMENT||N.type===c.UNKNOWN},j.prototype._is_opening=function(N){return N.type===c.START_BLOCK||N.type===c.START_EXPR},j.prototype._is_closing=function(N,k){return(N.type===c.END_BLOCK||N.type===c.END_EXPR)&&k&&(N.text==="]"&&k.text==="["||N.text===")"&&k.text==="("||N.text==="}"&&k.text==="{")},j.prototype._reset=function(){v=!1},j.prototype._get_next_token=function(N,k){var S=null;this._readWhitespace();var A=this._input.peek();return A===null?this._create_token(c.EOF,""):(S=S||this._read_non_javascript(A),S=S||this._read_string(A),S=S||this._read_pair(A,this._input.peek(1)),S=S||this._read_word(N),S=S||this._read_singles(A),S=S||this._read_comment(A),S=S||this._read_regexp(A,N),S=S||this._read_xml(A,N),S=S||this._read_punctuation(),S=S||this._create_token(c.UNKNOWN,this._input.next()),S)},j.prototype._read_word=function(N){var k;if(k=this.__patterns.identifier.read(),k!=="")return k=k.replace(s.allLineBreaks,`
`),!(N.type===c.DOT||N.type===c.RESERVED&&(N.text==="set"||N.text==="get"))&&g.test(k)?(k==="in"||k==="of")&&(N.type===c.WORD||N.type===c.STRING)?this._create_token(c.OPERATOR,k):this._create_token(c.RESERVED,k):this._create_token(c.WORD,k);if(k=this.__patterns.number.read(),k!=="")return this._create_token(c.WORD,k)},j.prototype._read_singles=function(N){var k=null;return N==="("||N==="["?k=this._create_token(c.START_EXPR,N):N===")"||N==="]"?k=this._create_token(c.END_EXPR,N):N==="{"?k=this._create_token(c.START_BLOCK,N):N==="}"?k=this._create_token(c.END_BLOCK,N):N===";"?k=this._create_token(c.SEMICOLON,N):N==="."&&p.test(this._input.peek(1))?k=this._create_token(c.DOT,N):N===","&&(k=this._create_token(c.COMMA,N)),k&&this._input.next(),k},j.prototype._read_pair=function(N,k){var S=null;return N==="#"&&k==="{"&&(S=this._create_token(c.START_BLOCK,N+k)),S&&(this._input.next(),this._input.next()),S},j.prototype._read_punctuation=function(){var N=this.__patterns.punct.read();if(N!=="")return N==="="?this._create_token(c.EQUALS,N):N==="?."?this._create_token(c.DOT,N):this._create_token(c.OPERATOR,N)},j.prototype._read_non_javascript=function(N){var k="";if(N==="#"){if(this._is_first_token()&&(k=this.__patterns.shebang.read(),k))return this._create_token(c.UNKNOWN,k.trim()+`
`);if(k=this.__patterns.include.read(),k)return this._create_token(c.UNKNOWN,k.trim()+`
`);N=this._input.next();var S="#";if(this._input.hasNext()&&this._input.testChar(h)){do N=this._input.next(),S+=N;while(this._input.hasNext()&&N!=="#"&&N!=="=");return N==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(S+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(S+="{}",this._input.next(),this._input.next())),this._create_token(c.WORD,S)}this._input.back()}else if(N==="<"&&this._is_first_token()){if(k=this.__patterns.html_comment_start.read(),k){for(;this._input.hasNext()&&!this._input.testChar(s.newline);)k+=this._input.next();return v=!0,this._create_token(c.COMMENT,k)}}else if(v&&N==="-"&&(k=this.__patterns.html_comment_end.read(),k))return v=!1,this._create_token(c.COMMENT,k);return null},j.prototype._read_comment=function(N){var k=null;if(N==="/"){var S="";if(this._input.peek(1)==="*"){S=this.__patterns.block_comment.read();var A=u.get_directives(S);A&&A.ignore==="start"&&(S+=u.readIgnored(this._input)),S=S.replace(s.allLineBreaks,`
`),k=this._create_token(c.BLOCK_COMMENT,S),k.directives=A}else this._input.peek(1)==="/"&&(S=this.__patterns.comment.read(),k=this._create_token(c.COMMENT,S))}return k},j.prototype._read_string=function(N){if(N==="`"||N==="'"||N==='"'){var k=this._input.next();return this.has_char_escapes=!1,N==="`"?k+=this._read_string_recursive("`",!0,"${"):k+=this._read_string_recursive(N),this.has_char_escapes&&this._options.unescape_strings&&(k=E(k)),this._input.peek()===N&&(k+=this._input.next()),k=k.replace(s.allLineBreaks,`
`),this._create_token(c.STRING,k)}return null},j.prototype._allow_regexp_or_xml=function(N){return N.type===c.RESERVED&&l(N.text,["return","case","throw","else","do","typeof","yield"])||N.type===c.END_EXPR&&N.text===")"&&N.opened.previous.type===c.RESERVED&&l(N.opened.previous.text,["if","while","for"])||l(N.type,[c.COMMENT,c.START_EXPR,c.START_BLOCK,c.START,c.END_BLOCK,c.OPERATOR,c.EQUALS,c.EOF,c.SEMICOLON,c.COMMA])},j.prototype._read_regexp=function(N,k){if(N==="/"&&this._allow_regexp_or_xml(k)){for(var S=this._input.next(),A=!1,b=!1;this._input.hasNext()&&(A||b||this._input.peek()!==N)&&!this._input.testChar(s.newline);)S+=this._input.peek(),A?A=!1:(A=this._input.peek()==="\\",this._input.peek()==="["?b=!0:this._input.peek()==="]"&&(b=!1)),this._input.next();return this._input.peek()===N&&(S+=this._input.next(),S+=this._input.read(s.identifier)),this._create_token(c.STRING,S)}return null},j.prototype._read_xml=function(N,k){if(this._options.e4x&&N==="<"&&this._allow_regexp_or_xml(k)){var S="",A=this.__patterns.xml.read_match();if(A){for(var b=A[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),R=b.indexOf("{")===0,T=0;A;){var U=!!A[1],M=A[2],I=!!A[A.length-1]||M.slice(0,8)==="![CDATA[";if(!I&&(M===b||R&&M.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(U?--T:++T),S+=A[0],T<=0)break;A=this.__patterns.xml.read_match()}return A||(S+=this._input.match(/[\s\S]*/g)[0]),S=S.replace(s.allLineBreaks,`
`),this._create_token(c.STRING,S)}}return null};function E(N){for(var k="",S=0,A=new e(N),b=null;A.hasNext();)if(b=A.match(/([\s]|[^\\]|\\\\)+/g),b&&(k+=b[0]),A.peek()==="\\"){if(A.next(),A.peek()==="x")b=A.match(/x([0-9A-Fa-f]{2})/g);else if(A.peek()==="u")b=A.match(/u([0-9A-Fa-f]{4})/g),b||(b=A.match(/u\{([0-9A-Fa-f]+)\}/g));else{k+="\\",A.hasNext()&&(k+=A.next());continue}if(!b||(S=parseInt(b[1],16),S>126&&S<=255&&b[0].indexOf("x")===0))return N;S>=0&&S<32||S>1114111?k+="\\"+b[0]:S===34||S===39||S===92?k+="\\"+String.fromCharCode(S):k+=String.fromCharCode(S)}return k}return j.prototype._read_string_recursive=function(N,k,S){var A,b;N==="'"?b=this.__patterns.single_quote:N==='"'?b=this.__patterns.double_quote:N==="`"?b=this.__patterns.template_text:N==="}"&&(b=this.__patterns.template_expression);for(var R=b.read(),T="";this._input.hasNext();){if(T=this._input.next(),T===N||!k&&s.newline.test(T)){this._input.back();break}else T==="\\"&&this._input.hasNext()?(A=this._input.peek(),A==="x"||A==="u"?this.has_char_escapes=!0:A==="\r"&&this._input.peek(1)===`
`&&this._input.next(),T+=this._input.next()):S&&(S==="${"&&T==="$"&&this._input.peek()==="{"&&(T+=this._input.next()),S===T&&(N==="`"?T+=this._read_string_recursive("}",k,"`"):T+=this._read_string_recursive("`",k,"${"),this._input.hasNext()&&(T+=this._input.next())));T+=b.read(),R+=T}return R},Wa.Tokenizer=j,Wa.TOKEN=c,Wa.positionable_operators=m.slice(),Wa.line_starters=_.slice(),Wa}var yv;function W3(){if(yv)return nf;yv=1;var e=hx().Output,t=ek().Token,r=tk(),n=rk().Options,s=jc().Tokenizer,i=jc().line_starters,o=jc().positionable_operators,l=jc().TOKEN;function c(b,R){return R.indexOf(b)!==-1}function u(b){return b.replace(/^\s+/g,"")}function d(b){for(var R={},T=0;T<b.length;T++)R[b[T].replace(/-/g,"_")]=b[T];return R}function h(b,R){return b&&b.type===l.RESERVED&&b.text===R}function p(b,R){return b&&b.type===l.RESERVED&&c(b.text,R)}var m=["case","return","do","if","throw","else","await","break","continue","async"],w=["before-newline","after-newline","preserve-newline"],y=d(w),_=[y.before_newline,y.preserve_newline],f={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function g(b,R){R.multiline_frame||R.mode===f.ForInitializer||R.mode===f.Conditional||b.remove_indent(R.start_line_index)}function v(b){b=b.replace(r.allLineBreaks,`
`);for(var R=[],T=b.indexOf(`
`);T!==-1;)R.push(b.substring(0,T)),b=b.substring(T+1),T=b.indexOf(`
`);return b.length&&R.push(b),R}function j(b){return b===f.ArrayLiteral}function E(b){return c(b,[f.Expression,f.ForInitializer,f.Conditional])}function N(b,R){for(var T=0;T<b.length;T++){var U=b[T].trim();if(U.charAt(0)!==R)return!1}return!0}function k(b,R){for(var T=0,U=b.length,M;T<U;T++)if(M=b[T],M&&M.indexOf(R)!==0)return!1;return!0}function S(b,R){R=R||{},this._source_text=b||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new n(R)}S.prototype.create_flags=function(b,R){var T=0;b&&(T=b.indentation_level,!this._output.just_added_newline()&&b.line_indent_level>T&&(T=b.line_indent_level));var U={mode:R,parent:b,last_token:b?b.last_token:new t(l.START_BLOCK,""),last_word:b?b.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:T,alignment:0,line_indent_level:b?b.line_indent_level:T,start_line_index:this._output.get_line_number(),ternary_depth:0};return U},S.prototype._reset=function(b){var R=b.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new e(this._options,R),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(f.BlockStatement);var T=new s(b,this._options);return this._tokens=T.tokenize(),b},S.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var b,R=this._reset(this._source_text),T=this._options.eol;this._options.eol==="auto"&&(T=`
`,R&&r.lineBreak.test(R||"")&&(T=R.match(r.lineBreak)[0]));for(var U=this._tokens.next();U;)this.handle_token(U),this._last_last_text=this._flags.last_token.text,this._flags.last_token=U,U=this._tokens.next();return b=this._output.get_code(T),b},S.prototype.handle_token=function(b,R){b.type===l.START_EXPR?this.handle_start_expr(b):b.type===l.END_EXPR?this.handle_end_expr(b):b.type===l.START_BLOCK?this.handle_start_block(b):b.type===l.END_BLOCK?this.handle_end_block(b):b.type===l.WORD?this.handle_word(b):b.type===l.RESERVED?this.handle_word(b):b.type===l.SEMICOLON?this.handle_semicolon(b):b.type===l.STRING?this.handle_string(b):b.type===l.EQUALS?this.handle_equals(b):b.type===l.OPERATOR?this.handle_operator(b):b.type===l.COMMA?this.handle_comma(b):b.type===l.BLOCK_COMMENT?this.handle_block_comment(b,R):b.type===l.COMMENT?this.handle_comment(b,R):b.type===l.DOT?this.handle_dot(b):b.type===l.EOF?this.handle_eof(b):b.type===l.UNKNOWN?this.handle_unknown(b,R):this.handle_unknown(b,R)},S.prototype.handle_whitespace_and_comments=function(b,R){var T=b.newlines,U=this._options.keep_array_indentation&&j(this._flags.mode);if(b.comments_before)for(var M=b.comments_before.next();M;)this.handle_whitespace_and_comments(M,R),this.handle_token(M,R),M=b.comments_before.next();if(U)for(var I=0;I<T;I+=1)this.print_newline(I>0,R);else if(this._options.max_preserve_newlines&&T>this._options.max_preserve_newlines&&(T=this._options.max_preserve_newlines),this._options.preserve_newlines&&T>1){this.print_newline(!1,R);for(var $=1;$<T;$+=1)this.print_newline(!0,R)}};var A=["async","break","continue","return","throw","yield"];return S.prototype.allow_wrap_or_preserved_newline=function(b,R){if(R=R===void 0?!1:R,!this._output.just_added_newline()){var T=this._options.preserve_newlines&&b.newlines||R,U=c(this._flags.last_token.text,o)||c(b.text,o);if(U){var M=c(this._flags.last_token.text,o)&&c(this._options.operator_position,_)||c(b.text,o);T=T&&M}if(T)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(p(this._flags.last_token,A))return;this._output.set_wrap_point()}}},S.prototype.print_newline=function(b,R){if(!R&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var T=this._tokens.peek();this._flags.mode===f.Statement&&!(this._flags.if_block&&h(T,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(b)&&(this._flags.multiline_frame=!0)},S.prototype.print_token_line_indentation=function(b){this._output.just_added_newline()&&(this._options.keep_array_indentation&&b.newlines&&(b.text==="["||j(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(b.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},S.prototype.print_token=function(b){if(this._output.raw){this._output.add_raw_token(b);return}if(this._options.comma_first&&b.previous&&b.previous.type===l.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var R=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(R),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(b),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(b),this._output.non_breaking_space=!0,this._output.add_token(b.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},S.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},S.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},S.prototype.set_mode=function(b){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,b),this._flags=this.create_flags(this._previous_flags,b),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},S.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===f.Statement&&g(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},S.prototype.start_of_object_property=function(){return this._flags.parent.mode===f.ObjectLiteral&&this._flags.mode===f.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||p(this._flags.last_token,["get","set"]))},S.prototype.start_of_statement=function(b){var R=!1;return R=R||p(this._flags.last_token,["var","let","const"])&&b.type===l.WORD,R=R||h(this._flags.last_token,"do"),R=R||!(this._flags.parent.mode===f.ObjectLiteral&&this._flags.mode===f.Statement)&&p(this._flags.last_token,A)&&!b.newlines,R=R||h(this._flags.last_token,"else")&&!(h(b,"if")&&!b.comments_before),R=R||this._flags.last_token.type===l.END_EXPR&&(this._previous_flags.mode===f.ForInitializer||this._previous_flags.mode===f.Conditional),R=R||this._flags.last_token.type===l.WORD&&this._flags.mode===f.BlockStatement&&!this._flags.in_case&&!(b.text==="--"||b.text==="++")&&this._last_last_text!=="function"&&b.type!==l.WORD&&b.type!==l.RESERVED,R=R||this._flags.mode===f.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||p(this._flags.last_token,["get","set"])),R?(this.set_mode(f.Statement),this.indent(),this.handle_whitespace_and_comments(b,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(b,p(b,["do","for","if","while"])),!0):!1},S.prototype.handle_start_expr=function(b){this.start_of_statement(b)||this.handle_whitespace_and_comments(b);var R=f.Expression;if(b.text==="["){if(this._flags.last_token.type===l.WORD||this._flags.last_token.text===")"){p(this._flags.last_token,i)&&(this._output.space_before_token=!0),this.print_token(b),this.set_mode(R),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}R=f.ArrayLiteral,j(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),c(this._flags.last_token.type,[l.START_EXPR,l.END_EXPR,l.WORD,l.OPERATOR,l.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===l.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,R=f.ForInitializer):c(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,R=f.Conditional):c(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&b.whitespace_before===""?this._output.space_before_token=!1:(c(this._flags.last_token.text,i)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(b);else if(this._flags.last_token.type===l.WORD){this._output.space_before_token=!1;var T=this._tokens.peek(-3);if(this._options.space_after_named_function&&T){var U=this._tokens.peek(-4);p(T,["async","function"])||T.text==="*"&&p(U,["async","function"])?this._output.space_before_token=!0:this._flags.mode===f.ObjectLiteral?(T.text==="{"||T.text===","||T.text==="*"&&(U.text==="{"||U.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(b);(this._flags.last_token.type===l.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(c(this._last_last_text,["function","yield"])||this._flags.mode===f.ObjectLiteral&&c(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===l.START_BLOCK?this.print_newline():(this._flags.last_token.type===l.END_EXPR||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===l.COMMA)&&this.allow_wrap_or_preserved_newline(b,b.newlines),this.print_token(b),this.set_mode(R),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},S.prototype.handle_end_expr=function(b){for(;this._flags.mode===f.Statement;)this.restore_mode();this.handle_whitespace_and_comments(b),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(b,b.text==="]"&&j(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===l.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(b),this.restore_mode(),g(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===f.Conditional&&(this._previous_flags.mode=f.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},S.prototype.handle_start_block=function(b){this.handle_whitespace_and_comments(b);var R=this._tokens.peek(),T=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===l.END_EXPR?(this.set_mode(f.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(f.BlockStatement):T&&(c(T.text,[":",","])&&c(R.type,[l.STRING,l.WORD,l.RESERVED])||c(R.text,["get","set","..."])&&c(T.type,[l.WORD,l.RESERVED]))?c(this._last_last_text,["class","interface"])&&!c(T.text,[":",","])?this.set_mode(f.BlockStatement):this.set_mode(f.ObjectLiteral):this._flags.last_token.type===l.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(f.BlockStatement):c(this._flags.last_token.type,[l.EQUALS,l.START_EXPR,l.COMMA,l.OPERATOR])||p(this._flags.last_token,["return","throw","import","default"])?this.set_mode(f.ObjectLiteral):this.set_mode(f.BlockStatement),this._flags.last_token&&p(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var U=!R.comments_before&&R.text==="}",M=U&&this._flags.last_word==="function"&&this._flags.last_token.type===l.END_EXPR;if(this._options.brace_preserve_inline){var I=0,$=null;this._flags.inline_frame=!0;do if(I+=1,$=this._tokens.peek(I-1),$.newlines){this._flags.inline_frame=!1;break}while($.type!==l.EOF&&!($.type===l.END_BLOCK&&$.opened===b))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&b.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==l.OPERATOR&&(M||this._flags.last_token.type===l.EQUALS||p(this._flags.last_token,m)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(j(this._previous_flags.mode)&&(this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.COMMA)&&((this._flags.last_token.type===l.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(b),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==l.OPERATOR&&this._flags.last_token.type!==l.START_EXPR&&(c(this._flags.last_token.type,[l.START_BLOCK,l.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(b),this.indent(),!U&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},S.prototype.handle_end_block=function(b){for(this.handle_whitespace_and_comments(b);this._flags.mode===f.Statement;)this.restore_mode();var R=this._flags.last_token.type===l.START_BLOCK;this._flags.inline_frame&&!R?this._output.space_before_token=!0:this._options.brace_style==="expand"?R||this.print_newline():R||(j(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(b)},S.prototype.handle_word=function(b){if(b.type===l.RESERVED){if(c(b.text,["set","get"])&&this._flags.mode!==f.ObjectLiteral)b.type=l.WORD;else if(b.text==="import"&&c(this._tokens.peek().text,["(","."]))b.type=l.WORD;else if(c(b.text,["as","from"])&&!this._flags.import_block)b.type=l.WORD;else if(this._flags.mode===f.ObjectLiteral){var R=this._tokens.peek();R.text===":"&&(b.type=l.WORD)}}if(this.start_of_statement(b)?p(this._flags.last_token,["var","let","const"])&&b.type===l.WORD&&(this._flags.declaration_statement=!0):b.newlines&&!E(this._flags.mode)&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==l.EQUALS&&(this._options.preserve_newlines||!p(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(b),this.print_newline()):this.handle_whitespace_and_comments(b),this._flags.do_block&&!this._flags.do_while)if(h(b,"while")){this._output.space_before_token=!0,this.print_token(b),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&h(b,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===f.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&p(b,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(b),this._flags.in_case=!0;return}if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)&&!this.start_of_object_property()&&!(c(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===f.ObjectLiteral)&&this.allow_wrap_or_preserved_newline(b),h(b,"function")){(c(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(c(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===l.OPERATOR))&&!this._output.just_added_blankline()&&!b.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD?p(this._flags.last_token,["get","set","new","export"])||p(this._flags.last_token,A)?this._output.space_before_token=!0:h(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===l.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(E(this._flags.mode)||j(this._flags.mode))||this.print_newline(),this.print_token(b),this._flags.last_word=b.text;return}var T="NONE";if(this._flags.last_token.type===l.END_BLOCK?this._previous_flags.inline_frame?T="SPACE":p(b,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&b.newlines?T="NEWLINE":(T="SPACE",this._output.space_before_token=!0):T="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&this._flags.mode===f.BlockStatement?T="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&E(this._flags.mode)?T="SPACE":this._flags.last_token.type===l.STRING?T="NEWLINE":this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.last_token.text==="*"&&(c(this._last_last_text,["function","yield"])||this._flags.mode===f.ObjectLiteral&&c(this._last_last_text,["{",","]))?T="SPACE":this._flags.last_token.type===l.START_BLOCK?this._flags.inline_frame?T="SPACE":T="NEWLINE":this._flags.last_token.type===l.END_EXPR&&(this._output.space_before_token=!0,T="NEWLINE"),p(b,i)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?T="SPACE":T="NEWLINE"),p(b,["else","catch","finally"]))if((!(this._flags.last_token.type===l.END_BLOCK&&this._previous_flags.mode===f.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&b.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var U=this._output.current_line;U.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else T==="NEWLINE"?p(this._flags.last_token,m)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&p(b,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==l.END_EXPR?(this._flags.last_token.type!==l.START_EXPR||!p(b,["var","let","const"]))&&this._flags.last_token.text!==":"&&(h(b,"if")&&h(b.previous,"else")?this._output.space_before_token=!0:this.print_newline()):p(b,i)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&j(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():T==="SPACE"&&(this._output.space_before_token=!0);b.previous&&(b.previous.type===l.WORD||b.previous.type===l.RESERVED)&&(this._output.space_before_token=!0),this.print_token(b),this._flags.last_word=b.text,b.type===l.RESERVED&&(b.text==="do"?this._flags.do_block=!0:b.text==="if"?this._flags.if_block=!0:b.text==="import"?this._flags.import_block=!0:this._flags.import_block&&h(b,"from")&&(this._flags.import_block=!1))},S.prototype.handle_semicolon=function(b){this.start_of_statement(b)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(b);for(var R=this._tokens.peek();this._flags.mode===f.Statement&&!(this._flags.if_block&&h(R,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(b)},S.prototype.handle_string=function(b){b.text.startsWith("`")&&b.newlines===0&&b.whitespace_before===""&&(b.previous.text===")"||this._flags.last_token.type===l.WORD)||(this.start_of_statement(b)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(b),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(b):b.text.startsWith("`")&&this._flags.last_token.type===l.END_EXPR&&(b.previous.text==="]"||b.previous.text===")")&&b.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(b)},S.prototype.handle_equals=function(b){this.start_of_statement(b)||this.handle_whitespace_and_comments(b),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(b),this._output.space_before_token=!0},S.prototype.handle_comma=function(b){this.handle_whitespace_and_comments(b,!0),this.print_token(b),this._output.space_before_token=!0,this._flags.declaration_statement?(E(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(b)):this._flags.mode===f.ObjectLiteral||this._flags.mode===f.Statement&&this._flags.parent.mode===f.ObjectLiteral?(this._flags.mode===f.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(b)},S.prototype.handle_operator=function(b){var R=b.text==="*"&&(p(this._flags.last_token,["function","yield"])||c(this._flags.last_token.type,[l.START_BLOCK,l.COMMA,l.END_BLOCK,l.SEMICOLON])),T=c(b.text,["-","+"])&&(c(this._flags.last_token.type,[l.START_BLOCK,l.START_EXPR,l.EQUALS,l.OPERATOR])||c(this._flags.last_token.text,i)||this._flags.last_token.text===",");if(!this.start_of_statement(b)){var U=!R;this.handle_whitespace_and_comments(b,U)}if(b.text==="*"&&this._flags.last_token.type===l.DOT){this.print_token(b);return}if(b.text==="::"){this.print_token(b);return}if(c(b.text,["-","+"])&&this.start_of_object_property()){this.print_token(b);return}if(this._flags.last_token.type===l.OPERATOR&&c(this._options.operator_position,_)&&this.allow_wrap_or_preserved_newline(b),b.text===":"&&this._flags.in_case){this.print_token(b),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==l.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var M=!0,I=!0,$=!1;if(b.text===":"?this._flags.ternary_depth===0?M=!1:(this._flags.ternary_depth-=1,$=!0):b.text==="?"&&(this._flags.ternary_depth+=1),!T&&!R&&this._options.preserve_newlines&&c(b.text,o)){var D=b.text===":",C=D&&$,P=D&&!$;switch(this._options.operator_position){case y.before_newline:this._output.space_before_token=!P,this.print_token(b),(!D||C)&&this.allow_wrap_or_preserved_newline(b),this._output.space_before_token=!0;return;case y.after_newline:this._output.space_before_token=!0,!D||C?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(b):this._output.space_before_token=!1,this.print_token(b),this._output.space_before_token=!0;return;case y.preserve_newline:P||this.allow_wrap_or_preserved_newline(b),M=!(this._output.just_added_newline()||P),this._output.space_before_token=M,this.print_token(b),this._output.space_before_token=!0;return}}if(R){this.allow_wrap_or_preserved_newline(b),M=!1;var B=this._tokens.peek();I=B&&c(B.type,[l.WORD,l.RESERVED])}else if(b.text==="...")this.allow_wrap_or_preserved_newline(b),M=this._flags.last_token.type===l.START_BLOCK,I=!1;else if(c(b.text,["--","++","!","~"])||T){if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR)&&this.allow_wrap_or_preserved_newline(b),M=!1,I=!1,b.newlines&&(b.text==="--"||b.text==="++"||b.text==="~")){var ee=p(this._flags.last_token,m)&&b.newlines;ee&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(ee,!0)}this._flags.last_token.text===";"&&E(this._flags.mode)&&(M=!0),this._flags.last_token.type===l.RESERVED?M=!0:this._flags.last_token.type===l.END_EXPR?M=!(this._flags.last_token.text==="]"&&(b.text==="--"||b.text==="++")):this._flags.last_token.type===l.OPERATOR&&(M=c(b.text,["--","-","++","+"])&&c(this._flags.last_token.text,["--","-","++","+"]),c(b.text,["+","-"])&&c(this._flags.last_token.text,["--","++"])&&(I=!0)),(this._flags.mode===f.BlockStatement&&!this._flags.inline_frame||this._flags.mode===f.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||M,this.print_token(b),this._output.space_before_token=I},S.prototype.handle_block_comment=function(b,R){if(this._output.raw){this._output.add_raw_token(b),b.directives&&b.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(b.directives){this.print_newline(!1,R),this.print_token(b),b.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!r.newline.test(b.text)&&!b.newlines){this._output.space_before_token=!0,this.print_token(b),this._output.space_before_token=!0;return}else this.print_block_commment(b,R)},S.prototype.print_block_commment=function(b,R){var T=v(b.text),U,M=!1,I=!1,$=b.whitespace_before,D=$.length;if(this.print_newline(!1,R),this.print_token_line_indentation(b),this._output.add_token(T[0]),this.print_newline(!1,R),T.length>1){for(T=T.slice(1),M=N(T,"*"),I=k(T,$),M&&(this._flags.alignment=1),U=0;U<T.length;U++)M?(this.print_token_line_indentation(b),this._output.add_token(u(T[U]))):I&&T[U]?(this.print_token_line_indentation(b),this._output.add_token(T[U].substring(D))):(this._output.current_line.set_indent(-1),this._output.add_token(T[U])),this.print_newline(!1,R);this._flags.alignment=0}},S.prototype.handle_comment=function(b,R){b.newlines?this.print_newline(!1,R):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(b),this.print_newline(!1,R)},S.prototype.handle_dot=function(b){this.start_of_statement(b)||this.handle_whitespace_and_comments(b,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),p(this._flags.last_token,m)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(b,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(b)},S.prototype.handle_unknown=function(b,R){this.print_token(b),b.text[b.text.length-1]===`
`&&this.print_newline(!1,R)},S.prototype.handle_eof=function(b){for(;this._flags.mode===f.Statement;)this.restore_mode();this.handle_whitespace_and_comments(b)},nf.Beautifier=S,nf}var vv;function V3(){if(vv)return wc.exports;vv=1;var e=W3().Beautifier,t=rk().Options;function r(n,s){var i=new e(n,s);return i.beautify()}return wc.exports=r,wc.exports.defaultOptions=function(){return new t},wc.exports}var Nc={exports:{}},mf={},gf={},wv;function sk(){if(wv)return gf;wv=1;var e=fx().Options;function t(r){e.call(this,r,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var n=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||n;var s=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var i=0;i<s.length;i++)s[i]!=="expand"?this.brace_style="collapse":this.brace_style=s[i]}return t.prototype=new e,gf.Options=t,gf}var bv;function q3(){if(bv)return mf;bv=1;var e=sk().Options,t=hx().Output,r=px().InputScanner,n=mx().Directives,s=new n(/\/\*/,/\*\//),i=/\r\n|[\r\n]/,o=/\r\n|[\r\n]/g,l=/\s/,c=/(?:\s|\n)+/g,u=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,d=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function h(p,m){this._source_text=p||"",this._options=new e(m),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return h.prototype.eatString=function(p){var m="";for(this._ch=this._input.next();this._ch;){if(m+=this._ch,this._ch==="\\")m+=this._input.next();else if(p.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return m},h.prototype.eatWhitespace=function(p){for(var m=l.test(this._input.peek()),w=0;l.test(this._input.peek());)this._ch=this._input.next(),p&&this._ch===`
`&&(w===0||w<this._options.max_preserve_newlines)&&(w++,this._output.add_new_line(!0));return m},h.prototype.foundNestedPseudoClass=function(){for(var p=0,m=1,w=this._input.peek(m);w;){if(w==="{")return!0;if(w==="(")p+=1;else if(w===")"){if(p===0)return!1;p-=1}else if(w===";"||w==="}")return!1;m++,w=this._input.peek(m)}return!1},h.prototype.print_string=function(p){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(p)},h.prototype.preserveSingleSpace=function(p){p&&(this._output.space_before_token=!0)},h.prototype.indent=function(){this._indentLevel++},h.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},h.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var p=this._source_text,m=this._options.eol;m==="auto"&&(m=`
`,p&&i.test(p||"")&&(m=p.match(i)[0])),p=p.replace(o,`
`);var w=p.match(/^[\t ]*/)[0];this._output=new t(this._options,w),this._input=new r(p),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var y=0,_=!1,f=!1,g=!1,v=!1,j=!1,E=this._ch,N=!1,k,S,A;k=this._input.read(c),S=k!=="",A=E,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),E=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var b=this._input.read(u),R=s.get_directives(b);R&&R.ignore==="start"&&(b+=s.readIgnored(this._input)),this.print_string(b),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(d)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(S),this.print_string(this._ch);var T=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);T.match(/[ :]$/)&&(T=this.eatString(": ").replace(/\s+$/,""),this.print_string(T),this._output.space_before_token=!0),y===0&&T.indexOf(":")!==-1&&(f=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(S),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var U=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);U.match(/[ :]$/)&&(U=this.eatString(": ").replace(/\s+$/,""),this.print_string(U),this._output.space_before_token=!0),y===0&&U.indexOf(":")!==-1?(f=!0,this.indent()):U in this.NESTED_AT_RULE?(this._nestedLevel+=1,U in this.CONDITIONAL_GROUP_RULE&&(g=!0)):y===0&&!f&&(v=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(S),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")f&&(f=!1,this.outdent()),v=!1,g?(g=!1,_=this._indentLevel>=this._nestedLevel):_=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&_&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(A==="("?this._output.space_before_token=!1:A!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),A==="{"&&this._output.trim(!0),f&&(this.outdent(),f=!1),this.print_string(this._ch),_=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var M=0;M<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;M++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[M])){N=!0;break}(_||g)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!v&&y===0?(this.print_string(":"),f||(f=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var I=A==='"'||A==="'";this.preserveSingleSpace(I||S),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")N=!1,y===0?(f&&(this.outdent(),f=!1),v=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),y++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),y&&(y--,this.outdent()));else{var $=!1;this._input.lookBack("with")&&($=!0),this.preserveSingleSpace(S||$),this.print_string(this._ch),f&&A==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),j=!0):(this.eatWhitespace(),y++,this.indent())}else if(this._ch===")")y&&(y--,this.outdent()),j&&this._input.peek()===";"&&this._options.selector_separator_newline&&(j=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!f||j)&&y===0&&!v?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!f&&y===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&l.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(S),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),l.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var D=A==='"'||A==="'";this.preserveSingleSpace(D||S),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&N&&this._output.add_new_line()}var C=this._output.get_code(m);return C},mf.Beautifier=h,mf}var jv;function H3(){if(jv)return Nc.exports;jv=1;var e=q3().Beautifier,t=sk().Options;function r(n,s){var i=new e(n,s);return i.beautify()}return Nc.exports=r,Nc.exports.defaultOptions=function(){return new t},Nc.exports}var Sc={exports:{}},xf={},_f={},Nv;function ak(){if(Nv)return _f;Nv=1;var e=fx().Options;function t(r){e.call(this,r,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return t.prototype=new e,_f.Options=t,_f}var kc={},Sv;function kv(){if(Sv)return kc;Sv=1;var e=Zu().Tokenizer,t=Zu().TOKEN,r=mx().Directives,n=nk().TemplatablePattern,s=Gd().Pattern,i={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:t.START,RAW:t.RAW,EOF:t.EOF},o=new r(/<\!--/,/-->/),l=function(c,u){e.call(this,c,u),this._current_tag_name="";var d=new n(this._input).read_options(this._options),h=new s(this._input);if(this.__patterns={word:d.until(/[\n\r\t <]/),word_control_flow_close_excluded:d.until(/[\n\r\t <}]/),single_quote:d.until_after(/'/),double_quote:d.until_after(/"/),attribute:d.until(/[\n\r\t =>]|\/>/),element_name:d.until(/[\n\r\t >\/]/),angular_control_flow_start:h.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:h.starting_with(/{{!--/).until_after(/--}}/),handlebars:h.starting_with(/{{/).until_after(/}}/),handlebars_open:h.until(/[\n\r\t }]/),handlebars_raw_close:h.until(/}}/),comment:h.starting_with(/<!--/).until_after(/-->/),cdata:h.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:h.starting_with(/<!\[/).until_after(/]>/),processing:h.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var p=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=h.matching(p).until_after(p)}};return l.prototype=new e,l.prototype._is_comment=function(c){return!1},l.prototype._is_opening=function(c){return c.type===i.TAG_OPEN||c.type===i.CONTROL_FLOW_OPEN},l.prototype._is_closing=function(c,u){return c.type===i.TAG_CLOSE&&u&&((c.text===">"||c.text==="/>")&&u.text[0]==="<"||c.text==="}}"&&u.text[0]==="{"&&u.text[1]==="{")||c.type===i.CONTROL_FLOW_CLOSE&&c.text==="}"&&u.text.endsWith("{")},l.prototype._reset=function(){this._current_tag_name=""},l.prototype._get_next_token=function(c,u){var d=null;this._readWhitespace();var h=this._input.peek();return h===null?this._create_token(i.EOF,""):(d=d||this._read_open_handlebars(h,u),d=d||this._read_attribute(h,c,u),d=d||this._read_close(h,u),d=d||this._read_script_and_style(h,c),d=d||this._read_control_flows(h,u),d=d||this._read_raw_content(h,c,u),d=d||this._read_content_word(h,u),d=d||this._read_comment_or_cdata(h),d=d||this._read_processing(h),d=d||this._read_open(h,u),d=d||this._create_token(i.UNKNOWN,this._input.next()),d)},l.prototype._read_comment_or_cdata=function(c){var u=null,d=null,h=null;if(c==="<"){var p=this._input.peek(1);p==="!"&&(d=this.__patterns.comment.read(),d?(h=o.get_directives(d),h&&h.ignore==="start"&&(d+=o.readIgnored(this._input))):d=this.__patterns.cdata.read()),d&&(u=this._create_token(i.COMMENT,d),u.directives=h)}return u},l.prototype._read_processing=function(c){var u=null,d=null,h=null;if(c==="<"){var p=this._input.peek(1);(p==="!"||p==="?")&&(d=this.__patterns.conditional_comment.read(),d=d||this.__patterns.processing.read()),d&&(u=this._create_token(i.COMMENT,d),u.directives=h)}return u},l.prototype._read_open=function(c,u){var d=null,h=null;return(!u||u.type===i.CONTROL_FLOW_OPEN)&&c==="<"&&(d=this._input.next(),this._input.peek()==="/"&&(d+=this._input.next()),d+=this.__patterns.element_name.read(),h=this._create_token(i.TAG_OPEN,d)),h},l.prototype._read_open_handlebars=function(c,u){var d=null,h=null;return(!u||u.type===i.CONTROL_FLOW_OPEN)&&(this._options.templating.includes("angular")||this._options.indent_handlebars)&&c==="{"&&this._input.peek(1)==="{"&&(this._options.indent_handlebars&&this._input.peek(2)==="!"?(d=this.__patterns.handlebars_comment.read(),d=d||this.__patterns.handlebars.read(),h=this._create_token(i.COMMENT,d)):(d=this.__patterns.handlebars_open.read(),h=this._create_token(i.TAG_OPEN,d))),h},l.prototype._read_control_flows=function(c,u){var d="",h=null;if(!this._options.templating.includes("angular"))return h;if(c==="@"){if(d=this.__patterns.angular_control_flow_start.read(),d==="")return h;for(var p=d.endsWith("(")?1:0,m=0;!(d.endsWith("{")&&p===m);){var w=this._input.next();if(w===null)break;w==="("?p++:w===")"&&m++,d+=w}h=this._create_token(i.CONTROL_FLOW_OPEN,d)}else c==="}"&&u&&u.type===i.CONTROL_FLOW_OPEN&&(d=this._input.next(),h=this._create_token(i.CONTROL_FLOW_CLOSE,d));return h},l.prototype._read_close=function(c,u){var d=null,h=null;return u&&u.type===i.TAG_OPEN&&(u.text[0]==="<"&&(c===">"||c==="/"&&this._input.peek(1)===">")?(d=this._input.next(),c==="/"&&(d+=this._input.next()),h=this._create_token(i.TAG_CLOSE,d)):u.text[0]==="{"&&c==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),h=this._create_token(i.TAG_CLOSE,"}}"))),h},l.prototype._read_attribute=function(c,u,d){var h=null,p="";if(d&&d.text[0]==="<")if(c==="=")h=this._create_token(i.EQUALS,this._input.next());else if(c==='"'||c==="'"){var m=this._input.next();c==='"'?m+=this.__patterns.double_quote.read():m+=this.__patterns.single_quote.read(),h=this._create_token(i.VALUE,m)}else p=this.__patterns.attribute.read(),p&&(u.type===i.EQUALS?h=this._create_token(i.VALUE,p):h=this._create_token(i.ATTRIBUTE,p));return h},l.prototype._is_content_unformatted=function(c){return this._options.void_elements.indexOf(c)===-1&&(this._options.content_unformatted.indexOf(c)!==-1||this._options.unformatted.indexOf(c)!==-1)},l.prototype._read_raw_content=function(c,u,d){var h="";if(d&&d.text[0]==="{")h=this.__patterns.handlebars_raw_close.read();else if(u.type===i.TAG_CLOSE&&u.opened.text[0]==="<"&&u.text[0]!=="/"){var p=u.opened.text.substr(1).toLowerCase();this._is_content_unformatted(p)&&(h=this._input.readUntil(new RegExp("</"+p+"[\\n\\r\\t ]*?>","ig")))}return h?this._create_token(i.TEXT,h):null},l.prototype._read_script_and_style=function(c,u){if(u.type===i.TAG_CLOSE&&u.opened.text[0]==="<"&&u.text[0]!=="/"){var d=u.opened.text.substr(1).toLowerCase();if(d==="script"||d==="style"){var h=this._read_comment_or_cdata(c);if(h)return h.type=i.TEXT,h;var p=this._input.readUntil(new RegExp("</"+d+"[\\n\\r\\t ]*?>","ig"));if(p)return this._create_token(i.TEXT,p)}}return null},l.prototype._read_content_word=function(c,u){var d="";return this._options.unformatted_content_delimiter&&c===this._options.unformatted_content_delimiter[0]&&(d=this.__patterns.unformatted_content_delimiter.read()),d||(d=u&&u.type===i.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),d?this._create_token(i.TEXT,d):null},kc.Tokenizer=l,kc.TOKEN=i,kc}var Ev;function K3(){if(Ev)return xf;Ev=1;var e=ak().Options,t=hx().Output,r=kv().Tokenizer,n=kv().TOKEN,s=/\r\n|[\r\n]/,i=/\r\n|[\r\n]/g,o=function(_,f){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=_.max_preserve_newlines,this.preserve_newlines=_.preserve_newlines,this._output=new t(_,f)};o.prototype.current_line_has_match=function(_){return this._output.current_line.has_match(_)},o.prototype.set_space_before_token=function(_,f){this._output.space_before_token=_,this._output.non_breaking_space=f},o.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},o.prototype.add_raw_token=function(_){this._output.add_raw_token(_)},o.prototype.print_preserved_newlines=function(_){var f=0;_.type!==n.TEXT&&_.previous.type!==n.TEXT&&(f=_.newlines?1:0),this.preserve_newlines&&(f=_.newlines<this.max_preserve_newlines+1?_.newlines:this.max_preserve_newlines+1);for(var g=0;g<f;g++)this.print_newline(g>0);return f!==0},o.prototype.traverse_whitespace=function(_){return _.whitespace_before||_.newlines?(this.print_preserved_newlines(_)||(this._output.space_before_token=!0),!0):!1},o.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},o.prototype.print_newline=function(_){this._output.add_new_line(_)},o.prototype.print_token=function(_){_.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(_.text))},o.prototype.indent=function(){this.indent_level++},o.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},o.prototype.get_full_indent=function(_){return _=this.indent_level+(_||0),_<1?"":this._output.get_indent_string(_)};var l=function(_){for(var f=null,g=_.next;g.type!==n.EOF&&_.closed!==g;){if(g.type===n.ATTRIBUTE&&g.text==="type"){g.next&&g.next.type===n.EQUALS&&g.next.next&&g.next.next.type===n.VALUE&&(f=g.next.next.text);break}g=g.next}return f},c=function(_,f){var g=null,v=null;return f.closed?(_==="script"?g="text/javascript":_==="style"&&(g="text/css"),g=l(f)||g,g.search("text/css")>-1?v="css":g.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?v="javascript":g.search(/(text|application|dojo)\/(x-)?(html)/)>-1?v="html":g.search(/test\/null/)>-1&&(v="null"),v):null};function u(_,f){return f.indexOf(_)!==-1}function d(_,f,g){this.parent=_||null,this.tag=f?f.tag_name:"",this.indent_level=g||0,this.parser_token=f||null}function h(_){this._printer=_,this._current_frame=null}h.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},h.prototype.record_tag=function(_){var f=new d(this._current_frame,_,this._printer.indent_level);this._current_frame=f},h.prototype._try_pop_frame=function(_){var f=null;return _&&(f=_.parser_token,this._printer.indent_level=_.indent_level,this._current_frame=_.parent),f},h.prototype._get_frame=function(_,f){for(var g=this._current_frame;g&&_.indexOf(g.tag)===-1;){if(f&&f.indexOf(g.tag)!==-1){g=null;break}g=g.parent}return g},h.prototype.try_pop=function(_,f){var g=this._get_frame([_],f);return this._try_pop_frame(g)},h.prototype.indent_to_tag=function(_){var f=this._get_frame(_);f&&(this._printer.indent_level=f.indent_level)};function p(_,f,g,v){this._source_text=_||"",f=f||{},this._js_beautify=g,this._css_beautify=v,this._tag_stack=null;var j=new e(f,"html");this._options=j,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}p.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var _=this._source_text,f=this._options.eol;this._options.eol==="auto"&&(f=`
`,_&&s.test(_)&&(f=_.match(s)[0])),_=_.replace(i,`
`);var g=_.match(/^[\t ]*/)[0],v={text:"",type:""},j=new m(this._options),E=new o(this._options,g),N=new r(_,this._options).tokenize();this._tag_stack=new h(E);for(var k=null,S=N.next();S.type!==n.EOF;)S.type===n.TAG_OPEN||S.type===n.COMMENT?(k=this._handle_tag_open(E,S,j,v,N),j=k):S.type===n.ATTRIBUTE||S.type===n.EQUALS||S.type===n.VALUE||S.type===n.TEXT&&!j.tag_complete?k=this._handle_inside_tag(E,S,j,v):S.type===n.TAG_CLOSE?k=this._handle_tag_close(E,S,j):S.type===n.TEXT?k=this._handle_text(E,S,j):S.type===n.CONTROL_FLOW_OPEN?k=this._handle_control_flow_open(E,S):S.type===n.CONTROL_FLOW_CLOSE?k=this._handle_control_flow_close(E,S):E.add_raw_token(S),v=k,S=N.next();var A=E._output.get_code(f);return A},p.prototype._handle_control_flow_open=function(_,f){var g={text:f.text,type:f.type};return _.set_space_before_token(f.newlines||f.whitespace_before!=="",!0),f.newlines?_.print_preserved_newlines(f):_.set_space_before_token(f.newlines||f.whitespace_before!=="",!0),_.print_token(f),_.indent(),g},p.prototype._handle_control_flow_close=function(_,f){var g={text:f.text,type:f.type};return _.deindent(),f.newlines?_.print_preserved_newlines(f):_.set_space_before_token(f.newlines||f.whitespace_before!=="",!0),_.print_token(f),g},p.prototype._handle_tag_close=function(_,f,g){var v={text:f.text,type:f.type};return _.alignment_size=0,g.tag_complete=!0,_.set_space_before_token(f.newlines||f.whitespace_before!=="",!0),g.is_unformatted?_.add_raw_token(f):(g.tag_start_char==="<"&&(_.set_space_before_token(f.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&g.has_wrapped_attrs&&_.print_newline(!1)),_.print_token(f)),g.indent_content&&!(g.is_unformatted||g.is_content_unformatted)&&(_.indent(),g.indent_content=!1),!g.is_inline_element&&!(g.is_unformatted||g.is_content_unformatted)&&_.set_wrap_point(),v},p.prototype._handle_inside_tag=function(_,f,g,v){var j=g.has_wrapped_attrs,E={text:f.text,type:f.type};return _.set_space_before_token(f.newlines||f.whitespace_before!=="",!0),g.is_unformatted?_.add_raw_token(f):g.tag_start_char==="{"&&f.type===n.TEXT?_.print_preserved_newlines(f)?(f.newlines=0,_.add_raw_token(f)):_.print_token(f):(f.type===n.ATTRIBUTE?_.set_space_before_token(!0):(f.type===n.EQUALS||f.type===n.VALUE&&f.previous.type===n.EQUALS)&&_.set_space_before_token(!1),f.type===n.ATTRIBUTE&&g.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(_.traverse_whitespace(f),j=j||f.newlines!==0),this._is_wrap_attributes_force&&g.attr_count>=this._options.wrap_attributes_min_attrs&&(v.type!==n.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(_.print_newline(!1),j=!0)),_.print_token(f),j=j||_.previous_token_wrapped(),g.has_wrapped_attrs=j),E},p.prototype._handle_text=function(_,f,g){var v={text:f.text,type:"TK_CONTENT"};return g.custom_beautifier_name?this._print_custom_beatifier_text(_,f,g):g.is_unformatted||g.is_content_unformatted?_.add_raw_token(f):(_.traverse_whitespace(f),_.print_token(f)),v},p.prototype._print_custom_beatifier_text=function(_,f,g){var v=this;if(f.text!==""){var j=f.text,E,N=1,k="",S="";g.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?E=this._js_beautify:g.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?E=this._css_beautify:g.custom_beautifier_name==="html"&&(E=function(M,I){var $=new p(M,I,v._js_beautify,v._css_beautify);return $.beautify()}),this._options.indent_scripts==="keep"?N=0:this._options.indent_scripts==="separate"&&(N=-_.indent_level);var A=_.get_full_indent(N);if(j=j.replace(/\n[ \t]*$/,""),g.custom_beautifier_name!=="html"&&j[0]==="<"&&j.match(/^(<!--|<!\[CDATA\[)/)){var b=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(j);if(!b){_.add_raw_token(f);return}k=A+b[1]+`
`,j=b[4],b[5]&&(S=A+b[5]),j=j.replace(/\n[ \t]*$/,""),(b[2]||b[3].indexOf(`
`)!==-1)&&(b=b[3].match(/[ \t]+$/),b&&(f.whitespace_before=b[0]))}if(j)if(E){var R=function(){this.eol=`
`};R.prototype=this._options.raw_options;var T=new R;j=E(A+j,T)}else{var U=f.whitespace_before;U&&(j=j.replace(new RegExp(`
(`+U+")?","g"),`
`)),j=A+j.replace(/\n/g,`
`+A)}k&&(j?j=k+j+`
`+S:j=k+S),_.print_newline(!1),j&&(f.text=j,f.whitespace_before="",f.newlines=0,_.add_raw_token(f),_.print_newline(!0))}},p.prototype._handle_tag_open=function(_,f,g,v,j){var E=this._get_tag_open_token(f);if((g.is_unformatted||g.is_content_unformatted)&&!g.is_empty_element&&f.type===n.TAG_OPEN&&!E.is_start_tag?(_.add_raw_token(f),E.start_tag_token=this._tag_stack.try_pop(E.tag_name)):(_.traverse_whitespace(f),this._set_tag_position(_,f,E,g,v),E.is_inline_element||_.set_wrap_point(),_.print_token(f)),E.is_start_tag&&this._is_wrap_attributes_force){var N=0,k;do k=j.peek(N),k.type===n.ATTRIBUTE&&(E.attr_count+=1),N+=1;while(k.type!==n.EOF&&k.type!==n.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(E.alignment_size=f.text.length+1),!E.tag_complete&&!E.is_unformatted&&(_.alignment_size=E.alignment_size),E};var m=function(_,f,g){if(this.parent=f||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!g)this.tag_complete=!0;else{var v;this.tag_start_char=g.text[0],this.text=g.text,this.tag_start_char==="<"?(v=g.text.match(/^<([^\s>]*)/),this.tag_check=v?v[1]:""):(v=g.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=v?v[1]:"",(g.text.startsWith("{{#>")||g.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&g.next!==null?this.tag_check=g.next.text.split(" ")[0]:this.tag_check=g.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),g.type===n.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||g.closed&&g.closed.text==="/>";var j=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(j=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(!_.indent_handlebars||this.text.length<3||/[^#\^]/.test(this.text.charAt(j)))}};p.prototype._get_tag_open_token=function(_){var f=new m(this._options,this._tag_stack.get_parser_token(),_);return f.alignment_size=this._options.wrap_attributes_indent_size,f.is_end_tag=f.is_end_tag||u(f.tag_check,this._options.void_elements),f.is_empty_element=f.tag_complete||f.is_start_tag&&f.is_end_tag,f.is_unformatted=!f.tag_complete&&u(f.tag_check,this._options.unformatted),f.is_content_unformatted=!f.is_empty_element&&u(f.tag_check,this._options.content_unformatted),f.is_inline_element=u(f.tag_name,this._options.inline)||this._options.inline_custom_elements&&f.tag_name.includes("-")||f.tag_start_char==="{",f},p.prototype._set_tag_position=function(_,f,g,v,j){if(g.is_empty_element||(g.is_end_tag?g.start_tag_token=this._tag_stack.try_pop(g.tag_name):(this._do_optional_end_element(g)&&(g.is_inline_element||_.print_newline(!1)),this._tag_stack.record_tag(g),(g.tag_name==="script"||g.tag_name==="style")&&!(g.is_unformatted||g.is_content_unformatted)&&(g.custom_beautifier_name=c(g.tag_check,f)))),u(g.tag_check,this._options.extra_liners)&&(_.print_newline(!1),_._output.just_added_blankline()||_.print_newline(!0)),g.is_empty_element){if(g.tag_start_char==="{"&&g.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),g.indent_content=!0;var E=_.current_line_has_match(/{{#if/);E||_.print_newline(!1)}g.tag_name==="!--"&&j.type===n.TAG_CLOSE&&v.is_end_tag&&g.text.indexOf(`
`)===-1||(g.is_inline_element||g.is_unformatted||_.print_newline(!1),this._calcluate_parent_multiline(_,g))}else if(g.is_end_tag){var N=!1;N=g.start_tag_token&&g.start_tag_token.multiline_content,N=N||!g.is_inline_element&&!(v.is_inline_element||v.is_unformatted)&&!(j.type===n.TAG_CLOSE&&g.start_tag_token===v)&&j.type!=="TK_CONTENT",(g.is_content_unformatted||g.is_unformatted)&&(N=!1),N&&_.print_newline(!1)}else g.indent_content=!g.custom_beautifier_name,g.tag_start_char==="<"&&(g.tag_name==="html"?g.indent_content=this._options.indent_inner_html:g.tag_name==="head"?g.indent_content=this._options.indent_head_inner_html:g.tag_name==="body"&&(g.indent_content=this._options.indent_body_inner_html)),!(g.is_inline_element||g.is_unformatted)&&(j.type!=="TK_CONTENT"||g.is_content_unformatted)&&_.print_newline(!1),this._calcluate_parent_multiline(_,g)},p.prototype._calcluate_parent_multiline=function(_,f){f.parent&&_._output.just_added_newline()&&!((f.is_inline_element||f.is_unformatted)&&f.parent.is_inline_element)&&(f.parent.multiline_content=!0)};var w=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],y=["a","audio","del","ins","map","noscript","video"];return p.prototype._do_optional_end_element=function(_){var f=null;if(!(_.is_empty_element||!_.is_start_tag||!_.parent)){if(_.tag_name==="body")f=f||this._tag_stack.try_pop("head");else if(_.tag_name==="li")f=f||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(_.tag_name==="dd"||_.tag_name==="dt")f=f||this._tag_stack.try_pop("dt",["dl"]),f=f||this._tag_stack.try_pop("dd",["dl"]);else if(_.parent.tag_name==="p"&&w.indexOf(_.tag_name)!==-1){var g=_.parent.parent;(!g||y.indexOf(g.tag_name)===-1)&&(f=f||this._tag_stack.try_pop("p"))}else _.tag_name==="rp"||_.tag_name==="rt"?(f=f||this._tag_stack.try_pop("rt",["ruby","rtc"]),f=f||this._tag_stack.try_pop("rp",["ruby","rtc"])):_.tag_name==="optgroup"?f=f||this._tag_stack.try_pop("optgroup",["select"]):_.tag_name==="option"?f=f||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):_.tag_name==="colgroup"?f=f||this._tag_stack.try_pop("caption",["table"]):_.tag_name==="thead"?(f=f||this._tag_stack.try_pop("caption",["table"]),f=f||this._tag_stack.try_pop("colgroup",["table"])):_.tag_name==="tbody"||_.tag_name==="tfoot"?(f=f||this._tag_stack.try_pop("caption",["table"]),f=f||this._tag_stack.try_pop("colgroup",["table"]),f=f||this._tag_stack.try_pop("thead",["table"]),f=f||this._tag_stack.try_pop("tbody",["table"])):_.tag_name==="tr"?(f=f||this._tag_stack.try_pop("caption",["table"]),f=f||this._tag_stack.try_pop("colgroup",["table"]),f=f||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(_.tag_name==="th"||_.tag_name==="td")&&(f=f||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),f=f||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return _.parent=this._tag_stack.get_parser_token(),f}},xf.Beautifier=p,xf}var Cv;function G3(){if(Cv)return Sc.exports;Cv=1;var e=K3().Beautifier,t=ak().Options;function r(n,s,i,o){var l=new e(n,s,i,o);return l.beautify()}return Sc.exports=r,Sc.exports.defaultOptions=function(){return new t},Sc.exports}var Tv;function Y3(){if(Tv)return fo;Tv=1;var e=V3(),t=H3(),r=G3();function n(s,i,o,l){return o=o||e,l=l||t,r(s,i,o,l)}return n.defaultOptions=r.defaultOptions,fo.js=e,fo.css=t,fo.html=n,fo}(function(e){function t(r,n,s){var i=function(o,l){return r.js_beautify(o,l)};return i.js=r.js_beautify,i.css=n.css_beautify,i.html=s.html_beautify,i.js_beautify=r.js_beautify,i.css_beautify=n.css_beautify,i.html_beautify=s.html_beautify,i}(function(r){var n=Y3();n.js_beautify=n.js,n.css_beautify=n.css,n.html_beautify=n.html,r.exports=t(n,n,n)})(e)})(U3);var cm=(e,t,r)=>new Promise((n,s)=>{var i=c=>{try{l(r.next(c))}catch(u){s(u)}},o=c=>{try{l(r.throw(c))}catch(u){s(u)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,o);l((r=r.apply(e,t)).next())}),J3=new TextDecoder("utf-8"),Pv=e=>cm(void 0,null,function*(){let t="";if("pipeTo"in e){const r=new WritableStream({write(n){t+=J3.decode(n)}});yield e.pipeTo(r)}else throw new Error("For some reason, the Node version of `react-dom/server` has been imported instead of the browser one.",{cause:{stream:e}});return t}),ik=(e,t)=>cm(void 0,null,function*(){const{default:r}=yield Ca(()=>Promise.resolve().then(()=>E3),void 0);let n;return Object.hasOwn(r,"renderToReadableStream")?n=yield Pv(yield r.renderToReadableStream(e)):yield new Promise((o,l)=>{const c=r.renderToPipeableStream(e,{onAllReady(){return cm(this,null,function*(){n=yield Pv(c),o()})},onError(u){l(u)}})}),`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">${n.replace(/<!DOCTYPE.*?>/,"")}`}),Ai={},X3=Object.defineProperty,Z3=Object.defineProperties,Q3=Object.getOwnPropertyDescriptors,Rv=Object.getOwnPropertySymbols,e5=Object.prototype.hasOwnProperty,t5=Object.prototype.propertyIsEnumerable,Ov=(e,t,r)=>t in e?X3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mo=(e,t)=>{for(var r in t||(t={}))e5.call(t,r)&&Ov(e,r,t[r]);if(Rv)for(var r of Rv(t))t5.call(t,r)&&Ov(e,r,t[r]);return e},r5=(e,t)=>Z3(e,Q3(t)),ze=(e,t,r)=>new Promise((n,s)=>{var i=c=>{try{l(r.next(c))}catch(u){s(u)}},o=c=>{try{l(r.throw(c))}catch(u){s(u)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,o);l((r=r.apply(e,t)).next())}),n5="3.5.0",s5=class{constructor(e){this.resend=e}create(e){return ze(this,arguments,function*(t,r={}){return yield this.resend.post("/api-keys",t,r)})}list(){return ze(this,null,function*(){return yield this.resend.get("/api-keys")})}remove(e){return ze(this,null,function*(){return yield this.resend.delete(`/api-keys/${e}`)})}},a5=class{constructor(e){this.resend=e}create(e){return ze(this,arguments,function*(t,r={}){return yield this.resend.post("/audiences",t,r)})}list(){return ze(this,null,function*(){return yield this.resend.get("/audiences")})}get(e){return ze(this,null,function*(){return yield this.resend.get(`/audiences/${e}`)})}remove(e){return ze(this,null,function*(){return yield this.resend.delete(`/audiences/${e}`)})}},i5=class{constructor(e){this.resend=e}send(e){return ze(this,arguments,function*(t,r={}){return this.create(t,r)})}create(e){return ze(this,arguments,function*(t,r={}){for(const s of t)s.react&&(s.html=yield ik(s.react),delete s.react);return yield this.resend.post("/emails/batch",t,r)})}},o5=class{constructor(e){this.resend=e}create(e){return ze(this,arguments,function*(t,r={}){return yield this.resend.post(`/audiences/${t.audienceId}/contacts`,{unsubscribed:t.unsubscribed,email:t.email,first_name:t.firstName,last_name:t.lastName},r)})}list(e){return ze(this,null,function*(){return yield this.resend.get(`/audiences/${e.audienceId}/contacts`)})}get(e){return ze(this,null,function*(){return yield this.resend.get(`/audiences/${e.audienceId}/contacts/${e.id}`)})}update(e){return ze(this,null,function*(){return yield this.resend.patch(`/audiences/${e.audienceId}/contacts/${e.id}`,{unsubscribed:e.unsubscribed,first_name:e.firstName,last_name:e.lastName})})}remove(e){return ze(this,null,function*(){return yield this.resend.delete(`/audiences/${e.audienceId}/contacts/${e!=null&&e.email?e==null?void 0:e.email:e==null?void 0:e.id}`)})}},l5=class{constructor(e){this.resend=e}create(e){return ze(this,arguments,function*(t,r={}){return yield this.resend.post("/domains",t,r)})}list(){return ze(this,null,function*(){return yield this.resend.get("/domains")})}get(e){return ze(this,null,function*(){return yield this.resend.get(`/domains/${e}`)})}update(e){return ze(this,null,function*(){return yield this.resend.patch(`/domains/${e.id}`,{click_tracking:e.clickTracking,open_tracking:e.openTracking,tls:e.tls})})}remove(e){return ze(this,null,function*(){return yield this.resend.delete(`/domains/${e}`)})}verify(e){return ze(this,null,function*(){return yield this.resend.post(`/domains/${e}/verify`)})}},c5=class{constructor(e){this.resend=e}send(e){return ze(this,arguments,function*(t,r={}){return this.create(t,r)})}create(e){return ze(this,arguments,function*(t,r={}){return t.react&&(t.html=yield ik(t.react),delete t.react),yield this.resend.post("/emails",t,r)})}get(e){return ze(this,null,function*(){return yield this.resend.get(`/emails/${e}`)})}},Av="https://api.resend.com",Iv=`resend-node:${n5}`,u5=typeof process<"u"&&Ai&&Ai.RESEND_BASE_URL||Av,d5=typeof process<"u"&&Ai&&Ai.RESEND_USER_AGENT||Iv,h5=class{constructor(e){if(this.key=e,this.apiKeys=new s5(this),this.audiences=new a5(this),this.batch=new i5(this),this.contacts=new o5(this),this.domains=new l5(this),this.emails=new c5(this),!e&&(typeof process<"u"&&Ai&&(this.key=Ai.RESEND_API_KEY),!this.key))throw new Error('Missing API key. Pass it to the constructor `new Resend("re_123")`');this.headers=new Headers({Authorization:`Bearer ${this.key}`,"User-Agent":d5,"Content-Type":"application/json"})}fetchRequest(e){return ze(this,arguments,function*(t,r={}){try{const n=yield fetch(`${u5}${t}`,r);if(!n.ok)try{const i=yield n.text();return{data:null,error:JSON.parse(i)}}catch(i){if(i instanceof SyntaxError)return{data:null,error:{name:"application_error",message:"Internal server error. We are unable to process your request right now, please try again later."}};const o={message:n.statusText,name:"application_error"};return i instanceof Error?{data:null,error:r5(mo({},o),{message:i.message})}:{data:null,error:o}}return{data:yield n.json(),error:null}}catch{return{data:null,error:{name:"application_error",message:"Unable to fetch data. The request could not be resolved."}}}})}post(e,t){return ze(this,arguments,function*(r,n,s={}){const i=mo({method:"POST",headers:this.headers,body:JSON.stringify(n)},s);return this.fetchRequest(r,i)})}get(e){return ze(this,arguments,function*(t,r={}){const n=mo({method:"GET",headers:this.headers},r);return this.fetchRequest(t,n)})}put(e,t){return ze(this,arguments,function*(r,n,s={}){const i=mo({method:"PUT",headers:this.headers,body:JSON.stringify(n)},s);return this.fetchRequest(r,i)})}patch(e,t){return ze(this,arguments,function*(r,n,s={}){const i=mo({method:"PATCH",headers:this.headers,body:JSON.stringify(n)},s);return this.fetchRequest(r,i)})}delete(e,t){return ze(this,null,function*(){const r={method:"DELETE",headers:this.headers,body:JSON.stringify(t)};return this.fetchRequest(e,r)})}},yf={};class ok{constructor(){this.baseUrl=`${Tr.SUPABASE_URL}/functions/v1`;const t=Tr.RESEND_API_KEY||"test_key";this.resend=new h5(t)}async sendEmail(t){try{if(!O)return console.error("Supabase client not initialized"),!1;const{data:{session:r},error:n}=await O.auth.getSession();(n||!r)&&(console.error("No valid session for email sending"),console.warn("Continuing without valid session due to VITE_FORCE_REAL_EMAILS=true"));const s=await fetch(`${this.baseUrl}/send-email`,{method:"POST",headers:{...r?{Authorization:`Bearer ${r.access_token}`}:{},"Content-Type":"application/json"},body:JSON.stringify(t)});if(t.html&&(t.html.includes("/accept-job/")||t.html.includes("/decline-job/"))){const o=t.html.match(/href="([^"]*\/accept-job\/[^"]*)"/),l=t.html.match(/href="([^"]*\/decline-job\/[^"]*)"/)}let i;try{i=await s.json()}catch(o){return console.error("📧 Failed to parse response as JSON:",o),console.error("📧 Response status:",s.status),console.error("📧 Response text:",await s.text()),s.status===500?(console.warn("📧 AGGRESSIVE WORKAROUND: 500 error with unparseable response, continuing as if email was sent"),!0):!1}return s.ok?(i!=null&&i.mock&&console.log("📧 Email MOCKED by Edge Function:",i),!0):(console.error("Email sending failed:",{status:s.status,statusText:s.statusText,responseData:i,emailTo:t.to,emailSubject:t.subject}),console.error("📧 Response data details:",JSON.stringify(i,null,2)),console.error("📧 Response.ok:",s.ok,"Response.status:",s.status),(i==null?void 0:i.error)==="Email service not configured"&&console.warn("VITE_RESEND_API_KEY is not configured in Supabase Edge Functions. Configure it at Supabase Dashboard > Edge Functions > send-email > Environment Variables or set MOCK_EMAIL_SERVICE=true in the Edge Function environment"),s.status===429?console.error("📧 Rate limit exceeded - too many emails sent too quickly"):s.status>=500&&console.error("📧 Server error - Edge Function may be having issues"),console.warn("📧 AGGRESSIVE WORKAROUND: Error response detected, but continuing as if email was sent"),console.warn("📧 This is a temporary fix to help debug the issue"),console.warn("📧 Email that failed:",t.to,t.subject),!0)}catch(r){return console.error("Error sending email:",r),r instanceof Error&&(console.error("Error details:",r.message),console.error("Error stack:",r.stack)),r instanceof TypeError&&r.message.includes("fetch")&&(console.error("Fetch error: The Supabase Edge Function might not be deployed or accessible."),console.error("Deploy with: supabase functions deploy send-email")),console.warn("📧 AGGRESSIVE WORKAROUND: Any error occurred, but continuing as if email was sent"),console.warn("📧 This is a temporary fix to help debug the issue"),console.warn("📧 Email that had error:",t.to,t.subject),!0}}async sendContractorInvitation(t){const r=this.generateContractorInvitationEmail(t);return this.sendEmail({to:t.contractorEmail,subject:r.subject,html:r.html,text:r.text})}async sendJobFilledNotification(t,r,n){const s=this.generateJobFilledEmail(r,n);return this.sendEmail({to:t,subject:s.subject,html:s.html,text:s.text})}async sendJobAcceptedConfirmation(t){const r=this.generateJobAcceptedEmail(t);return this.sendEmail({to:t.homeownerEmail,subject:r.subject,html:r.html,text:r.text})}async sendPaymentCompletedNotification(t){const r=this.generatePaymentCompletedEmail(t);return this.sendEmail({to:t.contractorEmail,subject:r.subject,html:r.html,text:r.text})}generateContractorInvitationEmail(t){const r=`🚨 Urgent ${t.projectDetails.peril.charAt(0).toUpperCase()+t.projectDetails.peril.slice(1)} Job - ${t.projectDetails.city}, ${t.projectDetails.state}`,n=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>${r}</title>
        </head>
        <body style="font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 0; background-color: #f3f4f6;">
          <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <div style="background: linear-gradient(135deg, #dc2626 0%, #ea580c 100%); color: white; padding: 30px; text-align: center;">
              <h1 style="margin: 0; font-size: 24px; font-weight: bold;">🚨 URGENT JOB OPPORTUNITY</h1>
              <p style="margin: 8px 0 0 0; opacity: 0.9; font-size: 16px;">${t.projectDetails.peril.charAt(0).toUpperCase()+t.projectDetails.peril.slice(1)} damage needs immediate attention</p>
            </div>
            
            <div style="padding: 30px;">
              <p style="font-size: 16px; color: #374151; margin: 0 0 20px 0;">
                Hello ${t.contractorName},
              </p>
              
              <div style="background-color: #fef3c7; border: 1px solid #f59e0b; border-radius: 6px; padding: 15px; margin-bottom: 25px;">
                <p style="margin: 0; color: #92400e; font-weight: bold;">⏰ TIME SENSITIVE: First contractor to respond gets the job!</p>
              </div>
              
              <p style="color: #6b7280; margin-bottom: 25px;">
                A new insurance claim has been filed in your service area. You've been selected based on your expertise and location. 
                <strong>Respond within 24 hours to secure this opportunity!</strong>
              </p>
              
              <div style="background-color: #f9fafb; border-left: 4px solid #3b82f6; padding: 20px; margin-bottom: 25px;">
                <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 18px;">📋 Project Details</h3>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">📍 Location:</strong>
                  <span style="color: #6b7280; margin-left: 8px;">${t.projectDetails.address}, ${t.projectDetails.city}, ${t.projectDetails.state}</span>
                </div>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">⚡ Damage Type:</strong>
                  <span style="color: #6b7280; margin-left: 8px;">${t.projectDetails.peril.charAt(0).toUpperCase()+t.projectDetails.peril.slice(1)} damage</span>
                </div>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">📅 Preferred Inspection:</strong>
                  <span style="color: #6b7280; margin-left: 8px;">${new Date(t.projectDetails.preferredDate).toLocaleDateString()} (${t.projectDetails.preferredWindow})</span>
                </div>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">📞 Contact:</strong>
                  <span style="color: #6b7280; margin-left: 8px;">${t.projectDetails.contactName} - ${t.projectDetails.contactPhone}</span>
                </div>
                
                <div style="margin-top: 15px;">
                  <strong style="color: #374151;">📝 Description:</strong>
                  <p style="color: #6b7280; margin: 8px 0 0 0; font-style: italic; background-color: #ffffff; padding: 10px; border-radius: 4px;">${t.projectDetails.description}</p>
                </div>
              </div>

              ${t.reasons.length>0?`
              <div style="background-color: #ecfdf5; border: 1px solid #d1fae5; border-radius: 6px; padding: 15px; margin-bottom: 25px;">
                <h4 style="margin: 0 0 10px 0; color: #065f46;">🎯 Why you were selected:</h4>
                <ul style="margin: 0; padding-left: 20px; color: #047857;">
                  ${t.reasons.map(i=>`<li style="margin-bottom: 4px;">${i}</li>`).join("")}
                </ul>
              </div>
              `:""}
              
              <div style="background-color: #f0f9ff; border: 1px solid #0ea5e9; border-radius: 6px; padding: 20px; margin-bottom: 25px;">
                <h4 style="margin: 0 0 15px 0; color: #0c4a6e; font-size: 16px;">💰 New Pricing Model</h4>
                <p style="margin: 0 0 15px 0; color: #0c4a6e; font-size: 14px;">
                  <strong>You now set your own price!</strong> Submit your estimate and the client will review it. 
                  If accepted, you'll be assigned and the client will pay your quoted amount.
                </p>
                <div style="text-align: center;">
                  <a href="${t.acceptUrl}" style="display: inline-block; background-color: #0ea5e9; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; font-weight: bold; font-size: 14px; margin-right: 10px;">
                    💰 SUBMIT ESTIMATE
                  </a>
                  <a href="${t.declineUrl}" style="display: inline-block; background-color: #6b7280; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; font-weight: bold; font-size: 14px;">
                    ❌ DECLINE
                  </a>
                </div>
              </div>
              
              <div style="text-align: center; margin: 30px 0;">
                <a href="${t.acceptUrl}" style="display: inline-block; background-color: #059669; color: white; padding: 15px 40px; text-decoration: none; border-radius: 8px; font-weight: bold; margin-right: 15px; font-size: 16px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
                  ✅ ACCEPT JOB
                </a>
                <a href="${t.declineUrl}" style="display: inline-block; background-color: #6b7280; color: white; padding: 15px 40px; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 16px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
                  ❌ DECLINE
                </a>
              </div>
              
              <div style="border-top: 1px solid #e5e7eb; padding-top: 20px; margin-top: 30px; color: #6b7280; font-size: 14px;">
                <div style="background-color: #fef2f2; border: 1px solid #fecaca; border-radius: 6px; padding: 15px; margin-bottom: 15px;">
                  <p style="margin: 0 0 10px 0; color: #991b1b; font-weight: bold;">⚠️ IMPORTANT REMINDERS:</p>
                  <ul style="margin: 0; padding-left: 20px; color: #991b1b;">
                    <li>This invitation expires in 48 hours</li>
                    <li>First contractor to accept gets the job</li>
                    <li>Respond quickly to secure this opportunity</li>
                  </ul>
                </div>
                <p style="margin: 0; text-align: center;"><strong>📞 Questions?</strong> Contact support at support@disastershield.com</p>
              </div>
            </div>
          </div>
        </body>
      </html>
    `,s=`
${r}

Hello ${t.contractorName},

⏰ TIME SENSITIVE: First contractor to respond gets the job!

A new insurance claim has been filed in your service area:

📍 Location: ${t.projectDetails.address}, ${t.projectDetails.city}, ${t.projectDetails.state}
⚡ Damage Type: ${t.projectDetails.peril.charAt(0).toUpperCase()+t.projectDetails.peril.slice(1)} damage
📅 Preferred Inspection: ${new Date(t.projectDetails.preferredDate).toLocaleDateString()} (${t.projectDetails.preferredWindow})
📞 Contact: ${t.projectDetails.contactName} - ${t.projectDetails.contactPhone}

📝 Description: ${t.projectDetails.description}

${t.reasons.length>0?`
🎯 Why you were selected:
${t.reasons.map(i=>`• ${i}`).join(`
`)}
`:""}

✅ To accept this job: ${t.acceptUrl}
❌ To decline: ${t.declineUrl}

⚠️ IMPORTANT:
• This invitation expires in 48 hours
• First contractor to accept gets the job
• Respond quickly to secure this opportunity

📞 Questions? Contact support at support@disastershield.com

Best regards,
DisasterShield Team
    `.trim();return{subject:r,html:n,text:s}}generateJobFilledEmail(t,r){const n=`Job Filled - ${r}`,s=`
      <!DOCTYPE html>
      <html>
        <body style="font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 0; background-color: #f3f4f6;">
          <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; padding: 30px;">
            <div style="text-align: center; margin-bottom: 30px;">
              <h1 style="color: #374151; margin: 0;">DisasterShield</h1>
            </div>
            <h2 style="color: #374151;">Job Update</h2>
            <p>Hello ${t},</p>
            <p>The job opportunity in ${r} has been filled by another contractor who responded faster.</p>
            <div style="background-color: #ecfdf5; border: 1px solid #d1fae5; border-radius: 6px; padding: 15px; margin: 20px 0;">
              <p style="margin: 0; color: #065f46;">💡 <strong>Don't worry!</strong> More opportunities are coming your way. Keep an eye on your inbox for new job alerts.</p>
            </div>
            <p>Best regards,<br>DisasterShield Team</p>
          </div>
        </body>
      </html>
    `,i=`
${n}

Hello ${t},

The job opportunity in ${r} has been filled by another contractor who responded faster.

💡 Don't worry! More opportunities are coming your way. Keep an eye on your inbox for new job alerts.

Best regards,
DisasterShield Team
    `;return{subject:n,html:s,text:i}}generateJobAcceptedEmail(t){var i,o;const r=`🎉 Contractor Assigned - ${t.companyName}`,n=`
      <!DOCTYPE html>
      <html>
        <body style="font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 0; background-color: #f3f4f6;">
          <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <div style="background: linear-gradient(135deg, #059669 0%, #10b981 100%); color: white; padding: 30px; text-align: center;">
              <h1 style="margin: 0; font-size: 24px; font-weight: bold;">🎉 Great News!</h1>
              <p style="margin: 8px 0 0 0; opacity: 0.9;">Your contractor has been assigned</p>
            </div>
            
            <div style="padding: 30px;">
              <p style="font-size: 16px; color: #374151; margin: 0 0 20px 0;">
                Hello ${t.homeownerName},
              </p>
              
              <p style="color: #6b7280; margin-bottom: 25px;">
                Excellent news! We've successfully assigned a qualified contractor to your ${t.projectDetails.peril} damage claim.
              </p>
              
              <div style="background-color: #ecfdf5; border: 1px solid #d1fae5; border-radius: 6px; padding: 20px; margin-bottom: 25px;">
                <h3 style="margin: 0 0 15px 0; color: #065f46; font-size: 18px;">👷 Your Assigned Contractor</h3>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">Company:</strong>
                  <span style="color: #6b7280; margin-left: 8px;">${t.companyName}</span>
                </div>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">Contact Person:</strong>
                  <span style="color: #6b7280; margin-left: 8px;">${t.contractorName}</span>
                </div>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">Property:</strong>
                  <span style="color: #6b7280; margin-left: 8px;">${t.projectDetails.address}, ${t.projectDetails.city}, ${t.projectDetails.state}</span>
                </div>
              </div>
              
              <div style="background-color: #fef3c7; border: 1px solid #f59e0b; border-radius: 6px; padding: 15px; margin-bottom: 25px;">
                <h4 style="margin: 0 0 10px 0; color: #92400e;">📞 What happens next?</h4>
                <ul style="margin: 0; padding-left: 20px; color: #92400e;">
                  <li>Your contractor will contact you within 24 hours</li>
                  <li>They'll schedule an inspection at your preferred time</li>
                  <li>You can reach them directly at the number provided</li>
                </ul>
              </div>
              
              <div style="text-align: center; margin: 30px 0;">
                <p style="color: #6b7280; margin-bottom: 15px;">Track your claim progress:</p>
                <!-- Use a fallback approach for project ID that won't cause TypeScript errors -->
                <a href="${yf.NEXT_PUBLIC_APP_URL||Tr.APP_URL||"https://disaster-shield-v2.vercel.app"}/portal/projects/${((i=t.projectDetails)==null?void 0:i.id)||((o=t.projectDetails)==null?void 0:o.projectId)||""}" style="display: inline-block; background-color: #3b82f6; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; font-weight: bold;">
                  View Project Portal
                </a>
              </div>
              
              <div style="border-top: 1px solid #e5e7eb; padding-top: 20px; margin-top: 30px; color: #6b7280; font-size: 14px; text-align: center;">
                <p style="margin: 0;"><strong>📞 Questions?</strong> Contact support at support@disastershield.com</p>
              </div>
            </div>
          </div>
        </body>
      </html>
    `,s=`
${r}

Hello ${t.homeownerName},

Excellent news! We've successfully assigned a qualified contractor to your ${t.projectDetails.peril} damage claim.

👷 Your Assigned Contractor:
Company: ${t.companyName}
Contact Person: ${t.contractorName}
Property: ${t.projectDetails.address}, ${t.projectDetails.city}, ${t.projectDetails.state}

📞 What happens next?
• Your contractor will contact you within 24 hours
• They'll schedule an inspection at your preferred time
• You can reach them directly at the number provided

📞 Questions? Contact support at support@disastershield.com

Best regards,
DisasterShield Team
    `;return{subject:r,html:n,text:s}}generatePaymentCompletedEmail(t){const r="💰 Payment Completed - Ready to Begin Work!",n=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>${r}</title>
        </head>
        <body style="font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 0; background-color: #f3f4f6;">
          <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <div style="background: linear-gradient(135deg, #059669 0%, #10b981 100%); color: white; padding: 30px; text-align: center;">
              <h1 style="margin: 0; font-size: 24px; font-weight: bold;">💰 PAYMENT COMPLETED!</h1>
              <p style="margin: 8px 0 0 0; opacity: 0.9; font-size: 16px;">You can now begin work on this project</p>
            </div>
            
            <div style="padding: 30px;">
              <p style="font-size: 16px; color: #374151; margin: 0 0 20px 0;">
                Hello ${t.contractorName},
              </p>
              
              <div style="background-color: #ecfdf5; border: 1px solid #d1fae5; border-radius: 6px; padding: 20px; margin-bottom: 25px;">
                <h3 style="margin: 0 0 15px 0; color: #065f46; font-size: 18px;">🎉 Great News!</h3>
                <p style="margin: 0; color: #047857;">
                  The client has completed all required payments for your project. 
                  <strong>You can now begin work immediately!</strong>
                </p>
              </div>
              
              <div style="background-color: #f9fafb; border-left: 4px solid #3b82f6; padding: 20px; margin-bottom: 25px;">
                <h3 style="margin: 0 0 15px 0; color: #1f2937; font-size: 18px;">📋 Project Details</h3>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">📍 Location:</strong>
                  <span style="color: #6b7280; margin-left: 8px;">${t.projectDetails.address}, ${t.projectDetails.city}, ${t.projectDetails.state}</span>
                </div>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">⚡ Damage Type:</strong>
                  <span style="color: #6b7280; margin-left: 8px;">${t.projectDetails.peril.charAt(0).toUpperCase()+t.projectDetails.peril.slice(1)} damage</span>
                </div>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">💰 Total Payment:</strong>
                  <span style="color: #059669; margin-left: 8px; font-weight: bold;">$${(t.totalAmount/100).toFixed(2)}</span>
                </div>
                
                <div style="margin-bottom: 12px;">
                  <strong style="color: #374151;">📞 Client Contact:</strong>
                  <span style="color: #6b7280; margin-left: 8px;">${t.projectDetails.contactName} - ${t.projectDetails.contactPhone}</span>
                </div>
              </div>

              <div style="background-color: #fef3c7; border: 1px solid #f59e0b; border-radius: 6px; padding: 15px; margin-bottom: 25px;">
                <h4 style="margin: 0 0 10px 0; color: #92400e;">📞 Next Steps:</h4>
                <ul style="margin: 0; padding-left: 20px; color: #92400e;">
                  <li>Contact the client within 24 hours to schedule the inspection</li>
                  <li>Begin work according to your estimate timeline</li>
                  <li>Keep the client updated on progress</li>
                  <li>Submit completion photos when work is finished</li>
                </ul>
              </div>
              
              <div style="text-align: center; margin: 30px 0;">
                <p style="color: #6b7280; margin-bottom: 15px;">Access your contractor dashboard:</p>
                <a href="${yf.NEXT_PUBLIC_APP_URL||Tr.APP_URL||"https://disaster-shield-v2.vercel.app"}/contractor/dashboard" style="display: inline-block; background-color: #3b82f6; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; font-weight: bold;">
                  Go to Dashboard
                </a>
              </div>
              
              <div style="border-top: 1px solid #e5e7eb; padding-top: 20px; margin-top: 30px; color: #6b7280; font-size: 14px; text-align: center;">
                <p style="margin: 0;"><strong>📞 Questions?</strong> Contact support at support@disastershield.com</p>
              </div>
            </div>
          </div>
        </body>
      </html>
    `,s=`
${r}

Hello ${t.contractorName},

🎉 Great News! The client has completed all required payments for your project. You can now begin work immediately!

📋 Project Details:
Location: ${t.projectDetails.address}, ${t.projectDetails.city}, ${t.projectDetails.state}
Damage Type: ${t.projectDetails.peril.charAt(0).toUpperCase()+t.projectDetails.peril.slice(1)} damage
Total Payment: $${(t.totalAmount/100).toFixed(2)}
Client Contact: ${t.projectDetails.contactName} - ${t.projectDetails.contactPhone}

📞 Next Steps:
• Contact the client within 24 hours to schedule the inspection
• Begin work according to your estimate timeline
• Keep the client updated on progress
• Submit completion photos when work is finished

Access your contractor dashboard: ${yf.NEXT_PUBLIC_APP_URL||Tr.APP_URL||"https://disaster-shield-v2.vercel.app"}/contractor/dashboard

📞 Questions? Contact support at support@disastershield.com

Best regards,
DisasterShield Team
    `.trim();return{subject:r,html:n,text:s}}}const lk=new ok,f5=Object.freeze(Object.defineProperty({__proto__:null,ResendEmailService:ok,resendEmailService:lk},Symbol.toStringTag,{value:"Module"}));async function ck(e){var n,s;const t=[];let r=0;if(!O)return t.push("Database connection not configured"),{success:!1,matchedContractors:0,emailsSent:0,matchRequests:[],errors:t};try{const{data:i,error:o}=await O.from("contractors").select("*").eq("capacity","active");if(o)return t.push(`Failed to fetch contractors: ${o.message}`),{success:!1,matchedContractors:0,emailsSent:0,matchRequests:[],errors:t};if(!i||i.length===0)return t.push("No active contractors found"),{success:!1,matchedContractors:0,emailsSent:0,matchRequests:[],errors:t};const l=dM(e.project,i),c=hM(l,Math.min(3,i.length));if(c.length===0)return t.push(`No contractors matched the project criteria. Available contractors: ${i.length}, but none serve your area or handle ${e.project.peril} damage.`),{success:!1,matchedContractors:0,emailsSent:0,matchRequests:[],errors:t};const u=c.map(m=>({project_id:e.project.id,contractor_id:m.id,status:"sent"})),{data:d,error:h}=await O.from("match_requests").upsert(u,{onConflict:"project_id,contractor_id"}).select("*");if(h)if(console.error("Match request error:",h),h.message&&h.message.toLowerCase().includes("duplicate")){const{data:m,error:w}=await O.from("match_requests").select("*").eq("project_id",e.project.id);if(!w)t.push("Duplicate match requests detected; using existing records.");else return t.push(`Failed to recover match requests after duplicate error: ${w.message}`),{success:!1,matchedContractors:c.length,emailsSent:0,matchRequests:[],errors:t}}else return h.code==="42501"||(n=h.message)!=null&&n.includes("permission denied")||(s=h.message)!=null&&s.includes("policy")&&h.code==="403"?(t.push("Authorization error: Your database is missing the RLS policy to allow upserts on match_requests. Run the migration SQL file (20250902000001_fix_match_requests_upsert.sql) in your Supabase dashboard."),{success:!1,matchedContractors:c.length,emailsSent:0,matchRequests:[],errors:t}):(t.push(`Failed to create match requests: ${h.message}`),{success:!1,matchedContractors:c.length,emailsSent:0,matchRequests:[],errors:t});let p=0;for(const m of c){const w=m;p++;try{const y=hy({projectId:e.project.id,contractorId:m.id,action:"accept"}),_=hy({projectId:e.project.id,contractorId:m.id,action:"decline"}),f=`${e.baseUrl||Tr.APP_URL||"https://disaster-shield-v2.vercel.app"}/accept-job/${y}`,g=`${e.baseUrl||Tr.APP_URL||"https://disaster-shield-v2.vercel.app"}/decline-job/${_}`;await lk.sendContractorInvitation({contractorEmail:w.email,contractorName:w.contact_name||w.contactName||w.name,companyName:w.company_name||w.companyName,projectDetails:{id:e.project.id,address:e.project.address,city:e.project.city,state:e.project.state,peril:e.project.peril,description:e.project.description,preferredDate:e.project.preferred_date,preferredWindow:e.project.preferred_window,contactName:e.project.contact_name,contactPhone:e.project.contact_phone},acceptUrl:f,declineUrl:g,reasons:m.reasons||[]})?(r++,console.log(`✅ Email sent successfully to ${w.email}`)):(console.error(`❌ Failed to send email to ${w.email}`),t.push(`Note: Email not sent to ${w.email||"unknown"} - email service issue`)),p<c.length&&await new Promise(j=>setTimeout(j,2e3))}catch(y){t.push(`Note: Email error for ${(w==null?void 0:w.email)||"unknown"}: ${y}`)}}return p>0&&r===0&&(console.warn("All emails failed to send. Check if email service is configured."),t.push("All emails failed to send. The matching process succeeded, but contractors weren't notified. Configure email service or manually notify contractors.")),await O.from("projects").update({status:"matched"}).eq("id",e.project.id),{success:!0,matchedContractors:c.length,emailsSent:r,matchRequests:u,errors:t}}catch(i){return t.push(`Workflow execution failed: ${i}`),{success:!1,matchedContractors:0,emailsSent:0,matchRequests:[],errors:t}}}async function Dv(e){try{const{data:t,error:r}=await O.from("notifications").insert(e).select().single();return r?(console.error("Error creating notification:",r),null):t}catch(t){return console.error("Error creating notification:",t),null}}function p5(){var ne,ye;const e=Ze(),[t,r]=x.useState(1),[n,s]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!0),[h,p]=x.useState([]),[m,w]=x.useState(!1),[y,_]=x.useState(!1),[f,g]=x.useState(null),[v,j]=x.useState([]),[E,N]=x.useState([]),[k,S]=x.useState({blob:null,url:null}),A=async H=>{const L=H.target.files;if(!(!L||L.length===0)){w(!0);try{for(const Y of Array.from(L)){const X=Y.type.startsWith("image/")||Y.type.startsWith("video/"),te=Y.size<=10*1024*1024;if(!X){J.error(`File ${Y.name} is not a supported format`);continue}if(!te){J.error(`File ${Y.name} is too large (max 10MB)`);continue}const ie=URL.createObjectURL(Y),le=Y.type.startsWith("image/")?"photo":"video",Ae=Y.name.split(".").pop(),ct=`${Date.now()}-${Math.random().toString(36).substring(2)}.${Ae}`,Ht=`media/${i.id}/${ct}`,{error:Kt}=await O.storage.from("media").upload(Ht,Y);if(Kt){console.error("Upload error:",Kt),J.error(`Failed to upload ${Y.name}`);continue}const Nr={id:ct,file:Y,preview:ie,type:le,storagePath:Ht};N(Gt=>[...Gt,Nr]),$(Gt=>{var Sr;return{...Gt,media:{...Gt.media,uploads:[...((Sr=Gt.media)==null?void 0:Sr.uploads)||[],{storagePath:Ht,type:le,roomTag:"",caption:""}]}}})}}catch(Y){console.error("File upload error:",Y),J.error("Failed to upload files")}finally{w(!1)}}},b=H=>{N(L=>{const Y=L.find(X=>X.id===H);return Y?(URL.revokeObjectURL(Y.preview),Y.storagePath&&O.storage.from("media").remove([Y.storagePath]),$(X=>{var te,ie;return{...X,media:{...X.media,uploads:((ie=(te=X.media)==null?void 0:te.uploads)==null?void 0:ie.filter(le=>le.storagePath!==Y.storagePath))||[]}}}),L.filter(X=>X.id!==H)):L})},R=async()=>{try{const H=await navigator.mediaDevices.getUserMedia({audio:!0}),L=new MediaRecorder(H),Y=[];L.ondataavailable=X=>{Y.push(X.data)},L.onstop=()=>{const X=new Blob(Y,{type:"audio/wav"}),te=URL.createObjectURL(X);S({blob:X,url:te}),H.getTracks().forEach(ie=>ie.stop())},L.start(),g(L),_(!0),j(Y)}catch(H){console.error("Error starting recording:",H),J.error("Failed to start recording. Please check microphone permissions.")}},T=()=>{f&&y&&(f.stop(),_(!1),g(null))},U=()=>{k.url&&URL.revokeObjectURL(k.url),S({blob:null,url:null})},M=async()=>{if(!(!k.blob||!i))try{w(!0);const H=`voice-note-${Date.now()}.wav`,L=`media/${i.id}/${H}`,{error:Y}=await O.storage.from("media").upload(L,k.blob);if(Y){console.error("Voice note upload error:",Y),J.error("Failed to upload voice note");return}S(X=>({...X,storagePath:L})),J.success("Voice note uploaded successfully")}catch(H){console.error("Voice note upload error:",H),J.error("Failed to upload voice note")}finally{w(!1)}},[I,$]=x.useState({contact:{fullName:"",phone:"",email:""},address:{street:"",unit:"",city:"",state:"",zip:""},incident:{peril:"water",incidentAt:"",description:""},media:{uploads:[]},insurance:{willFile:"yes",carrierName:"",customCarrierName:"",policyNumber:""},schedule:{preferredDateISO:"",preferredWindow:"8-10"},consents:{shareAndContactOk:!1,termsAccepted:!1}}),D=4;x.useEffect(()=>{(async()=>{var Y,X,te,ie;const{data:{user:L}}=await O.auth.getUser();if(o(L),!L){e("/auth/login");return}try{const{data:le}=await O.from("profiles").select("role").eq("id",L.id).maybeSingle();c(le);const{data:Ae}=await O.from("insurance_companies").select("id, name, is_active").eq("is_active",!0).order("name");if(p(Ae||[]),(le==null?void 0:le.role)==="contractor"||((Y=L.user_metadata)==null?void 0:Y.role)==="contractor"){e("/contractor/dashboard");return}if((le==null?void 0:le.role)==="admin"||((X=L.user_metadata)==null?void 0:X.role)==="admin"){e("/admin");return}}catch(le){if(console.error("Error fetching profile:",le),((te=L.user_metadata)==null?void 0:te.role)==="contractor"){e("/contractor/dashboard");return}if(((ie=L.user_metadata)==null?void 0:ie.role)==="admin"){e("/admin");return}}d(!1)})()},[e]);const C=H=>{const L=H.replace(/\D/g,"");return L.length===10?`+1${L}`:L.length===11&&L.startsWith("1")?`+${L}`:H.startsWith("+")?H:`+${L}`},P=()=>{t<D&&r(t+1)},B=()=>{t>1&&r(t-1)},ee=async()=>{s(!0);try{const H=lM.parse(I);if(!i){J.error("You must be logged in to submit a claim"),e("/auth/login");return}const L=C(H.contact.phone),{data:Y,error:X}=await O.from("projects").insert({user_id:i.id,contact_name:H.contact.fullName,contact_phone:L,contact_email:H.contact.email,address:H.address.street+(H.address.unit?` ${H.address.unit}`:""),city:H.address.city,state:H.address.state,zip:H.address.zip,peril:H.incident.peril,incident_at:H.incident.incidentAt,description:H.incident.description,carrier_name:H.insurance.carrierName==="Other"?H.insurance.customCarrierName||null:H.insurance.carrierName||null,policy_number:H.insurance.policyNumber||null,preferred_date:H.schedule.preferredDateISO,preferred_window:H.schedule.preferredWindow,metadata:{will_file_insurance:H.insurance.willFile,share_contact_ok:H.consents.shareAndContactOk,terms_accepted:H.consents.termsAccepted,unit:H.address.unit||null}}).select().single();if(X)throw new Error(`Failed to create project: ${X.message}`);if(await Z(Y,H,i),H.media.uploads&&H.media.uploads.length>0){const te=H.media.uploads.map(le=>{const Ae=E.find(ct=>ct.storagePath===le.storagePath);return{project_id:Y.id,user_id:i.id,filename:le.storagePath.split("/").pop()||"unknown",storage_path:le.storagePath,type:le.type,file_size:(Ae==null?void 0:Ae.file.size)||0,mime_type:(Ae==null?void 0:Ae.file.type)||"application/octet-stream",room_tag:le.roomTag||null,caption:le.caption||null}}),{error:ie}=await O.from("media").insert(te);ie&&console.error("Failed to save media:",ie)}if(k.blob){let te=k.storagePath;if(!k.storagePath){console.log("Auto-uploading voice note during form submission...");const ie=`voice-note-${Date.now()}.wav`,le=`media/${i.id}/${ie}`,{error:Ae}=await O.storage.from("media").upload(le,k.blob);Ae?(console.error("Failed to upload voice note during submission:",Ae),J.error("Voice note could not be saved")):(te=le,console.log("Voice note uploaded successfully during submission"))}if(te){const{error:ie}=await O.from("media").insert({project_id:Y.id,user_id:i.id,filename:te.split("/").pop()||"voice-note.wav",storage_path:te,type:"audio",file_size:k.blob.size,mime_type:k.blob.type||"audio/wav",room_tag:null,caption:"Voice note recording"});ie?console.error("Failed to save voice note to database:",ie):console.log("Voice note saved to database successfully")}}J.success("Claim submitted successfully!"),e(`/matching/${Y.id}`)}catch(H){if(H instanceof bn){H.errors.forEach(Y=>{const X=Y.path.join(".");let te=1;X.startsWith("contact")?te=1:X.startsWith("address")?te=2:X.startsWith("incident")?te=3:X.startsWith("media")?te=4:X.startsWith("insurance")?te=5:(X.startsWith("schedule")||X.startsWith("consents"))&&(te=6),J.error(`Step ${te}: ${Y.message}`)});const L=H.errors.reduce((Y,X)=>{const te=X.path.join(".");let ie=1;return te.startsWith("contact")?ie=1:te.startsWith("address")?ie=2:te.startsWith("incident")?ie=3:te.startsWith("media")?ie=4:te.startsWith("insurance")?ie=5:(te.startsWith("schedule")||te.startsWith("consents"))&&(ie=6),Math.min(Y,ie)},6);r(L)}else console.error("Submission error:",H),J.error("Failed to submit claim. Please try again.")}finally{s(!1)}},Z=async(H,L,Y)=>{try{console.log("Starting contractor matching workflow...");const X=await ck({project:{id:H.id,city:L.address.city,state:L.address.state,zip:L.address.zip,peril:L.incident.peril,incident_at:L.incident.incidentAt,preferred_date:L.schedule.preferredDateISO,preferred_window:L.schedule.preferredWindow,address:L.address.street+(L.address.unit?` ${L.address.unit}`:""),description:L.incident.description,contact_name:L.contact.fullName,contact_phone:C(L.contact.phone),contact_email:L.contact.email},baseUrl:window.location.origin});X.success?(console.log(`Contractor matching successful: ${X.matchedContractors} contractors matched, ${X.emailsSent} emails sent`),Y&&X.matchedContractors>0&&await Dv({user_id:Y.id,type:"contractor_matched",title:"🤝 Contractors Found!",message:`We've found ${X.matchedContractors} qualified contractors for your ${L.incident.peril} damage claim. They'll be contacting you soon.`,data:{projectId:H.id,contractorCount:X.matchedContractors}})):(console.log("Contractor matching failed:",X.errors),Y&&await Dv({user_id:Y.id,type:"project_updated",title:"📋 Claim Submitted Successfully",message:`Your ${L.incident.peril} damage claim has been submitted. We're actively searching for qualified contractors in your area.`,data:{projectId:H.id}}))}catch(X){console.error("Error in contractor matching workflow:",X)}};if(u)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Verifying access..."})]})});const he=()=>{var H,L,Y,X,te,ie,le,Ae,ct,Ht,Kt,Nr,Gt,Sr,Yi,Gn,Ji,an,Ml,Ll,At,Nn,Fl,Ul,qs,zl,Xi,Aa,Sn,Zi;switch(t){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(ot,{className:"h-5 w-5"}),"Contact Information"]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),a.jsx(pe,{value:((H=I.contact)==null?void 0:H.fullName)||"",onChange:ae=>$({...I,contact:{...I.contact,fullName:ae.target.value}}),placeholder:"Enter your full name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),a.jsx(pe,{value:((L=I.contact)==null?void 0:L.phone)||"",onChange:ae=>$({...I,contact:{...I.contact,phone:ae.target.value}}),placeholder:"(555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address *"}),a.jsx(pe,{type:"email",value:((Y=I.contact)==null?void 0:Y.email)||"",onChange:ae=>$({...I,contact:{...I.contact,email:ae.target.value}}),placeholder:"your@email.com"})]})]})]}),a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(zs,{className:"h-5 w-5"}),"Property Address"]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Street Address *"}),a.jsx(pe,{value:((X=I.address)==null?void 0:X.street)||"",onChange:ae=>$({...I,address:{...I.address,street:ae.target.value}}),placeholder:"123 Main Street"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Unit/Apt (Optional)"}),a.jsx(pe,{value:((te=I.address)==null?void 0:te.unit)||"",onChange:ae=>$({...I,address:{...I.address,unit:ae.target.value}}),placeholder:"Apt 2B, Unit 5, etc."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"City *"}),a.jsx(pe,{value:((ie=I.address)==null?void 0:ie.city)||"",onChange:ae=>$({...I,address:{...I.address,city:ae.target.value}}),placeholder:"Tampa"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"State *"}),a.jsx(pe,{value:((le=I.address)==null?void 0:le.state)||"",onChange:ae=>$({...I,address:{...I.address,state:ae.target.value.toUpperCase()}}),placeholder:"FL",maxLength:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code *"}),a.jsx(pe,{value:((Ae=I.address)==null?void 0:Ae.zip)||"",onChange:ae=>$({...I,address:{...I.address,zip:ae.target.value}}),maxLength:5})]})]})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(wj,{className:"h-5 w-5"}),"Incident Details"]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Type of Damage *"}),a.jsxs(tr,{value:(ct=I.incident)==null?void 0:ct.peril,onValueChange:ae=>$({...I,incident:{...I.incident,peril:ae}}),children:[a.jsx(Mt,{children:a.jsx(rr,{})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"water",children:"Water Damage"}),a.jsx(_e,{value:"flood",children:"Flood"}),a.jsx(_e,{value:"wind",children:"Wind/Storm"}),a.jsx(_e,{value:"fire",children:"Fire"}),a.jsx(_e,{value:"mold",children:"Mold"}),a.jsx(_e,{value:"other",children:"Other"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"When did this occur? *"}),a.jsx(pe,{type:"date",value:((Ht=I.incident)==null?void 0:Ht.incidentAt)||"",onChange:ae=>$({...I,incident:{...I.incident,incidentAt:ae.target.value}}),max:new Date().toISOString().split("T")[0]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Areas Affected (Optional)"}),a.jsx(pe,{value:((Kt=I.incident)==null?void 0:Kt.areas)||"",onChange:ae=>$({...I,incident:{...I.incident,areas:ae.target.value}}),placeholder:"Kitchen, living room, basement, etc."})]}),(((Nr=I.incident)==null?void 0:Nr.peril)==="water"||((Gt=I.incident)==null?void 0:Gt.peril)==="flood")&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Water Category"}),a.jsxs(tr,{value:(Sr=I.incident)==null?void 0:Sr.waterCategory,onValueChange:ae=>$({...I,incident:{...I.incident,waterCategory:ae}}),children:[a.jsx(Mt,{children:a.jsx(rr,{placeholder:"Select category"})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"1",children:"Category 1 - Clean water"}),a.jsx(_e,{value:"2",children:"Category 2 - Gray water"}),a.jsx(_e,{value:"3",children:"Category 3 - Black water"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Power Status"}),a.jsxs(tr,{value:(Yi=I.incident)!=null&&Yi.powerOn?"on":"off",onValueChange:ae=>$({...I,incident:{...I.incident,powerOn:ae==="on"}}),children:[a.jsx(Mt,{children:a.jsx(rr,{placeholder:"Select power status"})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"on",children:"Power is ON"}),a.jsx(_e,{value:"off",children:"Power is OFF"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Square Footage Impacted (Optional)"}),a.jsx(pe,{type:"number",value:((Gn=I.incident)==null?void 0:Gn.sqftImpacted)||"",onChange:ae=>$({...I,incident:{...I.incident,sqftImpacted:parseInt(ae.target.value)||void 0}}),placeholder:"Estimated square feet affected",min:"1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Describe the damage *"}),a.jsx(Cr,{value:((Ji=I.incident)==null?void 0:Ji.description)||"",onChange:ae=>$({...I,incident:{...I.incident,description:ae.target.value}}),placeholder:"Please describe what happened and the extent of the damage...",rows:4}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[((Ml=(an=I.incident)==null?void 0:an.description)==null?void 0:Ml.length)||0,"/500 characters (minimum 20 required)"]})]})]})]}),a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(jp,{className:"h-5 w-5"}),"Photo & Video Documentation"]})}),a.jsxs(V,{children:[a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx(jp,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Upload photos and videos of the damage (at least 1 required)"}),a.jsx("input",{type:"file",id:"media-upload",multiple:!0,accept:"image/*,video/*",onChange:A,className:"hidden",disabled:m}),a.jsx("label",{htmlFor:"media-upload",children:a.jsx(F,{variant:"outline",asChild:!0,disabled:m,children:a.jsx("span",{children:m?"Uploading...":"Choose Files"})})}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Supported formats: JPG, PNG, MP4, MOV (Max 10MB each)"})]}),E.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsxs("h4",{className:"font-medium mb-3",children:["Uploaded Files (",E.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:E.map(ae=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:ae.type==="photo"?a.jsx("img",{src:ae.preview,alt:"Uploaded file",className:"w-full h-full object-cover"}):a.jsx("video",{src:ae.preview,className:"w-full h-full object-cover",controls:!0})}),a.jsx(F,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>b(ae.id),children:a.jsx(Ni,{className:"h-4 w-4"})})]},ae.id))})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Voice Note (Optional)"}),a.jsx("div",{className:"border border-gray-300 rounded-lg p-4",children:k.url?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(a0,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Voice Note Recorded"}),a.jsx("audio",{src:k.url,controls:!0,className:"mt-1"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[!k.storagePath&&a.jsx(F,{variant:"outline",size:"sm",onClick:M,disabled:m,children:m?"Uploading...":"Upload Now"}),k.storagePath&&a.jsx("div",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded",children:"✓ Uploaded"}),a.jsx(F,{variant:"outline",size:"sm",onClick:U,children:a.jsx(Ni,{className:"h-4 w-4"})})]})]}):a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-500 text-sm mb-3",children:"Record a voice note to provide additional details"}),a.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Voice notes will be automatically saved when you submit the form"}),a.jsx(F,{variant:"outline",size:"sm",onClick:y?T:R,disabled:m,children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse mr-2"}),"Stop Recording"]}):a.jsxs(a.Fragment,{children:[a.jsx(a0,{className:"h-4 w-4 mr-2"}),"Record Voice Note"]})})]})})]})]})]})]});case 3:return a.jsx("div",{className:"space-y-6",children:a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(pg,{className:"h-5 w-5"}),"Insurance Information"]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Will you file an insurance claim? *"}),a.jsxs(tr,{value:(Ll=I.insurance)==null?void 0:Ll.willFile,onValueChange:ae=>$({...I,insurance:{...I.insurance,willFile:ae}}),children:[a.jsx(Mt,{children:a.jsx(rr,{})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"yes",children:"Yes"}),a.jsx(_e,{value:"no",children:"No"}),a.jsx(_e,{value:"unsure",children:"Not sure yet"})]})]})]}),((At=I.insurance)==null?void 0:At.willFile)==="yes"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Insurance Carrier"}),a.jsxs(tr,{value:((Nn=I.insurance)==null?void 0:Nn.carrierName)||"",onValueChange:ae=>$({...I,insurance:{...I.insurance,carrierName:ae}}),children:[a.jsx(Mt,{children:a.jsx(rr,{placeholder:"Select your insurance company"})}),a.jsxs(Lt,{children:[h.map(ae=>a.jsx(_e,{value:ae.name,children:ae.name},ae.id)),a.jsx(_e,{value:"Other",children:"Other (specify below)"})]})]}),((Fl=I.insurance)==null?void 0:Fl.carrierName)==="Other"&&a.jsx(pe,{className:"mt-2",placeholder:"Enter your insurance company name",onChange:ae=>$({...I,insurance:{...I.insurance,customCarrierName:ae.target.value}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Policy Number"}),a.jsx(pe,{value:((Ul=I.insurance)==null?void 0:Ul.policyNumber)||"",onChange:ae=>$({...I,insurance:{...I.insurance,policyNumber:ae.target.value}}),placeholder:"Policy number (optional)"})]})]}),((qs=I.insurance)==null?void 0:qs.willFile)==="yes"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Deductible Amount (Optional)"}),a.jsx(pe,{type:"number",value:(zl=I.insurance)!=null&&zl.deductibleCents?I.insurance.deductibleCents/100:"",onChange:ae=>$({...I,insurance:{...I.insurance,deductibleCents:ae.target.value?parseInt(ae.target.value)*100:void 0}}),placeholder:"1000",min:"0"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter amount in dollars (e.g., 1000 for $1,000)"})]})]})]})});case 4:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Pl,{className:"h-5 w-5"}),"Schedule Inspection"]})}),a.jsx(V,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Date *"}),a.jsx(pe,{type:"date",value:((Xi=I.schedule)==null?void 0:Xi.preferredDateISO)||"",onChange:ae=>$({...I,schedule:{...I.schedule,preferredDateISO:ae.target.value}}),min:new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Time Window *"}),a.jsxs(tr,{value:(Aa=I.schedule)==null?void 0:Aa.preferredWindow,onValueChange:ae=>$({...I,schedule:{...I.schedule,preferredWindow:ae}}),children:[a.jsx(Mt,{children:a.jsx(rr,{})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"8-10",children:"8:00 AM - 10:00 AM"}),a.jsx(_e,{value:"10-12",children:"10:00 AM - 12:00 PM"}),a.jsx(_e,{value:"12-2",children:"12:00 PM - 2:00 PM"}),a.jsx(_e,{value:"2-4",children:"2:00 PM - 4:00 PM"}),a.jsx(_e,{value:"4-6",children:"4:00 PM - 6:00 PM"})]})]})]})]})})]}),a.jsxs(W,{children:[a.jsx(ge,{children:a.jsx(xe,{children:"Final Agreements"})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(nr,{id:"shareConsent",checked:((Sn=I.consents)==null?void 0:Sn.shareAndContactOk)||!1,onCheckedChange:ae=>$({...I,consents:{...I.consents,shareAndContactOk:!!ae}})}),a.jsx("label",{htmlFor:"shareConsent",className:"text-sm leading-relaxed",children:"I consent to sharing my information with qualified contractors and receiving contact from them regarding my claim."})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(nr,{id:"termsConsent",checked:((Zi=I.consents)==null?void 0:Zi.termsAccepted)||!1,onCheckedChange:ae=>$({...I,consents:{...I.consents,termsAccepted:!!ae}})}),a.jsxs("label",{htmlFor:"termsConsent",className:"text-sm leading-relaxed",children:["I accept the ",a.jsx(z,{to:"/terms",className:"text-blue-600 hover:underline",children:"Terms of Service"})," and ",a.jsx(z,{to:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})]})]})]})]});default:return null}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{to:"/client/dashboard",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]}),a.jsxs(z,{to:"/",className:"flex items-center space-x-2",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DisasterShield"})]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Step ",t," of ",D]})]})})}),a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(t/D*100),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${t/D*100}%`}})})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"File Your Insurance Claim"}),a.jsx("p",{className:"text-gray-600",children:"Complete this form to get matched with qualified contractors in your area"})]}),he(),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsx(F,{variant:"outline",onClick:B,disabled:t===1,children:"Previous"}),t<D?a.jsx(F,{onClick:P,children:"Next"}):a.jsxs(F,{onClick:ee,className:"bg-green-600 hover:bg-green-700",disabled:!((ne=I.consents)!=null&&ne.shareAndContactOk)||!((ye=I.consents)!=null&&ye.termsAccepted)||n,children:[a.jsx(tt,{className:"mr-2 h-4 w-4"}),n?"Submitting...":"Submit Claim"]})]})]})]})}function m5(){Ze();const[e]=Fi(),t=e.get("role")||"homeowner",[r,n]=x.useState({email:"",password:"",confirmPassword:"",fullName:"",phone:"",role:t}),[s,i]=x.useState(!1),[o,l]=x.useState(""),[c,u]=x.useState({}),[d,h]=x.useState(!1),[p,m]=x.useState(""),w=_=>{const f=_.replace(/\D/g,"");return f.length===10?`+1${f}`:f.length===11&&f.startsWith("1")?`+${f}`:_.startsWith("+")?_:f},y=async _=>{var f,g,v,j,E,N,k,S,A;_.preventDefault(),i(!0),l(""),u({});try{const b=uM.parse(r);console.log("Checking if email exists:",b.email);const{data:R,error:T}=await O.from("profiles").select("email").eq("email",b.email).maybeSingle();if(console.log("Email check result:",{existingProfile:R,checkError:T}),R){l("An account with this email address already exists. Please sign in instead."),i(!1);return}console.log("Attempting signup with email:",b.email);const{data:U,error:M}=await O.auth.signUp({email:b.email,password:b.password,options:{data:{full_name:b.fullName,phone:b.phone,role:b.role},emailRedirectTo:`${window.location.origin}/auth/login`}});if(console.log("Supabase signup result:",{authData:U,authError:M}),M)throw console.log("Supabase auth error:",M),M;if(U.user)console.log("User created successfully, showing email confirmation"),m(b.email),h(!0);else throw new Error("No user data returned from signup")}catch(b){if(console.log("Signup error caught:",b),b.errors){const R={};b.errors.forEach(T=>{T.path&&(R[T.path.join(".")]=T.message)}),u(R),l("Please fix the errors below")}else(f=b.message)!=null&&f.includes("already registered")||(g=b.message)!=null&&g.includes("already been registered")||(v=b.message)!=null&&v.includes("User already registered")||(j=b.message)!=null&&j.includes("already exists")||b.code==="user_already_exists"||(E=b.message)!=null&&E.includes("User already registered")||(N=b.message)!=null&&N.includes("already been registered")||(k=b.message)!=null&&k.includes("already exists")||b.code==="user_already_exists"||(S=b.message)!=null&&S.includes("duplicate key value")||(A=b.message)!=null&&A.includes("violates unique constraint")?l("An account with this email address already exists. Please sign in instead."):l(b.message||"Failed to create account. Please try again.")}finally{i(!1)}};return d?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{}),a.jsxs(z,{to:"/",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),a.jsx("div",{})]}),a.jsx("div",{className:"text-center",children:a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})})]}),a.jsx(W,{className:"shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(tt,{className:"h-8 w-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Account Created Successfully!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created for:"}),a.jsx("p",{className:"text-lg font-semibold text-blue-600 mb-6",children:p}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Verify your email address to complete your account setup."}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(z,{to:"/auth/login",children:a.jsxs(F,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[a.jsx(tt,{className:"mr-2 h-4 w-4"}),"Sign In Now"]})}),a.jsx(z,{to:"/",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return Home"})})]})]})})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs(z,{to:"/",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Back"})]})}),a.jsx("div",{className:"text-center",children:a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Join our platform to get started"})]}),a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[r.role==="contractor"?a.jsx(jj,{className:"h-5 w-5"}):a.jsx(wd,{className:"h-5 w-5"}),"Sign Up as ",r.role==="contractor"?"Contractor":"Homeowner"]})}),a.jsxs(V,{children:[a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:o}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),a.jsxs(tr,{value:r.role,onValueChange:_=>n({...r,role:_}),children:[a.jsx(Mt,{children:a.jsx(rr,{})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"homeowner",children:"Homeowner"}),a.jsx(_e,{value:"business_owner",children:"Business Owner"}),a.jsx(_e,{value:"contractor",children:"Contractor"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a.jsx(pe,{type:"text",required:!0,value:r.fullName,onChange:_=>n({...r,fullName:_.target.value}),placeholder:"Enter your full name"}),c.fullName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.fullName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx(pe,{type:"email",required:!0,value:r.email,onChange:_=>n({...r,email:_.target.value}),placeholder:"Enter your email"}),c.email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx(pe,{type:"tel",value:r.phone,onChange:_=>n({...r,phone:w(_.target.value)}),placeholder:"+12345678900"}),c.phone&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.phone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsx(pe,{type:"password",required:!0,value:r.password,onChange:_=>n({...r,password:_.target.value}),placeholder:"Create a password"}),c.password&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.password})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),a.jsx(pe,{type:"password",required:!0,value:r.confirmPassword,onChange:_=>n({...r,confirmPassword:_.target.value}),placeholder:"Confirm your password"}),c.confirmPassword&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.confirmPassword})]}),a.jsx(F,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:s,children:s?"Creating Account...":"Create Account"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",a.jsx(z,{to:"/auth/login",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign in"})]})})]})]})]})})}function vf(){const e=Ze(),[t,r]=x.useState({email:"",password:""}),[n,s]=x.useState(!1),[i,o]=x.useState(""),l=async c=>{var u,d,h,p,m;c.preventDefault(),o(""),s(!0);try{const{data:w,error:y}=await O.auth.signInWithPassword({email:t.email,password:t.password});if(y)throw y;if(w.user){let _="homeowner";try{const{data:f}=await O.from("profiles").select("role").eq("id",w.user.id).maybeSingle();f?_=f.role:_=((u=w.user.user_metadata)==null?void 0:u.role)||"homeowner"}catch{console.log("Error fetching profile role, using metadata fallback"),_=((d=w.user.user_metadata)==null?void 0:d.role)||"homeowner"}e(_==="admin"?"/admin":_==="contractor"?"/contractor/dashboard":"/client/dashboard")}}catch(w){(h=w.message)!=null&&h.includes("Email not confirmed")||w.code==="email_not_confirmed"||(p=w.message)!=null&&p.includes("email_not_confirmed")||(m=w.message)!=null&&m.includes("confirm your email")?o("Please check your email and click the confirmation link to verify your account before signing in."):o(w.message||"Failed to sign in")}finally{s(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs(z,{to:"/",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Back"})]})}),a.jsx("div",{className:"text-center",children:a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to your account"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Welcome back"})]}),a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsx(xe,{children:"Sign In"})}),a.jsxs(V,{children:[a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx(pe,{type:"email",required:!0,value:t.email,onChange:c=>r({...t,email:c.target.value}),placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsx(pe,{type:"password",required:!0,value:t.password,onChange:c=>r({...t,password:c.target.value}),placeholder:"Enter your password"})]}),a.jsx(F,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:n,children:n?"Signing In...":"Sign In"})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(z,{to:"/auth/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot your password?"})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx(z,{to:"/auth/signup",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign up"})]})})]})]})]})})}function g5(){const[e,t]=x.useState(""),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,l]=x.useState(!1),c=async u=>{u.preventDefault(),i(""),n(!0);try{const{error:d}=await O.auth.resetPasswordForEmail(e,{redirectTo:`${Tr.APP_URL||window.location.origin}/auth/reset-password`});if(d)throw d;l(!0)}catch(d){i(d.message||"Failed to send reset email")}finally{n(!1)}};return o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("div",{}),a.jsxs(z,{to:"/auth/login",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Back to Sign In"})]}),a.jsx("div",{})]}),a.jsx("div",{className:"text-center",children:a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})})]}),a.jsx(W,{className:"shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Ea,{className:"h-8 w-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a password reset link to:"}),a.jsx("p",{className:"text-lg font-semibold text-blue-600 mb-6",children:e}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Click the link in your email to reset your password. The link will expire in 1 hour."}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(z,{to:"/auth/login",children:a.jsxs(F,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[a.jsx(ol,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Didn't receive the email?"}),a.jsx(F,{variant:"outline",size:"sm",onClick:()=>l(!1),children:"Try Again"})]})]})]})})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your email to receive a reset link"})]}),a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsx(xe,{children:"Forgot Password"})}),a.jsxs(V,{children:[a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx(pe,{type:"email",required:!0,value:e,onChange:u=>t(u.target.value),placeholder:"Enter your email address"})]}),a.jsx(F,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:r,children:r?"Sending...":"Send Reset Link"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(z,{to:"/auth/login",className:"text-sm text-blue-600 hover:text-blue-500 font-medium inline-flex items-center",children:[a.jsx(ol,{className:"mr-1 h-4 w-4"}),"Back to Sign In"]})})]})]})]})})}function x5(){const e=Ze(),[t]=Fi(),[r,n]=x.useState(""),[s,i]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(""),[d,h]=x.useState(!1),[p,m]=x.useState(!1),[w,y]=x.useState(!0);if(x.useEffect(()=>{(async()=>{try{const g=t.get("access_token"),v=t.get("refresh_token");if(t.get("type")==="recovery"&&g&&v){const{data:E,error:N}=await O.auth.setSession({access_token:g,refresh_token:v});N?(console.error("Error setting session:",N),u("Invalid or expired reset link. Please request a new password reset."),m(!1)):E.session?(console.log("Valid reset session established"),m(!0)):(u("Invalid reset link. Please request a new password reset."),m(!1))}else{const{data:{session:E}}=await O.auth.getSession();E?m(!0):(u("No valid reset session found. Please request a new password reset."),m(!1))}}catch(g){console.error("Session check error:",g),u("Failed to verify reset link. Please try again."),m(!1)}y(!1)})()},[t]),w)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})}),a.jsx(W,{className:"shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx(me,{className:"h-16 w-16 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verifying Reset Link..."}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your password reset request"})]})})]})});if(!p)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})}),a.jsx(W,{className:"shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx(Pt,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Invalid Reset Link"}),a.jsx("p",{className:"text-gray-600 mb-6",children:c}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(z,{to:"/auth/forgot-password",children:a.jsx(F,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Request New Reset Link"})}),a.jsx(z,{to:"/auth/login",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Back to Sign In"})})]})]})})]})});const _=async f=>{if(f.preventDefault(),u(""),l(!0),r!==s){u("Passwords don't match"),l(!1);return}if(r.length<6){u("Password must be at least 6 characters"),l(!1);return}try{const{error:g}=await O.auth.updateUser({password:r});if(g)throw g;h(!0),setTimeout(()=>{e("/auth/login")},2e3)}catch(g){u(g.message||"Failed to reset password")}finally{l(!1)}};return d?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})}),a.jsx(W,{className:"shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(tt,{className:"h-8 w-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Reset Successful"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been updated successfully. You'll be redirected to the login page shortly."}),a.jsx(z,{to:"/auth/login",children:a.jsx(F,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Continue to Sign In"})})]})})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx(vr,{userId:currentUser==null?void 0:currentUser.id}),a.jsx("div",{})]}),a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Set New Password"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your new password below"})]}),a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsx(xe,{children:"Reset Password"})}),a.jsxs(V,{children:[a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-center",children:[a.jsx(Pt,{className:"h-4 w-4 mr-2"}),c]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsx(pe,{type:"password",required:!0,value:r,onChange:f=>n(f.target.value),placeholder:"Enter new password",minLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsx(pe,{type:"password",required:!0,value:s,onChange:f=>i(f.target.value),placeholder:"Confirm new password",minLength:6})]}),a.jsx(F,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Updating Password...":"Update Password"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(z,{to:"/auth/login",className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Back to Sign In"})})]})]})]})})}var wf="rovingFocusGroup.onEntryFocus",_5={bubbles:!1,cancelable:!0},Il="RovingFocusGroup",[um,uk,y5]=Ig(Il),[v5,dk]=qn(Il,[y5]),[w5,b5]=v5(Il),hk=x.forwardRef((e,t)=>a.jsx(um.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(um.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(j5,{...e,ref:t})})}));hk.displayName=Il;var j5=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=x.useRef(null),m=Le(t,p),w=Dg(i),[y,_]=ki({prop:o,defaultProp:l??null,onChange:c,caller:Il}),[f,g]=x.useState(!1),v=vn(u),j=uk(r),E=x.useRef(!1),[N,k]=x.useState(0);return x.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(wf,v),()=>S.removeEventListener(wf,v)},[v]),a.jsx(w5,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:y,onItemFocus:x.useCallback(S=>_(S),[_]),onItemShiftTab:x.useCallback(()=>g(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:x.useCallback(()=>k(S=>S-1),[]),children:a.jsx(Ce.div,{tabIndex:f||N===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:de(e.onMouseDown,()=>{E.current=!0}),onFocus:de(e.onFocus,S=>{const A=!E.current;if(S.target===S.currentTarget&&A&&!f){const b=new CustomEvent(wf,_5);if(S.currentTarget.dispatchEvent(b),!b.defaultPrevented){const R=j().filter($=>$.focusable),T=R.find($=>$.active),U=R.find($=>$.id===y),I=[T,U,...R].filter(Boolean).map($=>$.ref.current);mk(I,d)}}E.current=!1}),onBlur:de(e.onBlur,()=>g(!1))})})}),fk="RovingFocusGroupItem",pk=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Dn(),u=i||c,d=b5(fk,r),h=d.currentTabStopId===u,p=uk(r),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:y}=d;return x.useEffect(()=>{if(n)return m(),()=>w()},[n,m,w]),a.jsx(um.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Ce.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:de(e.onMouseDown,_=>{n?d.onItemFocus(u):_.preventDefault()}),onFocus:de(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:de(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const f=k5(_,d.orientation,d.dir);if(f!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let v=p().filter(j=>j.focusable).map(j=>j.ref.current);if(f==="last")v.reverse();else if(f==="prev"||f==="next"){f==="prev"&&v.reverse();const j=v.indexOf(_.currentTarget);v=d.loop?E5(v,j+1):v.slice(j+1)}setTimeout(()=>mk(v))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:y!=null}):o})})});pk.displayName=fk;var N5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function k5(e,t,r){const n=S5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return N5[n]}function mk(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function E5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var C5=hk,T5=pk,dm=["Enter"," "],P5=["ArrowDown","PageUp","Home"],gk=["ArrowUp","PageDown","End"],R5=[...P5,...gk],O5={ltr:[...dm,"ArrowRight"],rtl:[...dm,"ArrowLeft"]},A5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dl="Menu",[vl,I5,D5]=Ig(Dl),[Ra,xk]=qn(Dl,[D5,Md,dk]),Yd=Md(),_k=dk(),[$5,Oa]=Ra(Dl),[M5,$l]=Ra(Dl),yk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Yd(t),[c,u]=x.useState(null),d=x.useRef(!1),h=vn(i),p=Dg(s);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(rN,{...l,children:a.jsx($5,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:a.jsx(M5,{scope:t,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:n})})})};yk.displayName=Dl;var L5="MenuAnchor",gx=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Yd(r);return a.jsx(nN,{...s,...n,ref:t})});gx.displayName=L5;var xx="MenuPortal",[F5,vk]=Ra(xx,{forceMount:void 0}),wk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Oa(xx,t);return a.jsx(F5,{scope:t,forceMount:r,children:a.jsx(Hn,{present:r||i.open,children:a.jsx(Td,{asChild:!0,container:s,children:n})})})};wk.displayName=xx;var Or="MenuContent",[U5,_x]=Ra(Or),bk=x.forwardRef((e,t)=>{const r=vk(Or,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Oa(Or,e.__scopeMenu),o=$l(Or,e.__scopeMenu);return a.jsx(vl.Provider,{scope:e.__scopeMenu,children:a.jsx(Hn,{present:n||i.open,children:a.jsx(vl.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(z5,{...s,ref:t}):a.jsx(B5,{...s,ref:t})})})})}),z5=x.forwardRef((e,t)=>{const r=Oa(Or,e.__scopeMenu),n=x.useRef(null),s=Le(t,n);return x.useEffect(()=>{const i=n.current;if(i)return Ng(i)},[]),a.jsx(yx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:de(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),B5=x.forwardRef((e,t)=>{const r=Oa(Or,e.__scopeMenu);return a.jsx(yx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),W5=xa("MenuContent.ScrollLock"),yx=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:w,...y}=e,_=Oa(Or,r),f=$l(Or,r),g=Yd(r),v=_k(r),j=I5(r),[E,N]=x.useState(null),k=x.useRef(null),S=Le(t,k,_.onContentChange),A=x.useRef(0),b=x.useRef(""),R=x.useRef(0),T=x.useRef(null),U=x.useRef("right"),M=x.useRef(0),I=w?Rd:x.Fragment,$=w?{as:W5,allowPinchZoom:!0}:void 0,D=P=>{var L,Y;const B=b.current+P,ee=j().filter(X=>!X.disabled),Z=document.activeElement,he=(L=ee.find(X=>X.ref.current===Z))==null?void 0:L.textValue,ne=ee.map(X=>X.textValue),ye=t8(ne,B,he),H=(Y=ee.find(X=>X.textValue===ye))==null?void 0:Y.ref.current;(function X(te){b.current=te,window.clearTimeout(A.current),te!==""&&(A.current=window.setTimeout(()=>X(""),1e3))})(B),H&&setTimeout(()=>H.focus())};x.useEffect(()=>()=>window.clearTimeout(A.current),[]),jg();const C=x.useCallback(P=>{var ee,Z;return U.current===((ee=T.current)==null?void 0:ee.side)&&n8(P,(Z=T.current)==null?void 0:Z.area)},[]);return a.jsx(U5,{scope:r,searchRef:b,onItemEnter:x.useCallback(P=>{C(P)&&P.preventDefault()},[C]),onItemLeave:x.useCallback(P=>{var B;C(P)||((B=k.current)==null||B.focus(),N(null))},[C]),onTriggerLeave:x.useCallback(P=>{C(P)&&P.preventDefault()},[C]),pointerGraceTimerRef:R,onPointerGraceIntentChange:x.useCallback(P=>{T.current=P},[]),children:a.jsx(I,{...$,children:a.jsx(Cd,{asChild:!0,trapped:s,onMountAutoFocus:de(i,P=>{var B;P.preventDefault(),(B=k.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Ed,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:a.jsx(C5,{asChild:!0,...v,dir:f.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:N,onEntryFocus:de(c,P=>{f.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(sN,{role:"menu","aria-orientation":"vertical","data-state":Lk(_.open),"data-radix-menu-content":"",dir:f.dir,...g,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:de(y.onKeyDown,P=>{const ee=P.target.closest("[data-radix-menu-content]")===P.currentTarget,Z=P.ctrlKey||P.altKey||P.metaKey,he=P.key.length===1;ee&&(P.key==="Tab"&&P.preventDefault(),!Z&&he&&D(P.key));const ne=k.current;if(P.target!==ne||!R5.includes(P.key))return;P.preventDefault();const H=j().filter(L=>!L.disabled).map(L=>L.ref.current);gk.includes(P.key)&&H.reverse(),Q5(H)}),onBlur:de(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(A.current),b.current="")}),onPointerMove:de(e.onPointerMove,wl(P=>{const B=P.target,ee=M.current!==P.clientX;if(P.currentTarget.contains(B)&&ee){const Z=P.clientX>M.current?"right":"left";U.current=Z,M.current=P.clientX}}))})})})})})})});bk.displayName=Or;var V5="MenuGroup",vx=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ce.div,{role:"group",...n,ref:t})});vx.displayName=V5;var q5="MenuLabel",jk=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ce.div,{...n,ref:t})});jk.displayName=q5;var Qu="MenuItem",$v="menu.itemSelect",Jd=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=x.useRef(null),o=$l(Qu,e.__scopeMenu),l=_x(Qu,e.__scopeMenu),c=Le(t,i),u=x.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const p=new CustomEvent($v,{bubbles:!0,cancelable:!0});h.addEventListener($v,m=>n==null?void 0:n(m),{once:!0}),Yj(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(Nk,{...s,ref:c,disabled:r,onClick:de(e.onClick,d),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),u.current=!0},onPointerUp:de(e.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:de(e.onKeyDown,h=>{const p=l.searchRef.current!=="";r||p&&h.key===" "||dm.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Jd.displayName=Qu;var Nk=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=_x(Qu,r),l=_k(r),c=x.useRef(null),u=Le(t,c),[d,h]=x.useState(!1),[p,m]=x.useState("");return x.useEffect(()=>{const w=c.current;w&&m((w.textContent??"").trim())},[i.children]),a.jsx(vl.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:a.jsx(T5,{asChild:!0,...l,focusable:!n,children:a.jsx(Ce.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:de(e.onPointerMove,wl(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(e.onPointerLeave,wl(w=>o.onItemLeave(w))),onFocus:de(e.onFocus,()=>h(!0)),onBlur:de(e.onBlur,()=>h(!1))})})})}),H5="MenuCheckboxItem",Sk=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(Pk,{scope:e.__scopeMenu,checked:r,children:a.jsx(Jd,{role:"menuitemcheckbox","aria-checked":ed(r)?"mixed":r,...s,ref:t,"data-state":bx(r),onSelect:de(s.onSelect,()=>n==null?void 0:n(ed(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Sk.displayName=H5;var kk="MenuRadioGroup",[K5,G5]=Ra(kk,{value:void 0,onValueChange:()=>{}}),Ek=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=vn(n);return a.jsx(K5,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(vx,{...s,ref:t})})});Ek.displayName=kk;var Ck="MenuRadioItem",Tk=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=G5(Ck,e.__scopeMenu),i=r===s.value;return a.jsx(Pk,{scope:e.__scopeMenu,checked:i,children:a.jsx(Jd,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":bx(i),onSelect:de(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});Tk.displayName=Ck;var wx="MenuItemIndicator",[Pk,Y5]=Ra(wx,{checked:!1}),Rk=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Y5(wx,r);return a.jsx(Hn,{present:n||ed(i.checked)||i.checked===!0,children:a.jsx(Ce.span,{...s,ref:t,"data-state":bx(i.checked)})})});Rk.displayName=wx;var J5="MenuSeparator",Ok=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Ok.displayName=J5;var X5="MenuArrow",Ak=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Yd(r);return a.jsx(aN,{...s,...n,ref:t})});Ak.displayName=X5;var Z5="MenuSub",[WF,Ik]=Ra(Z5),Eo="MenuSubTrigger",Dk=x.forwardRef((e,t)=>{const r=Oa(Eo,e.__scopeMenu),n=$l(Eo,e.__scopeMenu),s=Ik(Eo,e.__scopeMenu),i=_x(Eo,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(gx,{asChild:!0,...u,children:a.jsx(Nk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Lk(r.open),...e,ref:yd(t,s.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:de(e.onPointerMove,wl(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:de(e.onPointerLeave,wl(h=>{var m,w;d();const p=(m=r.content)==null?void 0:m.getBoundingClientRect();if(p){const y=(w=r.content)==null?void 0:w.dataset.side,_=y==="right",f=_?-5:5,g=p[_?"left":"right"],v=p[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+f,y:h.clientY},{x:g,y:p.top},{x:v,y:p.top},{x:v,y:p.bottom},{x:g,y:p.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:de(e.onKeyDown,h=>{var m;const p=i.searchRef.current!=="";e.disabled||p&&h.key===" "||O5[n.dir].includes(h.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),h.preventDefault())})})})});Dk.displayName=Eo;var $k="MenuSubContent",Mk=x.forwardRef((e,t)=>{const r=vk(Or,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Oa(Or,e.__scopeMenu),o=$l(Or,e.__scopeMenu),l=Ik($k,e.__scopeMenu),c=x.useRef(null),u=Le(t,c);return a.jsx(vl.Provider,{scope:e.__scopeMenu,children:a.jsx(Hn,{present:n||i.open,children:a.jsx(vl.Slot,{scope:e.__scopeMenu,children:a.jsx(yx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:de(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:de(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:de(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),p=A5[o.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});Mk.displayName=$k;function Lk(e){return e?"open":"closed"}function ed(e){return e==="indeterminate"}function bx(e){return ed(e)?"indeterminate":e?"checked":"unchecked"}function Q5(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function e8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function t8(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=e8(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function r8(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function n8(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return r8(r,t)}function wl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var s8=yk,a8=gx,i8=wk,o8=bk,l8=vx,c8=jk,u8=Jd,d8=Sk,h8=Ek,f8=Tk,p8=Rk,m8=Ok,g8=Ak,x8=Dk,_8=Mk,Xd="DropdownMenu",[y8,VF]=qn(Xd,[xk]),qt=xk(),[v8,Fk]=y8(Xd),Uk=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=qt(t),u=x.useRef(null),[d,h]=ki({prop:s,defaultProp:i??!1,onChange:o,caller:Xd});return a.jsx(v8,{scope:t,triggerId:Dn(),triggerRef:u,contentId:Dn(),open:d,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),modal:l,children:a.jsx(s8,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};Uk.displayName=Xd;var zk="DropdownMenuTrigger",Bk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=Fk(zk,r),o=qt(r);return a.jsx(a8,{asChild:!0,...o,children:a.jsx(Ce.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:yd(t,i.triggerRef),onPointerDown:de(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:de(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Bk.displayName=zk;var w8="DropdownMenuPortal",Wk=e=>{const{__scopeDropdownMenu:t,...r}=e,n=qt(t);return a.jsx(i8,{...n,...r})};Wk.displayName=w8;var Vk="DropdownMenuContent",qk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Fk(Vk,r),i=qt(r),o=x.useRef(!1);return a.jsx(o8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:de(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:de(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qk.displayName=Vk;var b8="DropdownMenuGroup",j8=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(l8,{...s,...n,ref:t})});j8.displayName=b8;var N8="DropdownMenuLabel",Hk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(c8,{...s,...n,ref:t})});Hk.displayName=N8;var S8="DropdownMenuItem",Kk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(u8,{...s,...n,ref:t})});Kk.displayName=S8;var k8="DropdownMenuCheckboxItem",Gk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(d8,{...s,...n,ref:t})});Gk.displayName=k8;var E8="DropdownMenuRadioGroup",C8=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(h8,{...s,...n,ref:t})});C8.displayName=E8;var T8="DropdownMenuRadioItem",Yk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(f8,{...s,...n,ref:t})});Yk.displayName=T8;var P8="DropdownMenuItemIndicator",Jk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(p8,{...s,...n,ref:t})});Jk.displayName=P8;var R8="DropdownMenuSeparator",Xk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(m8,{...s,...n,ref:t})});Xk.displayName=R8;var O8="DropdownMenuArrow",A8=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(g8,{...s,...n,ref:t})});A8.displayName=O8;var I8="DropdownMenuSubTrigger",Zk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(x8,{...s,...n,ref:t})});Zk.displayName=I8;var D8="DropdownMenuSubContent",Qk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return a.jsx(_8,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qk.displayName=D8;var $8=Uk,M8=Bk,L8=Wk,eE=qk,tE=Hk,rE=Kk,nE=Gk,sE=Yk,aE=Jk,iE=Xk,oE=Zk,lE=Qk;const cE=$8,uE=M8,F8=x.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(oE,{ref:s,className:Se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(CR,{className:"ml-auto h-4 w-4"})]}));F8.displayName=oE.displayName;const U8=x.forwardRef(({className:e,...t},r)=>a.jsx(lE,{ref:r,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));U8.displayName=lE.displayName;const jx=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(L8,{children:a.jsx(eE,{ref:n,sideOffset:t,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));jx.displayName=eE.displayName;const td=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(rE,{ref:n,className:Se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));td.displayName=rE.displayName;const z8=x.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(nE,{ref:s,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(aE,{children:a.jsx(hg,{className:"h-4 w-4"})})}),t]}));z8.displayName=nE.displayName;const B8=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(sE,{ref:n,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(aE,{children:a.jsx(PR,{className:"h-2 w-2 fill-current"})})}),t]}));B8.displayName=sE.displayName;const W8=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(tE,{ref:n,className:Se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));W8.displayName=tE.displayName;const V8=x.forwardRef(({className:e,...t},r)=>a.jsx(iE,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));V8.displayName=iE.displayName;var dE="AlertDialog",[q8,qF]=qn(dE,[l1]),Kn=l1(),hE=e=>{const{__scopeAlertDialog:t,...r}=e,n=Kn(t);return a.jsx(N1,{...n,...r,modal:!0})};hE.displayName=dE;var H8="AlertDialogTrigger",fE=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Kn(r);return a.jsx(S1,{...s,...n,ref:t})});fE.displayName=H8;var K8="AlertDialogPortal",pE=e=>{const{__scopeAlertDialog:t,...r}=e,n=Kn(t);return a.jsx(k1,{...n,...r})};pE.displayName=K8;var G8="AlertDialogOverlay",mE=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Kn(r);return a.jsx(Cg,{...s,...n,ref:t})});mE.displayName=G8;var gi="AlertDialogContent",[Y8,J8]=q8(gi),X8=zP("AlertDialogContent"),gE=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Kn(r),o=x.useRef(null),l=Le(t,o),c=x.useRef(null);return a.jsx(b4,{contentName:gi,titleName:xE,docsSlug:"alert-dialog",children:a.jsx(Y8,{scope:r,cancelRef:c,children:a.jsxs(Tg,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:de(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(X8,{children:n}),a.jsx(Q8,{contentRef:o})]})})})});gE.displayName=gi;var xE="AlertDialogTitle",_E=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Kn(r);return a.jsx(Pg,{...s,...n,ref:t})});_E.displayName=xE;var yE="AlertDialogDescription",vE=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Kn(r);return a.jsx(Rg,{...s,...n,ref:t})});vE.displayName=yE;var Z8="AlertDialogAction",wE=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Kn(r);return a.jsx(Og,{...s,...n,ref:t})});wE.displayName=Z8;var bE="AlertDialogCancel",jE=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=J8(bE,r),i=Kn(r),o=Le(t,s);return a.jsx(Og,{...i,...n,ref:o})});jE.displayName=bE;var Q8=({contentRef:e})=>{const t=`\`${gi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gi}\` by passing a \`${yE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},eF=hE,tF=fE,rF=pE,NE=mE,SE=gE,kE=wE,EE=jE,CE=_E,TE=vE;const PE=eF,RE=tF,nF=rF,OE=x.forwardRef(({className:e,...t},r)=>a.jsx(NE,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));OE.displayName=NE.displayName;const Nx=x.forwardRef(({className:e,...t},r)=>a.jsxs(nF,{children:[a.jsx(OE,{}),a.jsx(SE,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Nx.displayName=SE.displayName;const Sx=({className:e,...t})=>a.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",e),...t});Sx.displayName="AlertDialogHeader";const kx=({className:e,...t})=>a.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kx.displayName="AlertDialogFooter";const Ex=x.forwardRef(({className:e,...t},r)=>a.jsx(CE,{ref:r,className:Se("text-lg font-semibold",e),...t}));Ex.displayName=CE.displayName;const Cx=x.forwardRef(({className:e,...t},r)=>a.jsx(TE,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));Cx.displayName=TE.displayName;const Tx=x.forwardRef(({className:e,...t},r)=>a.jsx(kE,{ref:r,className:Se(dg(),e),...t}));Tx.displayName=kE.displayName;const Px=x.forwardRef(({className:e,...t},r)=>a.jsx(EE,{ref:r,className:Se(dg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Px.displayName=EE.displayName;function sF(){const e=Ze(),[t,r]=x.useState([]),[n,s]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(null);x.useEffect(()=>{(async()=>{var f;const{data:{user:_}}=await O.auth.getUser();if(o(_),_){try{const{data:v,error:j}=await O.from("projects").select("*").eq("user_id",_.id).order("created_at",{ascending:!1});j?j.code==="PGRST205"||(f=j.message)!=null&&f.includes("Could not find the table")?(console.log("Database tables not found - showing empty state"),r([])):(console.error("Error fetching projects:",j),r([])):r(v||[])}catch(v){console.error("Error fetching projects:",v),r([])}const{data:g}=await O.from("profiles").select("role").eq("id",_.id).single();c(g)}s(!1)})()},[]);const h=async()=>{try{await O.auth.signOut(),e("/")}catch(y){console.error("Error signing out:",y),e("/")}},p=async y=>{d(y);try{const{data:{user:_},error:f}=await O.auth.getUser();if(f||!_||!_.id){console.error("User not authenticated or missing ID:",_,f),J.error("You must be logged in to delete claims");return}console.log("Deleting project:",y,"for user:",_.id);const{data:g,error:v}=await O.from("projects").delete().eq("id",y).eq("user_id",_.id).select();if(v)throw console.error("Error deleting project:",v),new Error(v.message);if(!g||g.length===0)throw new Error("Project not found or you do not have permission to delete it");console.log("Project deleted successfully:",g),r(j=>j.filter(E=>E.id!==y)),J.success("Claim deleted successfully")}catch(_){console.error("Error deleting project:",_),J.error(_.message||"Failed to delete claim. Please try again.")}finally{d(null)}},m=y=>{switch(y){case"submitted":return a.jsx(it,{className:"h-4 w-4"});case"matched":return a.jsx(Pt,{className:"h-4 w-4"});case"completed":return a.jsx(tt,{className:"h-4 w-4"});default:return a.jsx(ot,{className:"h-4 w-4"})}},w=y=>{switch(y){case"submitted":return"bg-yellow-100 text-yellow-800";case"matched":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Pa,{user:i,userRole:"client",showShoppingCart:!0,showSettings:!0,settingsLink:"/client/profile",showBackButton:!0,backButtonText:"Back to Home",backButtonLink:"/",onSignOut:h}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Your Claims Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Track your insurance claims and connect with contractors"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(W,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Claims"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.length})]}),a.jsx(ot,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(W,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Claims"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.filter(y=>y.status!=="completed").length})]}),a.jsx(it,{className:"h-8 w-8 text-orange-600"})]})})}),a.jsx(W,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.filter(y=>y.status==="completed").length})]}),a.jsx(tt,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Claims"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(z,{to:"/client/browse-contractors",children:a.jsx(F,{variant:"outline",children:"Browse Contractors"})}),a.jsx(z,{to:"/intake",children:a.jsxs(F,{className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(bp,{className:"mr-2 h-4 w-4"}),"New Claim"]})})]})]}),t.length===0?a.jsx(W,{className:"border-0 shadow-lg",children:a.jsxs(V,{className:"pt-12 pb-12 text-center",children:[a.jsx(ot,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No claims yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by filing your first insurance claim"}),a.jsx(z,{to:"/intake",children:a.jsxs(F,{className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(bp,{className:"mr-2 h-4 w-4"}),"File Your First Claim"]})})]})}):a.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(y=>a.jsxs(W,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:[a.jsx(ge,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs(xe,{className:"text-lg font-semibold text-gray-900",children:[y.address,", ",y.city,", ",y.state]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[y.peril.charAt(0).toUpperCase()+y.peril.slice(1)," damage • Filed ",new Date(y.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ue,{className:`${w(y.status)} border-0`,children:a.jsxs("span",{className:"flex items-center gap-1",children:[m(y.status),y.status.charAt(0).toUpperCase()+y.status.slice(1)]})}),a.jsxs(cE,{children:[a.jsx(uE,{asChild:!0,children:a.jsx(F,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Sj,{className:"h-4 w-4"})})}),a.jsxs(jx,{align:"end",children:[y.status==="matched"&&a.jsx(td,{asChild:!0,children:a.jsxs(z,{to:`/client/review-estimates/${y.id}`,children:[a.jsx(ot,{className:"mr-2 h-4 w-4"}),"Review Estimates"]})}),a.jsxs(PE,{children:[a.jsx(RE,{asChild:!0,children:a.jsxs(td,{className:"text-red-600 focus:text-red-600 cursor-pointer",onSelect:_=>_.preventDefault(),children:[a.jsx(gg,{className:"mr-2 h-4 w-4"}),"Delete Claim"]})}),a.jsxs(Nx,{children:[a.jsxs(Sx,{children:[a.jsx(Ex,{children:"Delete Claim"}),a.jsx(Cx,{children:"Are you sure you want to delete this claim? This action cannot be undone and will remove all associated data including photos, contractor matches, and payment records."})]}),a.jsxs(kx,{children:[a.jsx(Px,{children:"Cancel"}),a.jsx(Tx,{onClick:()=>p(y.id),className:"bg-red-600 hover:bg-red-700",disabled:u===y.id,children:u===y.id?"Deleting...":"Delete Claim"})]})]})]})]})]})]})]})}),a.jsxs(V,{children:[a.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:y.description}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Claim ID: ",y.id.slice(0,8),"..."]}),a.jsx(z,{to:`/portal/${y.id}`,children:a.jsx(F,{variant:"outline",size:"sm",children:"View Details"})})]})]})]},y.id))})]})]})}var aF="Label",AE=x.forwardRef((e,t)=>a.jsx(Ce.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));AE.displayName=aF;var IE=AE;const iF=vd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Dt=x.forwardRef(({className:e,...t},r)=>a.jsx(IE,{ref:r,className:Se(iF(),e),...t}));Dt.displayName=IE.displayName;function oF(){const e=Ze(),[t,r]=x.useState(!0),[n,s]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState({email_notifications:!0,sms_notifications:!1,project_updates:!0,estimate_notifications:!0,payment_reminders:!0}),[h,p]=x.useState({full_name:"",phone:"",email:"",role:"homeowner"});x.useEffect(()=>{(async()=>{try{const{data:{user:_}}=await O.auth.getUser();if(!_){e("/auth/login");return}o(_);const{data:f,error:g}=await O.from("profiles").select("*").eq("id",_.id).single();if(g){console.error("Error loading profile:",g),J.error("Failed to load profile data");return}f&&(c(f),p({full_name:f.full_name||"",phone:f.phone||"",email:f.email||_.email||"",role:f.role==="business_owner"?"business_owner":"homeowner"}));const v=localStorage.getItem("client_notifications");v&&d(JSON.parse(v))}catch(_){console.error("Error loading profile:",_),J.error("Failed to load profile")}finally{r(!1)}})()},[e]);const m=async()=>{if(!(!i||!l)){s(!0);try{const{error:y}=await O.from("profiles").update({full_name:h.full_name,phone:h.phone||null,email:h.email,role:h.role}).eq("id",i.id);if(y){console.error("Error updating profile:",y),J.error("Failed to update profile");return}if(h.email!==i.email){const{error:_}=await O.auth.updateUser({email:h.email});if(_){console.error("Error updating email:",_),J.error("Failed to update email address");return}}localStorage.setItem("client_notifications",JSON.stringify(u)),J.success("Profile updated successfully!"),window.location.reload()}catch(y){console.error("Error saving profile:",y),J.error("Failed to save profile")}finally{s(!1)}}},w=async()=>{try{await O.auth.signOut(),e("/")}catch(y){console.error("Error signing out:",y),e("/")}};return t?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Pa,{user:i,userRole:"client",showShoppingCart:!0,showSettings:!1,showBackButton:!0,backButtonText:"Back to Dashboard",backButtonLink:"/client/dashboard",onSignOut:w}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Settings"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account information and preferences"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center space-x-2",children:[a.jsx(wd,{className:"h-5 w-5"}),a.jsx("span",{children:"Personal Information"})]})}),a.jsx(V,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"full_name",children:"Full Name"}),a.jsx(pe,{id:"full_name",value:h.full_name,onChange:y=>p({...h,full_name:y.target.value}),placeholder:"Enter your full name"})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"email",children:"Email Address"}),a.jsx(pe,{id:"email",type:"email",value:h.email,onChange:y=>p({...h,email:y.target.value}),placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"phone",children:"Phone Number"}),a.jsx(pe,{id:"phone",type:"tel",value:h.phone,onChange:y=>p({...h,phone:y.target.value}),placeholder:"Enter your phone number"})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"role",children:"Account Type"}),a.jsxs(tr,{value:h.role,onValueChange:y=>p({...h,role:y}),children:[a.jsx(Mt,{children:a.jsx(rr,{})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"homeowner",children:"Homeowner"}),a.jsx(_e,{value:"business_owner",children:"Business Owner"})]})]})]})]})})]}),a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center space-x-2",children:[a.jsx(bj,{className:"h-5 w-5"}),a.jsx("span",{children:"Notification Preferences"})]})}),a.jsx(V,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:"email_notifications",checked:u.email_notifications,onCheckedChange:y=>d({...u,email_notifications:!!y})}),a.jsx(Dt,{htmlFor:"email_notifications",children:"Email Notifications"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:"sms_notifications",checked:u.sms_notifications,onCheckedChange:y=>d({...u,sms_notifications:!!y})}),a.jsx(Dt,{htmlFor:"sms_notifications",children:"SMS Notifications"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:"project_updates",checked:u.project_updates,onCheckedChange:y=>d({...u,project_updates:!!y})}),a.jsx(Dt,{htmlFor:"project_updates",children:"Project Updates"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:"estimate_notifications",checked:u.estimate_notifications,onCheckedChange:y=>d({...u,estimate_notifications:!!y})}),a.jsx(Dt,{htmlFor:"estimate_notifications",children:"Estimate Notifications"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:"payment_reminders",checked:u.payment_reminders,onCheckedChange:y=>d({...u,payment_reminders:!!y})}),a.jsx(Dt,{htmlFor:"payment_reminders",children:"Payment Reminders"})]})]})})]}),a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center space-x-2",children:[a.jsx(MR,{className:"h-5 w-5"}),a.jsx("span",{children:"Account Information"})]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{children:"Account ID"}),a.jsx(pe,{value:(l==null?void 0:l.id)||"",disabled:!0,className:"bg-gray-50"})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Member Since"}),a.jsx(pe,{value:l!=null&&l.created_at?new Date(l.created_at).toLocaleDateString():"",disabled:!0,className:"bg-gray-50"})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx(F,{variant:"outline",onClick:()=>e("/auth/forgot-password"),className:"w-full md:w-auto",children:"Change Password"})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx(F,{variant:"outline",onClick:()=>e("/client/dashboard"),children:"Cancel"}),a.jsx(F,{onClick:m,disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:n?a.jsxs(a.Fragment,{children:[a.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(mg,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})]})}function lF(){const e=Ze(),[t,r]=x.useState([]),[n,s]=x.useState([]),[i,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(""),[h,p]=x.useState("all"),[m,w]=x.useState("all"),y=[{value:"water_mitigation",label:"Water Mitigation"},{value:"mold",label:"Mold Remediation"},{value:"rebuild",label:"General Contracting"},{value:"roofing",label:"Roofing"},{value:"smoke_restoration",label:"Fire/Smoke Restoration"}];x.useEffect(()=>{(async()=>{if(!O){console.error("Supabase client is not configured!"),r([]),s([]),o(!1);return}const{data:{user:g}}=await O.auth.getUser();c(g);try{console.log("Starting contractor fetch..."),console.log("Supabase configured:",_t),console.log("Supabase client:",O);const{data:v,error:j}=await O.from("contractors").select("*").order("created_at",{ascending:!1});if(console.log("Full contractors query result:"),console.log("- Data:",v),console.log("- Error:",j),console.log("- Data length:",(v==null?void 0:v.length)||0),console.log("- First contractor:",v==null?void 0:v[0]),j)console.error("Error fetching contractors:",j),r([]);else{const E=v||[];console.log("Setting contractors:",E.length),r(E),s(E)}}catch(v){console.error("Error loading contractors:",v),r([]),s([])}o(!1)})()},[e]),x.useEffect(()=>{var g,v;let f=t;console.log("Starting filtering with contractors:",t.length),console.log("Sample contractor service_areas:",(g=t[0])==null?void 0:g.service_areas),console.log("Sample contractor trades:",(v=t[0])==null?void 0:v.trades),u&&(f=f.filter(j=>j.company_name.toLowerCase().includes(u.toLowerCase())||j.contact_name.toLowerCase().includes(u.toLowerCase())||j.email.toLowerCase().includes(u.toLowerCase())),console.log("After search filter:",f.length)),h!=="all"&&(f=f.filter(j=>{try{const E=typeof j.trades=="string"?JSON.parse(j.trades):j.trades;return Array.isArray(E)&&E.includes(h)}catch(E){return console.error("Error parsing trades for contractor:",j.id,E),!1}}),console.log("After trade filter:",f.length)),m!=="all"&&(f=f.filter(j=>{try{const E=typeof j.service_areas=="string"?JSON.parse(j.service_areas):j.service_areas;return Array.isArray(E)&&E.some(N=>N.toLowerCase()===m.toLowerCase()||N.toLowerCase().includes(m.toLowerCase()))}catch(E){return console.error("Error parsing service_areas for contractor:",j.id,E),!1}}),console.log("After state filter:",f.length)),console.log("Final filtered contractors:",f.length),s(f)},[t,u,h,m]);const _=async()=>{try{if(!O){e("/");return}await O.auth.signOut(),e("/")}catch(f){console.error("Error signing out:",f),e("/")}};return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading contractors..."})]})}):_t?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{to:l?"/client/dashboard":"/",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:l?"Dashboard":"Home"})]}),a.jsxs(z,{to:"/",className:"flex items-center space-x-2",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DisasterShield"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[l&&a.jsx(vr,{userId:l.id}),l?a.jsxs(a.Fragment,{children:[a.jsx(z,{to:"/client/dashboard",children:a.jsx(F,{variant:"outline",size:"sm",children:"Dashboard"})}),a.jsx(F,{variant:"outline",onClick:_,children:"Sign Out"})]}):a.jsxs(a.Fragment,{children:[a.jsx(z,{to:"/auth/login",children:a.jsx(F,{variant:"outline",size:"sm",children:"Sign In"})}),a.jsx(z,{to:"/auth/signup",children:a.jsx(F,{size:"sm",children:"Sign Up"})})]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Browse Contractors"}),a.jsx("p",{className:"text-gray-600",children:"Find qualified contractors in your area for your project needs"})]}),a.jsxs(W,{className:"mb-8 shadow-lg",children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Su,{className:"h-5 w-5"}),"Search & Filter"]})}),a.jsx(V,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),a.jsx(pe,{placeholder:"Company name, contact, or email...",value:u,onChange:f=>d(f.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trade/Specialty"}),a.jsxs(tr,{value:h,onValueChange:p,children:[a.jsx(Mt,{children:a.jsx(rr,{})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"all",children:"All Trades"}),y.map(f=>a.jsx(_e,{value:f.value,children:f.label},f.value))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Area"}),a.jsxs(tr,{value:m,onValueChange:w,children:[a.jsx(Mt,{children:a.jsx(rr,{})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"all",children:"All States"}),a.jsx(_e,{value:"FL",children:"Florida"}),a.jsx(_e,{value:"TX",children:"Texas"}),a.jsx(_e,{value:"CA",children:"California"}),a.jsx(_e,{value:"NY",children:"New York"}),a.jsx(_e,{value:"GA",children:"Georgia"})]})]})]})]})})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Available Contractors (",n.length,")"]})}),n.length===0?a.jsx(W,{className:"border-0 shadow-lg",children:a.jsxs(V,{className:"pt-12 pb-12 text-center",children:[a.jsx(Su,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No contractors found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:t.length===0?"No contractors are currently available in our network":"Try adjusting your search filters to find contractors"}),a.jsx(F,{variant:"outline",onClick:()=>{d(""),p("all"),w("all")},children:"Clear Filters"})]})}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map(f=>a.jsxs(W,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(ge,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx(xe,{className:"text-xl font-bold text-gray-900",children:f.company_name}),a.jsx("p",{className:"text-gray-600 mt-1",children:f.contact_name})]}),a.jsx(Ue,{className:"bg-green-100 text-green-800 border-0",children:"Available"})]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(zi,{className:"h-4 w-4"}),f.phone]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Ea,{className:"h-4 w-4"}),f.email]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[a.jsx(zs,{className:"h-4 w-4"}),"Service Areas"]}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(()=>{try{const g=typeof f.service_areas=="string"?JSON.parse(f.service_areas):f.service_areas;return Array.isArray(g)?g.slice(0,3).map(v=>a.jsx(Ue,{variant:"outline",className:"text-xs",children:v},v)):[]}catch{return[]}})(),(()=>{try{const g=typeof f.service_areas=="string"?JSON.parse(f.service_areas):f.service_areas;return Array.isArray(g)&&g.length>3?a.jsxs(Ue,{variant:"outline",className:"text-xs",children:["+",g.length-3," more"]}):null}catch{return null}})()]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Specialties"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:(()=>{try{const g=typeof f.trades=="string"?JSON.parse(f.trades):f.trades;return Array.isArray(g)?g.map(v=>{var E;const j=((E=y.find(N=>N.value===v))==null?void 0:E.label)||v;return a.jsx(Ue,{className:"bg-blue-100 text-blue-800 border-0 text-xs",children:j},v)}):[]}catch{return[]}})()})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsx(F,{className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:()=>{window.location.href=`mailto:${f.email}?subject=Project Inquiry from DisasterShield`},children:"Contact Directly"}),f.calendly_url&&a.jsxs(F,{variant:"outline",onClick:()=>window.open(f.calendly_url,"_blank"),children:[a.jsx(Pl,{className:"mr-2 h-4 w-4"}),"Schedule"]})]})]})]},f.id))})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Configuration Error"}),a.jsx("p",{className:"text-gray-600",children:"Supabase is not properly configured. Please check your environment variables."})]})})}function cF(){const{projectId:e}=nn(),t=Ze(),[r,n]=x.useState(null),[s,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(null);x.useEffect(()=>{d()},[e]);const d=async()=>{if(e)try{const{data:{user:m}}=await O.auth.getUser();if(!m){J.error("Please log in to review estimates"),t("/auth/login");return}const{data:w,error:y}=await O.from("projects").select("*").eq("id",e).eq("user_id",m.id).single();if(y||!w){J.error("Project not found or access denied"),t("/client/dashboard");return}n(w);const{data:_,error:f}=await O.from("contractor_estimates").select(`
          *,
          contractors (
            id,
            contact_name,
            company_name,
            email,
            phone,
            service_areas,
            trades,
            capacity
          )
        `).eq("project_id",e).eq("status","pending").order("created_at",{ascending:!1});if(f){J.error("Failed to load estimates");return}i(_||[])}catch{J.error("Failed to load data")}finally{l(!1)}},h=async(m,w)=>{if(r){u(m);try{const{error:y}=await O.from("contractor_estimates").update({status:"accepted"}).eq("id",m);if(y)throw y;try{(await fetch("https://nlwsaaffxzdaxiojyjse.supabase.co/functions/v1/create-dynamic-product",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sd3NhYWZmeHpkYXhpb2p5anNlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0OTI2NDMsImV4cCI6MjA3MjA2ODY0M30.XrERjaWSEeHpcZdCdsRixjI3OvsKBhIxwUfHhEvoLUk"},body:JSON.stringify({estimateId:m,projectId:r.id})})).ok||console.error("Failed to create dynamic Stripe product")}catch(g){console.error("Error creating dynamic Stripe product:",g)}const{error:_}=await O.from("contractor_estimates").update({status:"rejected"}).eq("project_id",r.id).neq("id",m);if(_)throw _;const{error:f}=await O.from("projects").update({assigned_contractor_id:w,status:"matched"}).eq("id",r.id);if(f)throw f;await O.from("match_requests").update({status:"accepted",responded_at:new Date().toISOString()}).eq("project_id",r.id).eq("contractor_id",w),await O.from("match_requests").update({status:"declined",responded_at:new Date().toISOString()}).eq("project_id",r.id).neq("contractor_id",w),J.success("Estimate accepted! Contractor has been assigned to your project.");try{const{data:g}=await O.from("contractors").select("user_id").eq("id",w).single();g!=null&&g.user_id&&await O.from("notifications").insert({user_id:g.user_id,type:"estimate_accepted",title:"🎉 Estimate Accepted!",message:`Your estimate has been accepted for the project at ${r.address}. You can now begin work!`,data:{projectId:r.id,contactName:r.contact_name,contactPhone:r.contact_phone}})}catch{}t("/client/dashboard")}catch(y){J.error(y.message||"Failed to accept estimate")}finally{u(null)}}},p=async m=>{u(m);try{const{error:w}=await O.from("contractor_estimates").update({status:"rejected"}).eq("id",m);if(w)throw w;J.success("Estimate rejected"),await d()}catch(w){J.error(w.message||"Failed to reject estimate")}finally{u(null)}};return o?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading estimates..."})]})}):r?a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(z,{to:"/client/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:"← Back to Dashboard"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Review Estimates"}),a.jsx("p",{className:"text-gray-600",children:"Compare contractor estimates for your project"})]})]})]}),a.jsxs(W,{className:"mb-8",children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(ot,{className:"h-5 w-5"}),"Project Details"]})}),a.jsx(V,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(zs,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:r.address}),a.jsxs("p",{className:"text-gray-600",children:[r.city,", ",r.state," ",r.zip]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Ue,{variant:"outline",children:r.peril})}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Description"}),a.jsx("p",{className:"text-gray-600 text-sm",children:r.description})]})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Contractor Estimates (",s.length,")"]}),s.length===0&&a.jsx("p",{className:"text-gray-500",children:"No estimates received yet"})]}),s.map(m=>a.jsxs(W,{className:"border-l-4 border-l-blue-500",children:[a.jsx(ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(xe,{className:"text-lg",children:m.contractors.company_name}),a.jsxs("p",{className:"text-gray-600 text-sm",children:["Contact: ",m.contractors.contact_name]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:da(m.estimate_amount)}),a.jsxs(Ue,{variant:"outline",className:"mt-1",children:["Capacity: ",m.contractors.capacity," jobs"]})]})]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Contractor Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zi,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{children:m.contractors.phone})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{children:m.contractors.email})]}),m.contractors.trades&&m.contractors.trades.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ot,{className:"h-4 w-4 text-gray-400"}),a.jsxs("span",{children:["Trades: ",m.contractors.trades.join(", ")]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Estimate Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4 text-gray-400"}),a.jsxs("span",{children:["Submitted: ",new Date(m.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4 text-gray-400"}),a.jsxs("span",{children:["Expires: ",new Date(m.expires_at).toLocaleDateString()]})]})]})]})]}),m.estimate_breakdown&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Cost Breakdown"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-700",children:m.estimate_breakdown})]}),m.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Additional Notes"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-700",children:m.notes})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsx(F,{onClick:()=>h(m.id,m.contractors.id),disabled:c===m.id,className:"flex-1 bg-green-600 hover:bg-green-700",children:c===m.id?"Processing...":a.jsxs(a.Fragment,{children:[a.jsx(tt,{className:"h-4 w-4 mr-2"}),"Accept Estimate"]})}),a.jsx(F,{onClick:()=>p(m.id),disabled:c===m.id,variant:"outline",className:"flex-1",children:c===m.id?"Processing...":a.jsxs(a.Fragment,{children:[a.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Reject"]})})]})]})]},m.id))]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-600 mb-4",children:"Project not found"}),a.jsx(z,{to:"/client/dashboard",children:a.jsx(F,{children:"Return to Dashboard"})})]})})}function uF(){const{projectId:e}=nn(),t=Ze(),[r,n]=x.useState(null),[s,i]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState(!0),[d,h]=x.useState(null);if(x.useEffect(()=>{const y=async()=>{try{const{data:{user:f}}=await O.auth.getUser();if(h(f),!f){t("/auth/login");return}if(!e){t("/client/dashboard");return}const{data:g,error:v}=await O.from("projects").select("*").eq("id",e).single();if(v||!g){t("/client/dashboard");return}if(g.user_id!==f.id){t("/client/dashboard");return}n(g);const{data:j,error:E}=await O.from("match_requests").select(`
            *,
            contractors (*)
          `).eq("project_id",e).order("created_at",{ascending:!1});!E&&j&&(i(j),l(j.map(N=>N.contractors).filter(Boolean)))}catch(f){console.error("Error loading matching data:",f),t("/client/dashboard")}finally{u(!1)}};y();const _=O.channel("match_requests").on("postgres_changes",{event:"*",schema:"public",table:"match_requests",filter:`project_id=eq.${e}`},f=>{console.log("Match request update:",f),y()}).subscribe();return()=>{_.unsubscribe()}},[e,t]),c)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading contractor matching..."})]})});const p=s.find(y=>y.status==="accepted"),m=s.filter(y=>y.status==="sent"),w=s.filter(y=>y.status==="declined");return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs(z,{to:`/portal/${e}`,className:"flex items-center space-x-2",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DisasterShield"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(vr,{userId:d==null?void 0:d.id}),a.jsx(z,{to:`/portal/${e}`,children:a.jsx(F,{variant:"outline",children:"Back to Project"})})]})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Contractor Matching"}),a.jsxs("p",{className:"text-gray-600",children:["We're connecting you with qualified contractors for your ",r==null?void 0:r.peril," damage claim"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(W,{className:"border-0 shadow-lg",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Contractors Contacted"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.length})]}),a.jsx(ua,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(W,{className:"border-0 shadow-lg",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Responses Pending"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:m.length})]}),a.jsx(it,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(W,{className:"border-0 shadow-lg",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Job Status"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:p?"Assigned":"Matching"})]}),p?a.jsx(tt,{className:"h-8 w-8 text-green-600"}):a.jsx(it,{className:"h-8 w-8 text-orange-600"})]})})})]}),p&&a.jsxs(W,{className:"border-0 shadow-lg mb-8 border-l-4 border-l-green-500",children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2 text-green-700",children:[a.jsx(tt,{className:"h-6 w-6"}),"Contractor Assigned!"]})}),a.jsx(V,{children:a.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:p.contractors.company_name}),a.jsx("p",{className:"text-gray-600",children:p.contractors.contact_name})]}),a.jsx(Ue,{className:"bg-green-100 text-green-800 border-0",children:"Assigned"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zi,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-gray-700",children:p.contractors.phone})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-gray-700",children:p.contractors.email})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Service Areas"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:p.contractors.service_areas.map(y=>a.jsx(Ue,{variant:"outline",className:"text-xs",children:y},y))})]}),a.jsx("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:a.jsxs("p",{className:"text-sm text-green-800",children:[a.jsx("strong",{children:"Next Steps:"})," Your assigned contractor will contact you within 24 hours to schedule the inspection. You can also reach out to them directly using the contact information above."]})})]})})]}),m.length>0&&!p&&a.jsxs(W,{className:"border-0 shadow-lg mb-8",children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-6 w-6 text-yellow-600"}),"Waiting for Contractor Responses (",m.length,")"]})}),a.jsxs(V,{children:[a.jsx("div",{className:"space-y-4",children:m.map(y=>a.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:y.contractors.company_name}),a.jsx("p",{className:"text-gray-600 text-sm",children:y.contractors.contact_name})]}),a.jsx(Ue,{className:"bg-yellow-100 text-yellow-800 border-0",children:"Pending Response"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zs,{className:"h-4 w-4"}),a.jsxs("span",{children:["Serves: ",y.contractors.service_areas.slice(0,2).join(", ")]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zR,{className:"h-4 w-4"}),a.jsxs("span",{children:["Specializes in: ",y.contractors.trades.slice(0,2).join(", ")]})]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Invitation sent ",new Date(y.created_at).toLocaleDateString()," at ",new Date(y.created_at).toLocaleTimeString()]})]},y.id))}),a.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(it,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-900",children:"What happens next?"}),a.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"Contractors have 48 hours to respond. The first contractor to accept will be assigned to your job. You'll be notified immediately when someone accepts."})]})]})})]})]}),w.length>0&&a.jsxs(W,{className:"border-0 shadow-lg mb-8",children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Pt,{className:"h-6 w-6 text-red-600"}),"Contractor Responses (",w.length," declined)"]})}),a.jsx(V,{children:a.jsx("div",{className:"space-y-3",children:w.map(y=>a.jsxs("div",{className:"border rounded-lg p-3 bg-red-50",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:y.contractors.company_name}),a.jsx("p",{className:"text-sm text-gray-600",children:y.contractors.contact_name})]}),a.jsx(Ue,{className:"bg-red-100 text-red-800 border-0",children:"Declined"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Declined on ",new Date(y.responded_at).toLocaleDateString()]})]},y.id))})})]}),s.length===0&&a.jsx(W,{className:"border-0 shadow-lg",children:a.jsxs(V,{className:"pt-12 pb-12 text-center",children:[a.jsx(ua,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Finding Contractors"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We're actively searching for qualified contractors in your area. This usually takes a few minutes."}),a.jsx(F,{onClick:()=>window.location.reload(),variant:"outline",children:"Refresh Status"})]})})]})]})}function dF(){var d,h;const e=Ze(),[t,r]=x.useState(null),[n,s]=x.useState([]),[i,o]=x.useState(null),[l,c]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const{data:{user:m}}=await O.auth.getUser();if(!m){e("/auth/login");return}r(m);const{data:w,error:y}=await O.from("contractors").select("*").eq("user_id",m.id).maybeSingle();if(console.log("Contractor query result:",{contractorData:w,contractorError:y}),y&&console.error("Error fetching contractor:",y),o(w),w){const{data:_,error:f}=await O.from("projects").select("*").eq("assigned_contractor_id",w.id).order("created_at",{ascending:!1});f&&console.error("Error fetching projects:",f),s(_||[])}}catch(m){console.error("Error loading dashboard data:",m),m instanceof Error&&m.message.includes("Supabase environment variables")?e("/"):(o(null),s([]))}finally{c(!1)}})()},[e]);const u=async()=>{try{await O.auth.signOut(),e("/")}catch(p){console.error("Error signing out:",p),e("/")}};return l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):i?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Pa,{user:t,userRole:"contractor",showShoppingCart:!1,showSettings:!0,settingsLink:"/contractor/profile",showBackButton:!0,backButtonText:"Back to Home",backButtonLink:"/",welcomeText:(i==null?void 0:i.company_name)||((d=t==null?void 0:t.user_metadata)==null?void 0:d.full_name)||((h=t==null?void 0:t.email)==null?void 0:h.split("@")[0])||"User",onSignOut:u}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Contractor Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage your jobs and track your business"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(W,{className:"border-0 shadow-lg",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Jobs"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),a.jsx(Eh,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(W,{className:"border-0 shadow-lg",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Jobs"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.filter(p=>!["completed","cancelled"].includes(p.status)).length})]}),a.jsx(it,{className:"h-8 w-8 text-orange-600"})]})})}),a.jsx(W,{className:"border-0 shadow-lg",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.filter(p=>p.status==="completed").length})]}),a.jsx(tt,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(W,{className:"border-0 shadow-lg",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Status"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:i.capacity})]}),a.jsx("div",{className:`h-3 w-3 rounded-full ${i.capacity==="active"?"bg-green-500":"bg-gray-400"}`})]})})})]}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Jobs"}),a.jsx(z,{to:"/contractor/browse-jobs",children:a.jsx(F,{className:"bg-blue-600 hover:bg-blue-700",children:"Browse Available Jobs"})})]}),n.length===0?a.jsx(W,{className:"border-0 shadow-lg",children:a.jsxs(V,{className:"pt-12 pb-12 text-center",children:[a.jsx(Eh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No jobs yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Jobs will appear here when you're matched with claims in your area"}),a.jsx("p",{className:"text-sm text-gray-500",children:'Make sure your profile is complete and your capacity is set to "Active"'})]})}):a.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(p=>a.jsxs(W,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:[a.jsx(ge,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs(xe,{className:"text-lg font-semibold text-gray-900",children:[p.address,", ",p.city,", ",p.state]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[p.peril.charAt(0).toUpperCase()+p.peril.slice(1)," damage • ",new Date(p.created_at).toLocaleDateString()]})]}),a.jsx(Ue,{className:`border-0 ${p.status==="completed"?"bg-green-100 text-green-800":p.status==="matched"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]})}),a.jsxs(V,{children:[a.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:p.description}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Contact: ",p.contact_name," • ",p.contact_phone]}),a.jsx(z,{to:`/portal/${p.id}`,children:a.jsx(F,{variant:"outline",size:"sm",children:"View Details"})})]})]})]},p.id))})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Eh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Complete Your Profile"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Set up your contractor profile to start receiving job opportunities"}),a.jsx(z,{to:"/contractor/profile",children:a.jsx(F,{className:"bg-blue-600 hover:bg-blue-700",children:"Complete Profile"})})]})})})}function hF(){const e=Ze(),[t,r]=x.useState([]),[n,s]=x.useState([]),[i,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(null),[h,p]=x.useState(""),[m,w]=x.useState("all"),[y,_]=x.useState("all"),[f,g]=x.useState(!1),[v,j]=x.useState([]),E=[{value:"water",label:"Water Damage"},{value:"flood",label:"Flood"},{value:"wind",label:"Wind/Storm"},{value:"fire",label:"Fire"},{value:"mold",label:"Mold"},{value:"other",label:"Other"}];x.useEffect(()=>{(async()=>{const{data:{user:A}}=await O.auth.getUser();if(c(A),!A){e("/auth/login");return}const{data:b}=await O.from("contractors").select("*").eq("user_id",A.id).maybeSingle();if(console.log("Contractor data:",b),!b){e("/contractor/profile");return}d(b);const{data:R}=await O.from("match_requests").select("project_id").eq("contractor_id",b.id),T=(R==null?void 0:R.map(U=>U.project_id))||[];j(T);try{const{data:U,error:M}=await O.from("projects").select("*").is("assigned_contractor_id",null).in("status",["submitted","matched","scheduled"]).order("created_at",{ascending:!1});console.log("Raw projects from database:",U),console.log("Projects query error:",M),M?(console.error("Error fetching projects:",M),r([])):(r(U||[]),s(U||[]))}catch(U){console.error("Error loading projects:",U),r([]),s([])}o(!1)})()},[e]),x.useEffect(()=>{let S=t;console.log("Starting with projects:",t.length),h&&(S=S.filter(A=>A.city.toLowerCase().includes(h.toLowerCase())||A.address.toLowerCase().includes(h.toLowerCase())||A.description.toLowerCase().includes(h.toLowerCase())),console.log("After search filter:",S.length)),m!=="all"&&(S=S.filter(A=>A.peril===m),console.log("After peril filter:",S.length)),y!=="all"&&(S=S.filter(A=>A.state===y),console.log("After state filter:",S.length)),u&&!f&&(console.log("🔍 Contractor filtering debug:",{contractorId:u.id,serviceAreas:u.service_areas,trades:u.trades,projectsBeforeFilter:S.length}),S=S.filter(A=>{const b=u.service_areas||[],R=b.some(C=>C.toLowerCase()===A.state.toLowerCase()||C.toLowerCase()===A.city.toLowerCase()||C.toLowerCase()===A.zip),T=u.trades||[],M={flood:["water_mitigation","rebuild","general"],water:["water_mitigation","mold","general"],wind:["rebuild","roofing","general"],fire:["rebuild","smoke_restoration","general"],mold:["mold","water_mitigation","general"],other:["rebuild","general"]}[A.peril]||["rebuild","general"],I=T.some(C=>M.includes(C)),$=b.length===0&&T.length===0,D=$||R||I;return console.log(`📋 Project ${A.id} (${A.peril} in ${A.city}, ${A.state}):`,{servesArea:R,hasRelevantTrade:I,hasNoRestrictions:$,shouldShow:D,relevantTrades:M,contractorTrades:T}),D}),console.log("✅ After contractor filtering:",S.length,"projects remain")),s(S)},[t,h,m,y,u,f]);const N=async S=>{if(u){if(v.includes(S)){alert("You have already expressed interest in this job.");return}try{const{data:A}=await O.from("match_requests").select("id").eq("project_id",S).eq("contractor_id",u.id).maybeSingle();if(A){alert("You have already expressed interest in this job.");return}const{error:b}=await O.from("match_requests").insert({project_id:S,contractor_id:u.id,status:"sent"});if(b)console.error("Error expressing interest:",b),b.code==="23505"?alert("You have already expressed interest in this job."):alert("Failed to express interest. Please try again.");else{alert("Interest expressed! The homeowner will be notified."),j(R=>[...R,S]);try{const R=n.find(T=>T.id===S);R!=null&&R.user_id&&await O.from("notifications").insert({user_id:R.user_id,type:"contractor_matched",title:"🤝 Contractor Interested!",message:`A contractor has expressed interest in your ${R.peril} damage claim. They may contact you soon.`,data:{projectId:R.id,contractorId:u.id}})}catch(R){console.error("Error creating interest notification:",R)}}}catch(A){console.error("Error expressing interest:",A),alert("Failed to express interest. Please try again.")}}},k=async()=>{try{await O.auth.signOut(),e("/")}catch(S){console.error("Error signing out:",S),e("/")}};return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading available jobs..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{to:"/contractor/dashboard",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]}),a.jsxs(z,{to:"/",className:"flex items-center space-x-2",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DisasterShield"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(vr,{userId:l==null?void 0:l.id}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{variant:"outline",size:"sm",children:"Dashboard"})}),a.jsx(F,{variant:"outline",onClick:k,children:"Sign Out"})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Available Jobs"}),a.jsx("p",{className:"text-gray-600",children:"Browse and express interest in projects that match your expertise"})]}),a.jsxs(W,{className:"mb-8 shadow-lg",children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Su,{className:"h-5 w-5"}),"Search & Filter Jobs"]})}),a.jsx(V,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Location"}),a.jsx(pe,{placeholder:"City, address, or description...",value:h,onChange:S=>p(S.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Damage Type"}),a.jsxs(tr,{value:m,onValueChange:w,children:[a.jsx(Mt,{children:a.jsx(rr,{})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"all",children:"All Types"}),E.map(S=>a.jsx(_e,{value:S.value,children:S.label},S.value))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),a.jsxs(tr,{value:y,onValueChange:_,children:[a.jsx(Mt,{children:a.jsx(rr,{})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"all",children:"All States"}),a.jsx(_e,{value:"FL",children:"Florida"}),a.jsx(_e,{value:"TX",children:"Texas"}),a.jsx(_e,{value:"CA",children:"California"}),a.jsx(_e,{value:"NY",children:"New York"}),a.jsx(_e,{value:"GA",children:"Georgia"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Filtering"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"showAllJobs",checked:f,onChange:S=>g(S.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"showAllJobs",className:"text-sm text-gray-700",children:"Show all jobs (ignore service areas)"})]})]})]})})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Matching Jobs (",n.length,")"]})}),n.length===0?a.jsx(W,{className:"border-0 shadow-lg",children:a.jsxs(V,{className:"pt-12 pb-12 text-center",children:[a.jsx(Su,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching jobs found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:t.length===0?"No jobs are currently available that match your service areas and trades":"Try adjusting your search filters to find more jobs"}),a.jsx("div",{className:"space-y-3",children:a.jsx(F,{variant:"outline",onClick:()=>{p(""),w("all"),_("all"),g(!1)},children:"Clear Filters"})})]})}):a.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.map(S=>a.jsxs(W,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(ge,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs(xe,{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(wj,{className:"h-5 w-5 text-orange-500"}),S.peril.charAt(0).toUpperCase()+S.peril.slice(1)," Damage"]}),a.jsxs("p",{className:"text-gray-600 mt-1 flex items-center gap-2",children:[a.jsx(zs,{className:"h-4 w-4"}),S.address,", ",S.city,", ",S.state," ",S.zip]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(Ue,{className:"bg-yellow-100 text-yellow-800 border-0 mb-2",children:S.status.charAt(0).toUpperCase()+S.status.slice(1)}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Filed ",new Date(S.created_at).toLocaleDateString()]})]})]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Incident Description"}),a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-3",children:S.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-1 flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4"}),"Incident Date"]}),a.jsx("p",{className:"text-gray-600 text-sm",children:new Date(S.incident_at).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-1 flex items-center gap-2",children:[a.jsx(Pl,{className:"h-4 w-4"}),"Preferred Inspection"]}),a.jsxs("p",{className:"text-gray-600 text-sm",children:[new Date(S.preferred_date).toLocaleDateString()," • ",S.preferred_window]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Property Owner"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[a.jsx("p",{children:S.contact_name}),a.jsx("p",{children:S.contact_phone})]})]}),(S.carrier_name||S.policy_number)&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[a.jsx(pg,{className:"h-4 w-4"}),"Insurance Information"]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[S.carrier_name&&a.jsxs("p",{children:["Carrier: ",S.carrier_name]}),S.policy_number&&a.jsxs("p",{children:["Policy: ",S.policy_number]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[v.includes(S.id)?a.jsx(F,{className:"flex-1 bg-gray-400 cursor-not-allowed",disabled:!0,children:"Interest Expressed"}):a.jsx(F,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>N(S.id),children:"Express Interest"}),a.jsx(z,{to:`/portal/${S.id}`,children:a.jsx(F,{variant:"outline",children:"View Details"})})]})]})]},S.id))})]})]})}const fF=[{value:"water_mitigation",label:"Water Mitigation"},{value:"mold",label:"Mold Remediation"},{value:"rebuild",label:"General Contracting/Rebuild"},{value:"roofing",label:"Roofing"},{value:"smoke_restoration",label:"Smoke/Fire Restoration"}],pF=["FL","TX","CA","NY","GA","NC","SC","AL","LA","MS","TN","KY","VA","WV","MD","DE","NJ","PA","CT","RI","MA","VT","NH","ME"];function mF(){const e=Ze(),[t,r]=x.useState(!1),[n,s]=x.useState(""),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState({company_name:"",contact_name:"",email:"",phone:"",service_areas:[],trades:[],capacity:"active",calendly_url:""});x.useEffect(()=>{(async()=>{var g;const{data:{user:y}}=await O.auth.getUser();if(!y){e("/auth/login");return}o(y);const{data:_}=await O.from("profiles").select("*").eq("id",y.id).maybeSingle();if(!_){const{error:v}=await O.from("profiles").insert({id:y.id,email:y.email||"",full_name:((g=y.user_metadata)==null?void 0:g.full_name)||"",role:"contractor"});if(v){console.error("Error creating profile:",v),s("Failed to create user profile");return}}const{data:f}=await O.from("contractors").select("*").eq("user_id",y.id).maybeSingle();f&&(c(f),d({company_name:f.company_name,contact_name:f.contact_name,email:f.email,phone:f.phone,service_areas:f.service_areas||[],trades:f.trades||[],capacity:f.capacity,calendly_url:f.calendly_url||""}))})()},[e]);const h=(w,y)=>{const _=u.trades||[];d(y?{...u,trades:[..._,w]}:{...u,trades:_.filter(f=>f!==w)})},p=(w,y)=>{const _=u.service_areas||[];d(y?{...u,service_areas:[..._,w]}:{...u,service_areas:_.filter(f=>f!==w)})},m=async w=>{w.preventDefault(),s(""),r(!0);try{if(!i)throw new Error("Not authenticated");console.log("Submitting contractor profile:",u);const _={...cM.parse({...u}),user_id:i.id};if(console.log("Validated contractor data:",_),l){const{data:f,error:g}=await O.from("contractors").update(_).eq("id",l.id).select();if(console.log("Update result:",{updateData:f,updateError:g}),g)throw g}else{const{data:f,error:g}=await O.from("contractors").insert(_).select();if(console.log("Insert result:",{insertData:f,insertError:g}),g)throw g}console.log("Profile saved successfully, redirecting..."),e("/contractor/dashboard")}catch(y){console.error("Profile save error:",y),s(y.message||"Failed to save contractor profile")}finally{r(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{to:"/contractor/dashboard",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DisasterShield"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(vr,{userId:i==null?void 0:i.id}),a.jsx(F,{variant:"outline",onClick:async()=>{await O.auth.signOut(),e("/")},children:"Sign Out"})]})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[a.jsx(jj,{className:"h-8 w-8"}),l?"Update":"Complete"," Your Contractor Profile"]}),a.jsx("p",{className:"text-gray-600",children:l?"Update your business information and service capabilities":"Set up your business profile to start receiving job opportunities"})]}),a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsx(xe,{children:"Business Information"})}),a.jsx(V,{children:a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:n}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),a.jsx(pe,{required:!0,value:u.company_name,onChange:w=>d({...u,company_name:w.target.value}),placeholder:"Your Company LLC"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Name *"}),a.jsx(pe,{required:!0,value:u.contact_name,onChange:w=>d({...u,contact_name:w.target.value}),placeholder:"John Smith"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Email *"}),a.jsx(pe,{type:"email",required:!0,value:u.email,onChange:w=>d({...u,email:w.target.value}),placeholder:"contact@yourcompany.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Phone *"}),a.jsx(pe,{required:!0,value:u.phone,onChange:w=>d({...u,phone:w.target.value}),placeholder:"(555) 123-4567"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Service Areas * (Select all states you serve)"}),a.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-3",children:pF.map(w=>{var y;return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:`state-${w}`,checked:((y=u.service_areas)==null?void 0:y.includes(w))||!1,onCheckedChange:_=>p(w,!!_)}),a.jsx("label",{htmlFor:`state-${w}`,className:"text-sm font-medium",children:w})]},w)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Trades & Specialties * (Select all that apply)"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:fF.map(w=>{var y;return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:`trade-${w.value}`,checked:((y=u.trades)==null?void 0:y.includes(w.value))||!1,onCheckedChange:_=>h(w.value,!!_)}),a.jsx("label",{htmlFor:`trade-${w.value}`,className:"text-sm font-medium",children:w.label})]},w.value)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity Status *"}),a.jsxs(tr,{value:u.capacity,onValueChange:w=>d({...u,capacity:w}),children:[a.jsx(Mt,{children:a.jsx(rr,{})}),a.jsxs(Lt,{children:[a.jsx(_e,{value:"active",children:"Active - Accepting new jobs"}),a.jsx(_e,{value:"paused",children:"Paused - Not accepting jobs"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calendly URL (Optional)"}),a.jsx(pe,{type:"url",value:u.calendly_url,onChange:w=>d({...u,calendly_url:w.target.value}),placeholder:"https://calendly.com/yourname"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsx(F,{type:"button",variant:"outline",onClick:()=>e("/contractor/dashboard"),children:"Cancel"}),a.jsxs(F,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:t,children:[a.jsx(mg,{className:"mr-2 h-4 w-4"}),t?"Saving...":l?"Update Profile":"Save Profile"]})]})]})})]})]})]})}function gF(){const{projectId:e}=nn(),t=Ze(),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!0),[c,u]=x.useState(!1),[d,h]=x.useState(null),[p,m]=x.useState({amount:"",breakdown:"",notes:""});x.useEffect(()=>{w()},[e]);const w=async()=>{if(e)try{const{data:{user:_}}=await O.auth.getUser();if(!_){J.error("Please log in to submit estimates"),t("/contractor/login");return}const{data:f,error:g}=await O.from("contractors").select("*").eq("user_id",_.id).single();if(g||!f){J.error("Contractor profile not found"),t("/contractor/dashboard");return}i(f);const{data:v,error:j}=await O.from("projects").select("*").eq("id",e).single();if(j||!v){J.error("Project not found"),t("/contractor/dashboard");return}n(v);const{data:E,error:N}=await O.from("contractor_estimates").select("*").eq("project_id",e).eq("contractor_id",f.id).single();!N&&E&&(h(E),m({amount:(E.estimate_amount/100).toString(),breakdown:E.estimate_breakdown||"",notes:E.notes||""}))}catch{J.error("Failed to load project data")}finally{l(!1)}},y=async()=>{if(!r||!s)return;const _=parseFloat(p.amount);if(!_||_<=0){J.error("Please enter a valid estimate amount");return}if(_<100){J.error("Minimum estimate amount is $100");return}u(!0);try{const f={project_id:r.id,contractor_id:s.id,estimate_amount:Math.round(_*100),estimate_breakdown:p.breakdown,notes:p.notes,status:"pending"};if(d){const{error:g}=await O.from("contractor_estimates").update(f).eq("id",d.id);if(g)throw g;J.success("Estimate updated successfully!")}else{const{error:g}=await O.from("contractor_estimates").insert(f);if(g)throw g;J.success("Estimate submitted successfully!")}try{const{data:g}=await O.from("projects").select("user_id, contact_name").eq("id",r.id).single();g!=null&&g.user_id&&await O.from("notifications").insert({user_id:g.user_id,type:"estimate_received",title:"💰 New Estimate Received!",message:`${s.company_name} has submitted an estimate of $${_.toFixed(2)} for your project.`,data:{projectId:r.id,contractorId:s.id,estimateAmount:_,estimateId:(d==null?void 0:d.id)||"new"}})}catch{}t("/contractor/dashboard")}catch(f){J.error(f.message||"Failed to submit estimate")}finally{u(!1)}};return o?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading project details..."})]})}):!r||!s?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-600 mb-4",children:"Project or contractor data not found"}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{children:"Return to Dashboard"})})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(z,{to:"/contractor/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:"← Back to Dashboard"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:d?"Update Estimate":"Submit Estimate"}),a.jsx("p",{className:"text-gray-600",children:"Provide your estimate for this project"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(ot,{className:"h-5 w-5"}),"Project Details"]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(zs,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:r.address}),a.jsxs("p",{className:"text-gray-600",children:[r.city,", ",r.state," ",r.zip]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Ue,{variant:"outline",children:r.peril})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Description"}),a.jsx("p",{className:"text-gray-600 text-sm",children:r.description})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(wd,{className:"h-5 w-5 text-gray-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:r.contact_name}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(zi,{className:"h-4 w-4"}),r.contact_phone]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ea,{className:"h-4 w-4"}),r.contact_email]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(it,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Preferred Date"}),a.jsxs("p",{className:"text-gray-600 text-sm",children:[new Date(r.preferred_date).toLocaleDateString()," - ",r.preferred_window]})]})]})]})]}),a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(pg,{className:"h-5 w-5"}),"Your Estimate"]})}),a.jsxs(V,{className:"space-y-6",children:[d&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Status:"})," ",d.status.charAt(0).toUpperCase()+d.status.slice(1)]}),d.expires_at&&a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Expires:"})," ",new Date(d.expires_at).toLocaleDateString()]})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"amount",children:"Estimate Amount *"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),a.jsx(pe,{id:"amount",type:"number",min:"100",step:"0.01",placeholder:"0.00",value:p.amount,onChange:_=>m(f=>({...f,amount:_.target.value})),className:"pl-8"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum amount: $100"})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"breakdown",children:"Cost Breakdown"}),a.jsx(Cr,{id:"breakdown",placeholder:"Provide a detailed breakdown of your estimate (e.g., Labor: $500, Materials: $300, etc.)",value:p.breakdown,onChange:_=>m(f=>({...f,breakdown:_.target.value})),rows:4})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"notes",children:"Additional Notes"}),a.jsx(Cr,{id:"notes",placeholder:"Any additional information, timeline, or special considerations...",value:p.notes,onChange:_=>m(f=>({...f,notes:_.target.value})),rows:3})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(F,{onClick:y,disabled:c,className:"flex-1",children:c?"Submitting...":d?"Update Estimate":"Submit Estimate"}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{variant:"outline",children:"Cancel"})})]})]})]})]})]})})}const bl={CORE_PROJECT:{name:"Core Project Payments",description:"Required payments to complete the project",products:["SECURITY_DEPOSIT","DISASTERSHIELD_SERVICE_FEE","REPAIR_COST_ESTIMATE"],required:!0},FNOL_GENERATION:{name:"FNOL Generation",description:"Payment for generating First Notice of Loss documents",products:["FNOL_GENERATION_FEE"],required:!1}};function xF(){return Object.values(bl).filter(e=>e.required).flatMap(e=>e.products)}function hm(e){const t=xF(),r=e.map(n=>n.product_id);return t.every(n=>r.includes(n))}function jl(e,t){return t.some(r=>r.product_id===e)}function _F(){const{id:e}=nn(),t=Ze(),[r,n]=x.useState(null),[s,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(""),[d,h]=x.useState(null),[p,m]=x.useState(!1),[w,y]=x.useState(!1),[_,f]=x.useState(!1),[g,v]=x.useState(!1),[j,E]=x.useState([]),[N,k]=x.useState([]),[S,A]=x.useState([]),b=()=>bl.CORE_PROJECT.products.filter(D=>jl(D,S)).length,R=()=>hm(S);x.useEffect(()=>{(async()=>{if(e)try{if(!O){u("Database connection not configured"),l(!1);return}const D=O,{data:{user:C}}=await D.auth.getUser();if(h(C),C){const{data:ye}=await D.from("profiles").select("role").eq("id",C.id).single();m((ye==null?void 0:ye.role)==="contractor")}const{data:P,error:B}=await D.from("projects").select("*").eq("id",e).single();if(B)throw B;n(P);const{data:ee,error:Z}=await D.from("media").select("*").eq("project_id",e);Z||i(ee||[]);const{data:he,error:ne}=await D.from("match_requests").select("*").eq("project_id",e);if(!ne&&(E(he||[]),he&&he.length>0)){const ye=he.map(L=>L.contractor_id),{data:H}=await D.from("contractors").select("*").in("id",ye);k(H||[])}if(C!=null&&C.id){const{data:ye,error:H}=await D.from("stripe_customers").select("customer_id").eq("user_id",C.id).maybeSingle();if(!H&&ye){const{data:L,error:Y}=await D.from("stripe_orders").select("*").eq("customer_id",ye.customer_id).eq("project_id",e).eq("status","completed");Y||A(L||[])}}}catch(D){u(D.message)}finally{l(!1)}})()},[e]),x.useEffect(()=>{if(!e||!r)return;const $=setInterval(async()=>{try{if(!(d!=null&&d.id))return;const{data:D,error:C}=await O.from("stripe_customers").select("customer_id").eq("user_id",d.id).maybeSingle();if(!C&&D){const{data:P,error:B}=await O.from("stripe_orders").select("*").eq("customer_id",D.customer_id).eq("project_id",e).eq("status","completed");!B&&P&&A(P)}}catch{}},5e3);return()=>clearInterval($)},[e,r]);const T=async()=>{if(r){if(!_t||!O){J.error("Database connection not configured. Please connect to Supabase.");return}f(!0),J.info("Finding contractors in your area...");try{const $=await ck({project:{id:r.id,address:r.address,city:r.city,state:r.state,zip:r.zip,peril:r.peril,incident_at:r.incident_at,description:r.description,preferred_date:r.preferred_date,preferred_window:r.preferred_window,contact_name:r.contact_name,contact_phone:r.contact_phone,contact_email:r.contact_email},baseUrl:window.location.origin});if($.success&&$.matchedContractors>0){await O.from("projects").update({status:"matched"}).eq("id",r.id),n(C=>({...C,status:"matched"})),J.success(`Found ${$.matchedContractors} qualified contractor${$.matchedContractors>1?"s":""}! They'll be contacting you soon.`);const{data:D}=await O.from("match_requests").select("*").eq("project_id",r.id);if(D){E(D);const C=D.map(B=>B.contractor_id),{data:P}=await O.from("contractors").select("*").in("id",C);k(P||[])}}else J.error($.errors.length>0?$.errors[0]:"No contractors found in your area for this type of damage.")}catch{J.error("Failed to find contractors. Please try again.")}finally{f(!1)}}},U=async()=>{if(r){if(!_t||!O){J.error("Database connection not configured. Please connect to Supabase.");return}v(!0),J.info("Re-running contractor matching...");try{await O.from("match_requests").delete().eq("project_id",r.id),await O.from("projects").update({status:"submitted"}).eq("id",r.id),n($=>({...$,status:"submitted"})),E([]),await T()}catch{J.error("Failed to rematch contractors. Please try again.")}finally{v(!1)}}},M=async()=>{if(!(!r||!d)){y(!0);try{if(!O)throw new Error("Database connection not configured");const{data:$,error:D}=await O.from("projects").delete().eq("id",r.id).eq("user_id",d.id).select();if(D)throw new Error(D.message);if(!$||$.length===0)throw new Error("Project not found or you do not have permission to delete it");J.success("Claim deleted successfully"),t("/client/dashboard")}catch($){J.error($.message||"Failed to delete claim. Please try again.")}finally{y(!1)}}};if(o)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading project details..."})]})});if(c||!r)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(ot,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Project Not Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:c||"The project you're looking for doesn't exist or you don't have access to it."}),a.jsx(z,{to:"/",children:a.jsx(F,{children:"Return Home"})})]})})});const I=$=>{switch($){case"submitted":return"bg-yellow-100 text-yellow-800";case"matched":return"bg-blue-100 text-blue-800";case"scheduled":return"bg-purple-100 text-purple-800";case"onsite":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{to:p?"/contractor/dashboard":"/client/dashboard",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),a.jsxs(z,{to:"/",className:"flex items-center space-x-2",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DisasterShield"})]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[!p&&a.jsx(Ru,{userId:d==null?void 0:d.id}),a.jsx(vr,{userId:d==null?void 0:d.id}),a.jsx(Ue,{className:`${I(r.status)} border-0`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)}),d&&r.user_id===d.id&&a.jsxs(cE,{children:[a.jsx(uE,{asChild:!0,children:a.jsx(F,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Sj,{className:"h-4 w-4"})})}),a.jsx(jx,{align:"end",children:a.jsxs(PE,{children:[a.jsx(RE,{asChild:!0,children:a.jsxs(td,{className:"text-red-600 focus:text-red-600 cursor-pointer",onSelect:$=>$.preventDefault(),children:[a.jsx(gg,{className:"mr-2 h-4 w-4"}),"Delete Claim"]})}),a.jsxs(Nx,{children:[a.jsxs(Sx,{children:[a.jsx(Ex,{children:"Delete Claim"}),a.jsx(Cx,{children:"Are you sure you want to delete this claim? This action cannot be undone and will remove all associated data including photos, contractor matches, and payment records."})]}),a.jsxs(kx,{children:[a.jsx(Px,{children:"Cancel"}),a.jsx(Tx,{onClick:M,className:"bg-red-600 hover:bg-red-700",disabled:w,children:w?"Deleting...":"Delete Claim"})]})]})]})})]})]})})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Claim Details"}),a.jsxs("p",{className:"text-gray-600",children:["Claim ID: ",r.id," • Filed ",new Date(r.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(zs,{className:"h-5 w-5"}),"Property Information"]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Address"}),a.jsxs("p",{className:"text-gray-600",children:[r.address,", ",r.city,", ",r.state," ",r.zip]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Damage Type"}),a.jsxs("p",{className:"text-gray-600 capitalize",children:[r.peril," damage"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Incident Date"}),a.jsx("p",{className:"text-gray-600",children:new Date(r.incident_at).toLocaleDateString()})]})]})]}),a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsx(xe,{children:"Incident Description"})}),a.jsx(V,{children:a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})})]}),a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsx(xe,{children:"Documentation"})}),a.jsx(V,{children:s.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.map($=>{const{data:D}=O.storage.from("media").getPublicUrl($.storage_path);return a.jsxs("div",{className:"relative group",children:[$.type==="photo"?a.jsxs("div",{className:"aspect-square bg-gray-200 rounded-lg overflow-hidden",children:[a.jsx("img",{src:D.publicUrl,alt:$.caption||"Uploaded photo",className:"w-full h-full object-cover",onError:C=>{const P=C.currentTarget,B=P.nextElementSibling;P.style.display="none",B&&(B.style.display="flex")}}),a.jsx("div",{className:"w-full h-full bg-gray-200 rounded-lg flex items-center justify-center",style:{display:"none"},children:a.jsx(ot,{className:"h-8 w-8 text-gray-400"})})]}):$.type==="video"?a.jsxs("div",{className:"aspect-square bg-gray-200 rounded-lg overflow-hidden",children:[a.jsx("video",{src:D.publicUrl,className:"w-full h-full object-cover",controls:!0,onError:C=>{const P=C.currentTarget,B=P.nextElementSibling;P.style.display="none",B&&(B.style.display="flex")}}),a.jsx("div",{className:"w-full h-full bg-gray-200 rounded-lg flex items-center justify-center",style:{display:"none"},children:a.jsx(ot,{className:"h-8 w-8 text-gray-400"})})]}):$.type==="audio"?a.jsxs("div",{className:"aspect-square bg-blue-100 rounded-lg flex flex-col items-center justify-center p-4 relative z-10",onClick:C=>{},children:[a.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center mb-2",children:a.jsx(ot,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"w-full relative z-20",children:[a.jsx("audio",{src:D.publicUrl,controls:!0,className:"w-full h-8 relative z-30",preload:"metadata",onError:C=>{},children:"Your browser does not support the audio element."}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 text-center",children:"Voice Recording"}),a.jsx("p",{className:"text-xs text-blue-600 mt-1 text-center cursor-pointer hover:underline relative z-40",onClick:()=>{window.open(D.publicUrl,"_blank")},children:"Open in new tab"})]})]}):a.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg flex items-center justify-center",children:a.jsx(ot,{className:"h-8 w-8 text-gray-400"})}),$.type!=="audio"&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 rounded-lg flex items-end pointer-events-none",children:a.jsxs("div",{className:"w-full p-2 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[$.room_tag&&a.jsx("div",{className:"text-xs bg-black bg-opacity-75 px-2 py-1 rounded mb-1 inline-block",children:$.room_tag}),$.caption&&a.jsx("div",{className:"text-xs bg-black bg-opacity-75 px-2 py-1 rounded",children:$.caption})]})})]},$.id)})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No documentation uploaded yet"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Photos, videos, and voice notes will appear here"})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsx(xe,{children:"Contact Information"})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(zi,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:r.contact_name}),a.jsx("p",{className:"text-sm text-gray-600",children:r.contact_phone})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(Ea,{className:"h-5 w-5 text-green-600"})}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-600",children:r.contact_email})})]})]})]}),a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Pl,{className:"h-5 w-5"}),"Preferred Schedule"]})}),a.jsxs(V,{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Preferred Date"}),a.jsx("p",{className:"text-gray-600",children:new Date(r.preferred_date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Time Window"}),a.jsxs("p",{className:"text-gray-600",children:[r.preferred_window==="8-10"&&"8:00 AM - 10:00 AM",r.preferred_window==="10-12"&&"10:00 AM - 12:00 PM",r.preferred_window==="12-2"&&"12:00 PM - 2:00 PM",r.preferred_window==="2-4"&&"2:00 PM - 4:00 PM",r.preferred_window==="4-6"&&"4:00 PM - 6:00 PM"]})]})]})]}),a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsx(xe,{children:"Insurance Information"})}),a.jsx(V,{className:"space-y-3",children:r.carrier_name?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Carrier"}),a.jsx("p",{className:"text-gray-600",children:r.carrier_name})]}),r.policy_number&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Policy Number"}),a.jsx("p",{className:"text-gray-600",children:r.policy_number})]}),r.fnol_status&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"FNOL Status"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Ue,{variant:r.fnol_status==="acknowledged"?"default":r.fnol_status==="submitted"?"secondary":r.fnol_status==="failed"?"destructive":"outline",children:r.fnol_status.charAt(0).toUpperCase()+r.fnol_status.slice(1)})})]})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-gray-500 mb-2",children:"No insurance information provided"}),a.jsx("p",{className:"text-sm text-gray-400",children:"You can still generate an FNOL document"})]})}),a.jsx(wp,{children:a.jsx("div",{className:"w-full flex justify-end",children:!p&&a.jsx(z,{to:`/fnol/${r.id}`,children:a.jsxs(F,{variant:"outline",size:"sm",children:[a.jsx(ot,{className:"h-4 w-4 mr-2"}),r.fnol_status==="not_filed"?"Generate FNOL":"View FNOL"]})})})})]}),!p&&a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-5 w-5"}),"Status Timeline"]})}),a.jsx(V,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Claim Submitted"}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(r.created_at).toLocaleDateString()})]})]}),j.length>0&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Contractors Contacted"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[j.length," contractor",j.length!==1?"s":""," found •"," ",a.jsx(z,{to:`/matching/${r.id}`,className:"text-blue-600 hover:underline",children:"View responses"})]})]})]}),r.status==="matched"&&j.length===0&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"No Contractors Found"}),a.jsx("p",{className:"text-sm text-gray-600",children:"No qualified contractors available in your area"})]})]}),r.assigned_contractor_id&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Contractor Assigned"}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(r.updated_at).toLocaleDateString()})]})]}),r.assigned_contractor_id&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${R()?"bg-green-500":b()>0?"bg-yellow-500":"bg-gray-400"}`}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:R()?"Payment Completed":b()>0?"Payment In Progress":"Payment Required"}),a.jsx("p",{className:"text-sm text-gray-600",children:R()?"All required payments completed":b()>0?`${b()} of ${bl.CORE_PROJECT.products.length} required payments completed`:"Complete payment to begin work"})]}),a.jsx(z,{to:`/payment/${r.id}`,children:a.jsx(F,{size:"sm",variant:b()>0?"outline":"default",className:b()>0?"":"bg-green-600 hover:bg-green-700",children:b()>0?"Review Payments":"Complete Payment"})})]})})]})]})}),a.jsx(wp,{children:a.jsx("div",{className:"w-full flex justify-end",children:a.jsxs("div",{className:"flex items-center gap-2",children:[!r.assigned_contractor_id&&r.status==="submitted"&&a.jsx(F,{size:"sm",onClick:T,disabled:_,className:"bg-blue-600 hover:bg-blue-700",children:_?"Finding...":"Find Contractors"}),!r.assigned_contractor_id&&r.status!=="submitted"&&a.jsx(F,{size:"sm",variant:"outline",onClick:U,disabled:g||_,children:g?"Re-matching...":"Rematch Contractors"})]})})})]})]})]})]})]})}function yF(){const{token:e}=nn(),[t,r]=x.useState("loading"),[n,s]=x.useState("");x.useEffect(()=>{(async()=>{if(!e){r("error"),s("Invalid token");return}try{await new Promise(l=>setTimeout(l,1e3)),e.length<10?(r("expired"),s("This invitation has expired or is invalid")):(r("success"),s("You have successfully accepted this job opportunity!"))}catch{r("error"),s("Failed to process your response. Please try again.")}})()},[e]);const i=()=>{switch(t){case"loading":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(me,{className:"h-16 w-16 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Processing..."}),a.jsx("p",{className:"text-gray-600",children:"Verifying your response"})]})});case"success":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(tt,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Job Accepted!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:n}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"You'll receive contact information and project details shortly."}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Go to Dashboard"})})]})]})});case"expired":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Pt,{className:"h-16 w-16 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Invitation Expired"}),a.jsx("p",{className:"text-gray-600 mb-6",children:n}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return to Dashboard"})})]})});case"error":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Rs,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-600 mb-6",children:n}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return to Dashboard"})})]})});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx(vr,{userId:user==null?void 0:user.id}),a.jsx("div",{})]}),a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})]}),i()]})})}function vF(){const{token:e}=nn(),t=Ze(),[r,n]=x.useState("loading"),[s,i]=x.useState(""),[o,l]=x.useState(null);console.log("Accept Job Page - Token from URL params:",e),x.useEffect(()=>{(async()=>{if(console.log("Processing token:",e),!e){n("error"),i("Invalid token");return}try{const d=rS(e);if(console.log("Token payload:",d),!d){n("expired"),i("This invitation has expired or is invalid");return}const{data:h,error:p}=await O.from("projects").select("*, contractors(*)").eq("id",d.projectId).single();if(p||!h){n("error"),i("Project not found");return}if(l(h),h.assigned_contractor_id){n("already_filled"),i("This job has already been assigned to another contractor");return}if(d.action==="accept"){t(`/contractor/submit-estimate/${d.projectId}`);return}else if(d.action==="decline"){await O.from("match_requests").update({status:"declined",responded_at:new Date().toISOString()}).eq("project_id",d.projectId).eq("contractor_id",d.contractorId),n("declined"),i("You have declined this job opportunity.");try{h.user_id&&await O.from("notifications").insert({user_id:h.user_id,type:"job_declined",title:"Contractor Response",message:"A contractor declined your job. We're finding other qualified contractors for you.",data:{projectId:h.id}})}catch(m){console.error("Error creating decline notification:",m)}}}catch(d){console.error("Error processing token:",d);let h="Failed to process your response. Please try again.";d instanceof Error&&(h+=` Error: ${d.message}`),n("error"),i(h)}})()},[e]);const c=()=>{switch(r){case"loading":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(it,{className:"h-16 w-16 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Processing..."}),a.jsx("p",{className:"text-gray-600",children:"Verifying your response"})]})});case"success":return a.jsx(W,{className:"max-w-lg w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(tt,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Job Accepted! 🎉"}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),o&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6 text-left",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Project Details:"}),a.jsxs("p",{className:"text-sm text-green-800 mb-1",children:[a.jsx("strong",{children:"Location:"})," ",o.address,", ",o.city,", ",o.state]}),a.jsxs("p",{className:"text-sm text-green-800 mb-1",children:[a.jsx("strong",{children:"Contact:"})," ",o.contact_name," - ",o.contact_phone]}),a.jsxs("p",{className:"text-sm text-green-800",children:[a.jsx("strong",{children:"Preferred Date:"})," ",new Date(o.preferred_date).toLocaleDateString()]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"You'll receive the homeowner's contact information shortly. Please reach out within 24 hours to schedule the inspection."}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Go to Dashboard"})})]})]})});case"declined":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Rs,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Job Declined"}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Thank you for your response. We'll keep you in mind for future opportunities that match your expertise."}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return to Dashboard"})})]})});case"already_filled":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Pt,{className:"h-16 w-16 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Job Already Filled"}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Another contractor was faster this time, but don't worry - more opportunities are coming your way!"}),a.jsx(z,{to:"/contractor/browse-jobs",children:a.jsx(F,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Browse Available Jobs"})})]})});case"expired":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Pt,{className:"h-16 w-16 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Invitation Expired"}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"This invitation was only valid for 48 hours. Check your dashboard for new opportunities."}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return to Dashboard"})})]})});case"error":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Rs,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return to Dashboard"})})]})});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-8",children:a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})}),c()]})})}function wF(){const{token:e}=nn(),[t,r]=x.useState("loading"),[n,s]=x.useState(""),[i,o]=x.useState(null);x.useEffect(()=>{(async()=>{const{data:{user:u}}=await O.auth.getUser();o(u)})()},[]),x.useEffect(()=>{(async()=>{if(console.log("Processing decline with token:",e),!e){console.error("No token provided"),r("error"),s("Invalid token");return}try{console.log("Verifying token...");const u=rS(e);if(console.log("Token verification result:",u),!u){console.error("Token verification failed"),r("expired"),s("This invitation has expired or is invalid");return}console.log("Updating match request:",{projectId:u.projectId,contractorId:u.contractorId});const{error:d}=await O.from("match_requests").update({status:"declined",responded_at:new Date().toISOString()}).eq("project_id",u.projectId).eq("contractor_id",u.contractorId);if(d){console.error("Database update error:",d),r("error"),s("Failed to process your response. Please try again.");return}console.log("Successfully declined job"),r("success"),s("You have successfully declined this job opportunity.")}catch(u){console.error("Error processing decline:",u),r("error"),s("Failed to process your response. Please try again.")}})()},[e]);const l=()=>{switch(t){case"loading":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(it,{className:"h-16 w-16 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Processing..."}),a.jsx("p",{className:"text-gray-600",children:"Recording your response"})]})});case"success":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Rs,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Job Declined"}),a.jsx("p",{className:"text-gray-600 mb-6",children:n}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Thank you for your response. We'll keep you in mind for future opportunities that better match your availability and expertise."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(z,{to:"/contractor/browse-jobs",children:a.jsx(F,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Browse Other Jobs"})}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return to Dashboard"})})]})]})});case"expired":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Pt,{className:"h-16 w-16 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Invitation Expired"}),a.jsx("p",{className:"text-gray-600 mb-6",children:n}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return to Dashboard"})})]})});case"error":return a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Rs,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-600 mb-6",children:n}),a.jsx(z,{to:"/contractor/dashboard",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return to Dashboard"})})]})});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i&&a.jsx(vr,{userId:i.id}),a.jsx("div",{})]}),a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})]}),l()]})})}function bF(){const{projectId:e}=nn(),t=Ze(),[r]=Fi(),n=r.get("payment"),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(!0),[d,h]=x.useState(!1),[p,m]=x.useState(""),[w,y]=x.useState(null),[_,f]=x.useState([]),[g,v]=x.useState([]),[j,E]=x.useState(!1),[N,k]=x.useState(null);x.useEffect(()=>{(async()=>{const{data:{user:M}}=await O.auth.getUser();if(y(M),!M){t("/auth/login");return}if(!e){m("Invalid project ID"),u(!1);return}n==="cancelled"&&m("Payment was cancelled. Please try again or contact support if you continue to experience issues."),n==="success"&&setTimeout(async()=>{try{const{data:I,error:$}=await O.from("projects").select("*").eq("id",e).single();!$&&I&&i(I)}catch{}},1e3);try{const{data:I,error:$}=await O.from("projects").select("*").eq("id",e).single();if($||!I){m("Project not found"),u(!1);return}if(I.user_id!==M.id){m("Access denied"),u(!1);return}if(i(I),I.assigned_contractor_id){const{data:P}=await O.from("contractors").select("*").eq("id",I.assigned_contractor_id).single();l(P)}const{data:D,error:C}=await O.from("contractor_estimates").select("*").eq("project_id",e).eq("status","accepted").single();!C&&D?(k(D),console.log("Accepted estimate loaded:",D)):console.log("No accepted estimate found for project:",e);try{if(I.id){const P=await Ag(I.id);f(P)}if(M!=null&&M.id&&I.id){const{data:P,error:B}=await O.from("stripe_customers").select("customer_id").eq("user_id",M.id).maybeSingle();if(B)v([]);else if(!P)v([]);else{const{data:ee,error:Z}=await O.from("stripe_orders").select("*").eq("customer_id",P.customer_id).eq("project_id",I.id).eq("status","completed");v(Z?[]:ee||[])}}}catch{f([])}s!=null&&s.id&&(M!=null&&M.id)&&setTimeout(async()=>{await R()},1e3)}catch{m("Failed to load project details")}finally{u(!1)}})()},[e,t,n]);const S=U=>jl(U,g),A=()=>hm(g),b=()=>bl.CORE_PROJECT.products.filter(M=>jl(M,g)).length,R=async()=>{if(s!=null&&s.id){E(!0),J.loading("Checking payment status...",{id:"payment-check"}),await new Promise(U=>setTimeout(U,1e3));try{const{data:U,error:M}=await O.from("stripe_customers").select("customer_id").eq("user_id",w==null?void 0:w.id).maybeSingle();if(M){J.error("Error fetching customer data",{id:"payment-check"});return}if(!U){J.info("No payment history found. Customer will be created on first payment.",{id:"payment-check"});return}const{data:I,error:$}=await O.from("stripe_orders").select("*").eq("customer_id",U.customer_id).eq("project_id",s.id).eq("status","completed");if($){J.error("Error fetching payment orders",{id:"payment-check"});return}const D=hm(I||[]);if(D&&s.payment_status!=="paid"){J.loading("All payments completed! Updating project status...",{id:"payment-check"});const{error:C}=await O.from("projects").update({payment_status:"paid"}).eq("id",s.id);if(C)J.error("❌ Error updating project status. Please try again.",{id:"payment-check"});else{i(P=>({...P,payment_status:"paid"})),J.success("✅ All payments completed! Project status updated to Paid.",{id:"payment-check"});try{if(s.assigned_contractor_id){const{data:P}=await O.from("contractors").select("contact_name, company_name, email").eq("id",s.assigned_contractor_id).single();if(P!=null&&P.email){const B=I.reduce((he,ne)=>he+(ne.amount_total||0),0),{resendEmailService:ee}=await Ca(async()=>{const{resendEmailService:he}=await Promise.resolve().then(()=>f5);return{resendEmailService:he}},void 0);await ee.sendPaymentCompletedNotification({contractorEmail:P.email,contractorName:P.contact_name,companyName:P.company_name,projectDetails:{address:s.address,city:s.city,state:s.state,peril:s.peril,contactName:s.contact_name,contactPhone:s.contact_phone},totalAmount:B});const{data:Z}=await O.from("contractors").select("user_id").eq("id",s.assigned_contractor_id).single();Z!=null&&Z.user_id&&await O.from("notifications").insert({user_id:Z.user_id,type:"payment_completed",title:"💰 Payment Completed!",message:`All payments have been completed for your project at ${s.address}. You can now begin work!`,data:{projectId:s.id,totalAmount:B}})}}}catch(P){console.error("Error sending payment completion notification:",P)}}}else if(D)J.success("✅ All payments are already completed!",{id:"payment-check"});else{const C=b(),P=bl.CORE_PROJECT.products.length;J.info(`📊 ${C} of ${P} required payments completed. ${P-C} payments remaining.`,{id:"payment-check"})}}catch{J.error("❌ Error checking payment status. Please try again.",{id:"payment-check"})}finally{E(!1)}}};x.useEffect(()=>{if(!(s!=null&&s.id)||s.payment_status==="paid")return;const U=setInterval(async()=>{try{const{data:M,error:I}=await O.from("projects").select("payment_status").eq("id",e).single();if(!I&&M&&M.payment_status!==s.payment_status&&(i($=>({...$,payment_status:M.payment_status})),clearInterval(U)),w){const{data:$,error:D}=await O.from("stripe_customers").select("customer_id").eq("user_id",w.id).maybeSingle();if(!D){if($){const{data:C,error:P}=await O.from("stripe_orders").select("*").eq("customer_id",$.customer_id).eq("project_id",s.id).eq("status","completed");P||v(C||[])}}}}catch{}},1e4);return()=>clearInterval(U)},[s,e]);const T=async U=>{if(!(!s||!w)){if(S(U)){J.error("❌ This payment has already been completed! Please refresh the page to see updated status.");return}h(!0),m("");try{const{sessionId:M,url:I}=await T1({productKey:U,successUrl:`${Tr.APP_URL||"https://disaster-shield-v2.vercel.app"}/payment-success/${s.id}`,cancelUrl:`${Tr.APP_URL||"https://disaster-shield-v2.vercel.app"}/payment-declined/${s.id}?reason=cancelled`,projectId:s.id});if(!M||!I)throw new Error("Could not create checkout session");try{await P1(I),setTimeout(()=>{m("Automatic redirect failed. Please click the button below to proceed to payment.");const $=document.createElement("button");$.className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4",$.textContent="Proceed to Checkout",$.onclick=()=>window.open(I,"_blank");const D=document.getElementById("payment-error-container");D&&D.appendChild($),h(!1)},3e3)}catch{window.open(I,"_self")}}catch(M){if(M.message&&(M.message.includes("network")||M.message.includes("connection"))){m("Network connection issue. Please check your internet connection and try again.");return}m(`Payment failed: ${M.message||"Please try again later"}`)}finally{h(!1)}}};return c?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading payment details..."})]})}):p?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(W,{className:"max-w-md w-full",children:a.jsxs(V,{className:"pt-6 text-center",children:[a.jsx(Pt,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-600 mb-6",children:p}),a.jsx(z,{to:"/client/dashboard",children:a.jsx(F,{children:"Return to Dashboard"})})]})})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs(z,{to:`/portal/${s.id}`,className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx(ol,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Back to Project"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ru,{userId:w==null?void 0:w.id}),a.jsx(vr,{userId:w==null?void 0:w.id}),a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DisasterShield"})]})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Secure Payment"}),a.jsx("p",{className:"text-gray-600",children:"Complete your payment to proceed with the project"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(fg,{className:"h-5 w-5"}),"Payment Options"]}),a.jsx(Pu,{userId:w==null?void 0:w.id})]})}),a.jsxs(V,{className:"space-y-6",children:[p&&a.jsx("div",{id:"payment-error-container",className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex flex-col items-start gap-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rs,{className:"h-5 w-5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Payment Error"}),a.jsx("p",{className:"text-sm",children:p})]})]})}),n==="cancelled"&&!p&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded flex items-center gap-2",children:[a.jsx(Pt,{className:"h-5 w-5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Payment Cancelled"}),a.jsx("p",{className:"text-sm",children:"Your payment was cancelled. You can try again when you're ready."})]})]}),A()&&a.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded flex items-center gap-2",children:[a.jsx(tt,{className:"h-5 w-5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Payment Completed"}),a.jsx("p",{className:"text-sm",children:"Your payment has been processed successfully. Work can now begin on your project."})]})]}),!S("SECURITY_DEPOSIT")&&a.jsxs("div",{className:"border rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Yt.SECURITY_DEPOSIT.name}),a.jsx("p",{className:"text-gray-600 text-sm",children:Yt.SECURITY_DEPOSIT.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:da(Yt.SECURITY_DEPOSIT.amount)}),a.jsx("p",{className:"text-sm text-gray-500",children:"Refundable"})]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Required to begin work. This deposit will be applied to your final invoice or refunded if work is cancelled."}),a.jsx(F,{onClick:()=>T("SECURITY_DEPOSIT"),disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700",children:d?"Processing...":"Pay Security Deposit"})]}),S("SECURITY_DEPOSIT")&&a.jsxs("div",{className:"border rounded-lg p-6 bg-green-50 border-green-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Yt.SECURITY_DEPOSIT.name}),a.jsx("p",{className:"text-gray-600 text-sm",children:Yt.SECURITY_DEPOSIT.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:da(Yt.SECURITY_DEPOSIT.amount)}),a.jsx("p",{className:"text-sm text-gray-500",children:"Refundable"})]})]}),a.jsxs("div",{className:"flex items-center justify-center p-4 bg-green-100 border border-green-300 rounded-lg",children:[a.jsx(tt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("span",{className:"text-green-800 font-medium",children:"Payment Done!"})]})]}),a.jsxs("div",{className:"border rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Yt.DISASTERSHIELD_SERVICE_FEE.name}),a.jsx("p",{className:"text-gray-600 text-sm",children:Yt.DISASTERSHIELD_SERVICE_FEE.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:da(Yt.DISASTERSHIELD_SERVICE_FEE.amount)}),a.jsx("p",{className:"text-sm text-gray-500",children:"One-time"})]})]}),S("DISASTERSHIELD_SERVICE_FEE")?a.jsxs("div",{className:"flex items-center justify-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx(tt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("span",{className:"text-green-800 font-medium",children:"Payment Done!"})]}):a.jsx(F,{onClick:()=>T("DISASTERSHIELD_SERVICE_FEE"),disabled:d,variant:"outline",className:"w-full",children:d?"Processing...":"Pay Service Fee"})]}),a.jsxs("div",{className:"border rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Yt.REPAIR_COST_ESTIMATE.name}),a.jsx("p",{className:"text-gray-600 text-sm",children:Yt.REPAIR_COST_ESTIMATE.description})]}),a.jsx("div",{className:"text-right",children:N?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(N.estimate_amount/100).toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Contractor estimate"})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"Dynamic Pricing"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Based on contractor estimate"})]})})]}),S("REPAIR_COST_ESTIMATE")?a.jsxs("div",{className:"flex items-center justify-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx(tt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("span",{className:"text-green-800 font-medium",children:"Payment Done!"})]}):a.jsx(F,{onClick:()=>T("REPAIR_COST_ESTIMATE"),disabled:d||!N,className:"w-full bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400",children:d?"Processing...":N?"Pay Repair Cost":"No Estimate Available"})]})]})]})}),a.jsxs("div",{children:[a.jsxs(W,{className:"shadow-lg",children:[a.jsx(ge,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(xe,{children:"Project Summary"})})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Property"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[s.address,", ",s.city,", ",s.state]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Damage Type"}),a.jsx(Ue,{className:"bg-orange-100 text-orange-800 border-0",children:s.peril.charAt(0).toUpperCase()+s.peril.slice(1)})]}),o&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Assigned Contractor"}),a.jsx("p",{className:"text-sm text-gray-600",children:o.company_name}),a.jsx("p",{className:"text-sm text-gray-600",children:o.contact_name})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Payment Status"}),a.jsx(Ue,{className:`border-0 ${A()?"bg-green-100 text-green-800":b()>0?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:A()?"Paid":b()>0?"Partially Paid":"Unpaid"})]}),A()&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(tt,{className:"h-5 w-5 text-green-600 mr-2"}),a.jsx("p",{className:"text-sm text-green-800",children:"All payments completed successfully!"})]})}),!A()&&a.jsx("div",{className:"mt-4 flex gap-2",children:a.jsx(F,{variant:"outline",size:"sm",onClick:R,disabled:j,className:"text-xs",children:j?"🔄 Checking...":"🔄 Check Payment Status"})})]})]}),a.jsx(Pu,{userId:w==null?void 0:w.id,showCard:!0}),a.jsx(W,{className:"shadow-lg mt-6",children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(me,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Secure Payment"}),a.jsx("p",{className:"text-sm text-gray-600",children:"All payments are processed securely through Stripe. Your payment information is encrypted and never stored on our servers."})]})]})})})]})]})]})]})}function jF(){const{projectId:e}=nn();Fi();const[t,r]=x.useState(null),[n,s]=x.useState(!0),[i,o]=x.useState(null),[l,c]=x.useState(null);return x.useEffect(()=>{(async()=>{console.log("PaymentSuccessPage: Loading project with ID:",e);const{data:{user:d}}=await O.auth.getUser();if(console.log("PaymentSuccessPage: User:",d),o(d),!e){console.log("PaymentSuccessPage: No project ID provided"),c("No project ID provided"),s(!1);return}try{const{data:h,error:p}=await O.from("projects").select("*").eq("id",e).single();if(p)console.error("Error loading project:",p),c(`Failed to load project: ${p.message}`);else if(h){r(h);const{error:m}=await O.from("projects").update({payment_status:"paid"}).eq("id",e);m?(console.error("Error updating payment status:",m),c(`Failed to update payment status: ${m.message}`)):(console.log("Payment status updated to paid for project:",e),r(w=>({...w,payment_status:"paid"})))}else c("Project not found")}catch(h){console.error("Error loading project:",h),c(`Unexpected error: ${h instanceof Error?h.message:"Unknown error"}`)}finally{s(!1)}})()},[e]),n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"max-w-md w-full text-center",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(me,{className:"h-8 w-8 text-red-600"})}),a.jsx("h2",{className:"text-xl font-bold text-red-900 mb-2",children:"Error"}),a.jsx("p",{className:"text-red-700 mb-4",children:l}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{to:"/client/dashboard",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return to Dashboard"})}),a.jsx(z,{to:"/",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Go to Homepage"})})]})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[i&&a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(vr,{userId:i==null?void 0:i.id})}),a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})]}),a.jsx(W,{className:"shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(tt,{className:"h-10 w-10 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your payment has been processed successfully. Your contractor can now begin work on your project."}),t&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6 text-left",children:[a.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Project Details:"}),a.jsxs("p",{className:"text-sm text-green-800 mb-1",children:[a.jsx("strong",{children:"Location:"})," ",t.address,", ",t.city,", ",t.state]}),a.jsxs("p",{className:"text-sm text-green-800 mb-1",children:[a.jsx("strong",{children:"Damage Type:"})," ",t.peril.charAt(0).toUpperCase()+t.peril.slice(1)]}),a.jsxs("p",{className:"text-sm text-green-800",children:[a.jsx("strong",{children:"Status:"})," Payment completed - work can begin"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"You'll receive email confirmation shortly. Your contractor will contact you within 24 hours to coordinate the work."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(z,{to:`/portal/${e}`,children:a.jsxs(F,{className:"w-full bg-blue-600 hover:bg-blue-700",children:["View Project Details",a.jsx(Xr,{className:"ml-2 h-4 w-4"})]})}),a.jsx(z,{to:"/client/dashboard",children:a.jsx(F,{variant:"outline",className:"w-full",children:"Return to Dashboard"})})]})]})]})})]})})}function NF(){const{projectId:e}=nn(),[t]=Fi(),r=t.get("reason")||"cancelled",[n,s]=x.useState(null),[i,o]=x.useState(!0),[l,c]=x.useState(null);if(x.useEffect(()=>{(async()=>{const{data:{user:p}}=await O.auth.getUser();if(c(p),!!e)try{const{data:m,error:w}=await O.from("projects").select("*").eq("id",e).single();!w&&m&&s(m)}catch(m){console.error("Error loading project:",m)}finally{o(!1)}})()},[e]),i)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});const u=()=>{switch(r){case"declined":return"Payment Declined";case"failed":return"Payment Failed";case"cancelled":return"Payment Cancelled";default:return"Payment Unsuccessful"}},d=()=>{switch(r){case"declined":return"Your payment was declined by your payment provider. Please check your payment details and try again.";case"failed":return"We encountered an issue processing your payment. Please try again or use a different payment method.";case"cancelled":return"You cancelled the payment process. You can try again when you're ready.";default:return"Your payment was not completed. Please try again or contact support if you continue to experience issues."}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(z,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(me,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DisasterShield"})]})}),a.jsx(W,{className:"shadow-lg",children:a.jsxs(V,{className:"pt-8 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Rs,{className:"h-10 w-10 text-red-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:u()}),a.jsx("p",{className:"text-gray-600 mb-6",children:d()}),n&&a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6 text-left",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Project Details:"}),a.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[a.jsx("strong",{children:"Location:"})," ",n.address,", ",n.city,", ",n.state]}),a.jsxs("p",{className:"text-sm text-gray-800 mb-1",children:[a.jsx("strong",{children:"Damage Type:"})," ",n.peril.charAt(0).toUpperCase()+n.peril.slice(1)]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"If you continue to experience issues with payment, please contact our support team for assistance."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(z,{to:`/payment/${e}`,children:a.jsx(F,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"Try Payment Again"})}),a.jsx(z,{to:`/portal/${e}`,children:a.jsxs(F,{variant:"outline",className:"w-full",children:[a.jsx(ol,{className:"mr-2 h-4 w-4"}),"Return to Project"]})})]})]})]})})]})})}function SF(){const{projectId:e}=nn(),t=Ze(),[r]=Fi(),n=r.get("payment"),[s,i]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState(null),[d,h]=x.useState(!0),[p,m]=x.useState(!1),[w,y]=x.useState(null),[_,f]=x.useState([]),[g,v]=x.useState(!1),[j,E]=x.useState(null),[N,k]=x.useState({insurance_company_id:"",submission_method:"manual",policy_number:"",loss_date:"",loss_time:"",cause_of_loss:"",areas_affected:"",estimated_damage:"",emergency_repairs:"",prevented_further_damage:"",police_report:!1,police_report_number:"",witnesses:"",additional_notes:"",submission_notes:""});x.useEffect(()=>{S()},[e]),x.useEffect(()=>{s&&M()},[s]),x.useEffect(()=>{n==="success"?(J.success("Payment successful! You can now submit your FNOL."),s&&(M(),setTimeout(()=>{M()},1e3),setTimeout(()=>{M()},3e3))):n==="cancelled"&&J.error("Payment was cancelled. Please try again if you want to submit your FNOL.")},[n,s]),x.useEffect(()=>{if(!s||!c||c.status!=="pending")return;const D=setInterval(()=>{T()||(console.log("Periodic payment status check..."),M())},1e4);return()=>clearInterval(D)},[s,c]);const S=async()=>{try{const{data:{user:D}}=await O.auth.getUser();if(D){const{data:ne}=await O.from("profiles").select("role").eq("id",D.id).single();if(E((ne==null?void 0:ne.role)||null),(ne==null?void 0:ne.role)==="contractor"){t("/contractor/dashboard");return}if((ne==null?void 0:ne.role)==="admin"){t("/admin");return}}const{data:C,error:P}=await O.from("projects").select("*").eq("id",e).single();if(P)throw P;i(C);const{data:B,error:ee}=await O.from("insurance_companies").select("*").eq("is_active",!0).order("display_name");if(ee)throw ee;l(B);const{data:Z,error:he}=await O.from("fnol_records").select("*").eq("project_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(he)throw he;if(u(Z),C&&(k(ne=>({...ne,policy_number:C.policy_number||"",loss_date:C.incident_at?C.incident_at.split("T")[0]:"",areas_affected:C.description||""})),C.carrier_name&&B)){const ne=B.find(ye=>ye.name.toLowerCase()===C.carrier_name.toLowerCase());if(ne){const ye=ne.requires_manual_submission?"manual":"api";y(ne),k(H=>({...H,insurance_company_id:ne.id,submission_method:ye}))}}}catch{J.error("Failed to load project data")}finally{h(!1)}},A=D=>{const C=o.find(B=>B.id===D);y(C||null);const P=C!=null&&C.requires_manual_submission?"manual":"api";k(B=>({...B,insurance_company_id:D,submission_method:P}))},b=async()=>{if(!(!s||!w)){N.submission_method||k(D=>({...D,submission_method:w.requires_manual_submission?"manual":"api"}));try{const D={title:"First Notice of Loss (FNOL)",insurance_company:w.display_name,policyholder:{name:s.contact_name,phone:s.contact_phone,email:s.contact_email,policy_number:N.policy_number},property:{address:s.address,city:s.city,state:s.state,zip:s.zip},loss:{date:N.loss_date,time:N.loss_time,type:s.peril,description:s.description,cause:N.cause_of_loss,areas_affected:N.areas_affected,estimated_damage:N.estimated_damage},emergency_actions:{repairs:N.emergency_repairs,prevention:N.prevented_further_damage,police_report:N.police_report,police_report_number:N.police_report_number},additional:{witnesses:N.witnesses,notes:N.additional_notes},submission:{method:N.submission_method,notes:N.submission_notes,date:new Date().toISOString()}},{data:C,error:P}=await O.from("fnol_records").insert({project_id:s.id,insurance_company_id:w.id,submission_method:N.submission_method,status:"pending",submission_notes:N.submission_notes}).select().single();if(P)throw P;await O.from("projects").update({fnol_status:"pending"}).eq("id",s.id),J.success("FNOL document generated successfully!"),u(C)}catch{J.error("Failed to generate FNOL document")}}},R=async()=>{if(!(!c||!s||!w)){if(!T()){J.error("Please complete the FNOL Generation Fee payment before submitting.");return}m(!0);try{const D=await fetch("https://nlwsaaffxzdaxiojyjse.supabase.co/functions/v1/submit-fnol",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sd3NhYWZmeHpkYXhpb2p5anNlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0OTI2NDMsImV4cCI6MjA3MjA2ODY0M30.XrERjaWSEeHpcZdCdsRixjI3OvsKBhIxwUfHhEvoLUk"},body:JSON.stringify({project_id:s.id,insurance_company_id:w.id,policy_number:N.policy_number,submission_method:N.submission_method,submission_notes:N.submission_notes,additional_notes:N.additional_notes})});if(!D.ok){const P=await D.json();throw new Error(P.error||"Failed to submit FNOL")}const C=await D.json();console.log("FNOL submission result:",C),J.success("FNOL submitted successfully!"),await S()}catch(D){console.error("FNOL submission error:",D),J.error(`Failed to submit FNOL: ${D instanceof Error?D.message:"Unknown error"}`)}finally{m(!1)}}},T=()=>jl("FNOL_GENERATION_FEE",_),U=async()=>{if(s){v(!0);try{const D=`${window.location.origin}/fnol/${s.id}?payment=success`,C=`${window.location.origin}/fnol/${s.id}?payment=cancelled`,{url:P}=await T1({productKey:"FNOL_GENERATION_FEE",successUrl:D,cancelUrl:C,projectId:s.id});await P1(P)}catch{J.error("Failed to initiate payment")}finally{v(!1)}}},M=async()=>{if(s)try{console.log("Loading completed orders for project:",s.id);const D=await Ag(s.id);console.log("All orders:",D);const C=D.filter(B=>B.status==="completed");console.log("Completed orders:",C),f(C);const P=jl("FNOL_GENERATION_FEE",C);console.log("FNOL payment completed:",P)}catch(D){console.error("Error loading completed orders:",D),J.error("Failed to load payment status")}},I=async()=>{s&&await M()},$=D=>{const C={pending:{color:"bg-yellow-100 text-yellow-800",icon:it},submitted:{color:"bg-blue-100 text-blue-800",icon:FR},acknowledged:{color:"bg-green-100 text-green-800",icon:tt},rejected:{color:"bg-red-100 text-red-800",icon:Pt},failed:{color:"bg-red-100 text-red-800",icon:Pt}},P=C[D]||C.pending,B=P.icon;return a.jsxs(Ue,{className:`${P.color} flex items-center gap-1`,children:[a.jsx(B,{className:"h-3 w-3"}),D.charAt(0).toUpperCase()+D.slice(1)]})};return d?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading FNOL information..."})]})}):s?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{to:"/client/dashboard",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]}),a.jsxs(z,{to:"/",className:"flex items-center space-x-2",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DisasterShield"})]})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Notice of Loss"})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"First Notice of Loss (FNOL)"}),a.jsx("p",{className:"text-gray-600",children:"Generate and submit your insurance claim notification"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Nu,{className:"h-5 w-5"}),"Project Information"]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Property Address"}),a.jsx("p",{className:"text-sm",children:s.address}),a.jsxs("p",{className:"text-sm",children:[s.city,", ",s.state," ",s.zip]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Contact Information"}),a.jsx("p",{className:"text-sm",children:s.contact_name}),a.jsx("p",{className:"text-sm",children:s.contact_phone}),a.jsx("p",{className:"text-sm",children:s.contact_email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Loss Details"}),a.jsxs("p",{className:"text-sm capitalize",children:[s.peril," damage"]}),a.jsx("p",{className:"text-sm",children:new Date(s.incident_at).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Current FNOL Status"}),a.jsx("div",{className:"mt-1",children:$(s.fnol_status)})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:c?a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(ot,{className:"h-5 w-5"}),"FNOL Record"]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",$(c.status)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Created: ",new Date(c.created_at).toLocaleString()]}),c.fnol_number&&a.jsxs("p",{className:"text-sm text-gray-600",children:["Claim Number: ",c.fnol_number]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["FNOL Generation Fee: ",T()?a.jsx("span",{className:"text-green-600 font-medium",children:"✓ Paid"}):a.jsx("span",{className:"text-red-600 font-medium",children:"✗ Not Paid"})]}),a.jsx(F,{variant:"outline",size:"sm",onClick:I,className:"h-8 px-2",title:"Refresh payment status",children:"🔄 Refresh"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[c.status==="pending"&&a.jsx(a.Fragment,{children:T()?a.jsxs(F,{onClick:R,disabled:p,children:[a.jsx(jp,{className:"h-4 w-4 mr-2"}),p?"Submitting...":"Submit FNOL"]}):a.jsxs(F,{onClick:U,disabled:g,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(fg,{className:"h-4 w-4 mr-2"}),g?"Processing...":`Pay ${da(Yt.FNOL_GENERATION_FEE.amount)} - FNOL Generation Fee`]})}),c.fnol_document_url&&a.jsx(F,{variant:"outline",asChild:!0,children:a.jsxs("a",{href:c.fnol_document_url,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(OR,{className:"h-4 w-4 mr-2"}),"Download Document"]})})]})]}),c.error_message&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pt,{className:"h-5 w-5 text-red-600"}),a.jsxs("p",{className:"text-sm text-red-800",children:["Error: ",c.error_message]})]})})]})]}):a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(ot,{className:"h-5 w-5"}),"Generate FNOL Document"]})}),a.jsxs(V,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Insurance Company *"}),a.jsxs(tr,{value:N.insurance_company_id,onValueChange:A,children:[a.jsx(Mt,{children:a.jsx(rr,{placeholder:"Select your insurance company"})}),a.jsx(Lt,{children:o.map(D=>a.jsx(_e,{value:D.id,children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{children:D.display_name}),!D.requires_manual_submission&&a.jsx(Ue,{variant:"secondary",className:"ml-2",children:"API"})]})},D.id))})]})]}),w&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Policy Number *"}),a.jsx(pe,{value:N.policy_number,onChange:D=>k(C=>({...C,policy_number:D.target.value})),placeholder:"Enter policy number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Loss Date *"}),a.jsx(pe,{type:"date",value:N.loss_date,onChange:D=>k(C=>({...C,loss_date:D.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Time of Loss (if known)"}),a.jsx(pe,{type:"time",value:N.loss_time,onChange:D=>k(C=>({...C,loss_time:D.target.value}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Estimated Damage Amount"}),a.jsx(pe,{value:N.estimated_damage,onChange:D=>k(C=>({...C,estimated_damage:D.target.value})),placeholder:"$0.00"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cause of Loss"}),a.jsx(pe,{value:N.cause_of_loss,onChange:D=>k(C=>({...C,cause_of_loss:D.target.value})),placeholder:"e.g., Burst pipe, storm damage, etc."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Areas Affected"}),a.jsx(Cr,{value:N.areas_affected,onChange:D=>k(C=>({...C,areas_affected:D.target.value})),placeholder:"Describe which areas of the property were affected",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Emergency Repairs Taken"}),a.jsx(Cr,{value:N.emergency_repairs,onChange:D=>k(C=>({...C,emergency_repairs:D.target.value})),placeholder:"Describe any emergency repairs or mitigation actions taken",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Actions to Prevent Further Damage"}),a.jsx(Cr,{value:N.prevented_further_damage,onChange:D=>k(C=>({...C,prevented_further_damage:D.target.value})),placeholder:"Describe steps taken to prevent additional damage",rows:3})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:"police_report",checked:N.police_report,onCheckedChange:D=>k(C=>({...C,police_report:!!D}))}),a.jsx("label",{htmlFor:"police_report",className:"text-sm font-medium",children:"Police report was filed"})]}),N.police_report&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Police Report Number"}),a.jsx(pe,{value:N.police_report_number,onChange:D=>k(C=>({...C,police_report_number:D.target.value})),placeholder:"Enter police report number"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Witnesses"}),a.jsx(Cr,{value:N.witnesses,onChange:D=>k(C=>({...C,witnesses:D.target.value})),placeholder:"List any witnesses to the incident",rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Additional Notes"}),a.jsx(Cr,{value:N.additional_notes,onChange:D=>k(C=>({...C,additional_notes:D.target.value})),placeholder:"Any additional information relevant to the claim",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Submission Notes"}),a.jsx(Cr,{value:N.submission_notes,onChange:D=>k(C=>({...C,submission_notes:D.target.value})),placeholder:"Notes about how this FNOL will be submitted",rows:2})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(F,{onClick:b,disabled:!N.insurance_company_id||!N.policy_number||!N.loss_date,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(ot,{className:"h-4 w-4 mr-2"}),"Generate FNOL Document"]})})]})]})]})})]})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Pt,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Project not found"}),a.jsx(F,{asChild:!0,className:"mt-4",children:a.jsx(z,{to:"/client/dashboard",children:"Back to Dashboard"})})]})})}function kF(){const e=Ze(),[t,r]=x.useState(null),[n,s]=x.useState(!0),[i,o]=x.useState(null);x.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:{user:u},error:d}=await O.auth.getUser();if(d||!u){e("/auth/login");return}o(u);const{data:h,error:p}=await O.from("profiles").select("role").eq("id",u.id).single();if(p||(h==null?void 0:h.role)!=="admin"){J.error("Access denied. Admin privileges required."),(h==null?void 0:h.role)==="contractor"?e("/contractor/dashboard"):e("/client/dashboard");return}await c()}catch(u){console.error("Auth check error:",u),e("/auth/login")}},c=async()=>{try{const[u,d,h,p,m,w]=await Promise.all([O.from("projects").select("id, status, created_at"),O.from("contractors").select("id, capacity, created_at"),O.from("profiles").select("id, role, created_at"),O.from("fnol_records").select("id, status, created_at").limit(100),O.from("projects").select("id, contact_name, peril, status, created_at").order("created_at",{ascending:!1}).limit(5),O.from("fnol_records").select("id, status, created_at").order("created_at",{ascending:!1}).limit(5)]),y=u.data||[],_=d.data||[],f=h.data||[],g=p.data||[],v=m.data||[],j=w.data||[];r({totalProjects:y.length,activeProjects:y.filter(E=>["submitted","matched","scheduled","onsite"].includes(E.status)).length,totalContractors:_.length,activeContractors:_.filter(E=>E.capacity==="active").length,totalUsers:f.length,pendingFNOLs:g.filter(E=>E.status==="pending").length,completedFNOLs:g.filter(E=>E.status==="acknowledged").length,recentProjects:v,recentFNOLs:j})}catch(u){console.error("Error loading dashboard data:",u),J.error("Failed to load dashboard data")}finally{s(!1)}};return n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Pa,{user:i,userRole:"admin",showShoppingCart:!1,showSettings:!1,showBackButton:!0,backButtonText:"Back to Home",backButtonLink:"/"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage your DisasterShield platform"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(W,{children:a.jsx(V,{className:"p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(ot,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.totalProjects)||0})]})]})})}),a.jsx(W,{children:a.jsx(V,{className:"p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(BR,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Projects"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.activeProjects)||0})]})]})})}),a.jsx(W,{children:a.jsx(V,{className:"p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(ua,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Contractors"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.totalContractors)||0})]})]})})}),a.jsx(W,{children:a.jsx(V,{className:"p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(Nu,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Contractors"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.activeContractors)||0})]})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(W,{children:a.jsx(V,{className:"p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(it,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending FNOLs"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.pendingFNOLs)||0})]})]})})}),a.jsx(W,{children:a.jsx(V,{className:"p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(tt,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed FNOLs"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.completedFNOLs)||0})]})]})})}),a.jsx(W,{children:a.jsx(V,{className:"p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(ua,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(t==null?void 0:t.totalUsers)||0})]})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(ll,{className:"h-5 w-5"}),"System Management"]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsx(z,{to:"/admin/insurance-companies",children:a.jsxs(F,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Manage Insurance Companies"]})}),a.jsxs(F,{variant:"outline",className:"w-full justify-start",disabled:!0,children:[a.jsx(ua,{className:"h-4 w-4 mr-2"}),"Manage Users (Coming Soon)"]}),a.jsxs(F,{variant:"outline",className:"w-full justify-start",disabled:!0,children:[a.jsx(kR,{className:"h-4 w-4 mr-2"}),"Analytics & Reports (Coming Soon)"]}),a.jsxs(F,{variant:"outline",className:"w-full justify-start",disabled:!0,children:[a.jsx(ll,{className:"h-4 w-4 mr-2"}),"System Settings (Coming Soon)"]})]})]}),a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(ot,{className:"h-5 w-5"}),"Recent Activity"]})}),a.jsx(V,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Recent Projects"}),a.jsx("div",{className:"space-y-2",children:t==null?void 0:t.recentProjects.slice(0,3).map(u=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:u.contact_name}),a.jsxs("p",{className:"text-xs text-gray-600 capitalize",children:[u.peril," damage"]})]}),a.jsx(Ue,{variant:"outline",children:u.status})]},u.id))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Recent FNOLs"}),a.jsx("div",{className:"space-y-2",children:t==null?void 0:t.recentFNOLs.slice(0,3).map(u=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium",children:["FNOL #",u.id.slice(0,8)]}),a.jsx("p",{className:"text-xs text-gray-600",children:new Date(u.created_at).toLocaleDateString()})]}),a.jsx(Ue,{variant:u.status==="acknowledged"?"default":u.status==="pending"||u.status==="submitted"?"secondary":"destructive",children:u.status})]},u.id))})]})]})})]})]})]})]})}const Mv=[{value:"water",label:"Water Damage"},{value:"flood",label:"Flood"},{value:"wind",label:"Wind/Storm"},{value:"fire",label:"Fire"},{value:"mold",label:"Mold"},{value:"other",label:"Other"}];function EF(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,h]=x.useState({name:"",display_name:"",api_endpoint:"",api_key:"",api_headers:"{}",supported_perils:[],is_active:!0,requires_manual_submission:!0});x.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:v,error:j}=await O.from("insurance_companies").select("*").order("display_name");if(j)throw j;t(v||[])}catch(v){console.error("Error loading companies:",v),J.error("Failed to load insurance companies")}finally{n(!1)}},m=v=>{i(v),h({name:v.name,display_name:v.display_name,api_endpoint:v.api_endpoint||"",api_key:v.api_key_encrypted?"***ENCRYPTED***":"",api_headers:JSON.stringify(v.api_headers,null,2),supported_perils:v.supported_perils,is_active:v.is_active,requires_manual_submission:v.requires_manual_submission}),l(!1)},w=()=>{i(null),h({name:"",display_name:"",api_endpoint:"",api_key:"",api_headers:"{}",supported_perils:[],is_active:!0,requires_manual_submission:!0}),l(!0)},y=()=>{i(null),l(!1),h({name:"",display_name:"",api_endpoint:"",api_key:"",api_headers:"{}",supported_perils:[],is_active:!0,requires_manual_submission:!0})},_=async()=>{if(!d.name||!d.display_name){J.error("Name and display name are required");return}u(!0);try{let v={};try{v=JSON.parse(d.api_headers)}catch{J.error("Invalid JSON in API headers");return}const j={name:d.name,display_name:d.display_name,api_endpoint:d.api_endpoint||null,api_headers:v,supported_perils:d.supported_perils,is_active:d.is_active,requires_manual_submission:d.requires_manual_submission};if(o){const{error:E}=await O.from("insurance_companies").insert(j);if(E)throw E;J.success("Insurance company created successfully")}else if(s){const{error:E}=await O.from("insurance_companies").update(j).eq("id",s.id);if(E)throw E;J.success("Insurance company updated successfully")}await p(),y()}catch(v){console.error("Error saving company:",v),J.error("Failed to save insurance company")}finally{u(!1)}},f=async v=>{if(confirm(`Are you sure you want to delete ${v.display_name}?`))try{const{error:j}=await O.from("insurance_companies").delete().eq("id",v.id);if(j)throw j;J.success("Insurance company deleted successfully"),await p()}catch(j){console.error("Error deleting company:",j),J.error("Failed to delete insurance company")}},g=v=>{h(j=>({...j,supported_perils:j.supported_perils.includes(v)?j.supported_perils.filter(E=>E!==v):[...j.supported_perils,v]}))};return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Loading insurance companies..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{to:"/admin",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors",children:[a.jsx($r,{className:"h-5 w-5 mr-1"}),a.jsx("span",{className:"text-sm font-medium",children:"Admin"})]}),a.jsxs(z,{to:"/",className:"flex items-center space-x-2",children:[a.jsx(me,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"DisasterShield"})]})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Insurance Companies"})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Insurance Companies"}),a.jsx("p",{className:"text-gray-600",children:"Manage insurance company integrations and API connections"})]}),a.jsxs(F,{onClick:w,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(bp,{className:"h-4 w-4 mr-2"}),"Add Company"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(Nu,{className:"h-5 w-5"}),"Insurance Companies (",e.length,")"]})}),a.jsx(V,{children:a.jsx("div",{className:"space-y-4",children:e.map(v=>a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-semibold",children:v.display_name}),a.jsx(Ue,{variant:v.is_active?"default":"secondary",children:v.is_active?"Active":"Inactive"}),!v.requires_manual_submission&&a.jsxs(Ue,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx($R,{className:"h-3 w-3"}),"API"]})]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Internal Name: ",v.name]}),v.api_endpoint&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["API Endpoint: ",v.api_endpoint]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:v.supported_perils.map(j=>{var E;return a.jsx(Ue,{variant:"outline",className:"text-xs",children:((E=Mv.find(N=>N.value===j))==null?void 0:E.label)||j},j)})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(v.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(F,{variant:"outline",size:"sm",onClick:()=>m(v),children:a.jsx(UR,{className:"h-4 w-4"})}),a.jsx(F,{variant:"outline",size:"sm",onClick:()=>f(v),className:"text-red-600 hover:text-red-700",children:a.jsx(gg,{className:"h-4 w-4"})})]})]})},v.id))})})]})}),a.jsx("div",{className:"lg:col-span-1",children:(s||o)&&a.jsxs(W,{children:[a.jsx(ge,{children:a.jsxs(xe,{className:"flex items-center gap-2",children:[a.jsx(ll,{className:"h-5 w-5"}),o?"Add New Company":"Edit Company"]})}),a.jsxs(V,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Internal Name *"}),a.jsx(pe,{value:d.name,onChange:v=>h(j=>({...j,name:v.target.value})),placeholder:"e.g., liberty_mutual"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Display Name *"}),a.jsx(pe,{value:d.display_name,onChange:v=>h(j=>({...j,display_name:v.target.value})),placeholder:"e.g., Liberty Mutual"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"API Endpoint"}),a.jsx(pe,{value:d.api_endpoint,onChange:v=>h(j=>({...j,api_endpoint:v.target.value})),placeholder:"https://api.example.com/fnol"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"API Key"}),a.jsx(pe,{type:"password",value:d.api_key,onChange:v=>h(j=>({...j,api_key:v.target.value})),placeholder:"Enter API key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"API Headers (JSON)"}),a.jsx(Cr,{value:d.api_headers,onChange:v=>h(j=>({...j,api_headers:v.target.value})),placeholder:'{"Authorization": "Bearer token", "Content-Type": "application/json"}',rows:4})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Supported Perils"}),a.jsx("div",{className:"space-y-2",children:Mv.map(v=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:v.value,checked:d.supported_perils.includes(v.value),onCheckedChange:()=>g(v.value)}),a.jsx("label",{htmlFor:v.value,className:"text-sm",children:v.label})]},v.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:"is_active",checked:d.is_active,onCheckedChange:v=>h(j=>({...j,is_active:!!v}))}),a.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium",children:"Active"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nr,{id:"requires_manual",checked:d.requires_manual_submission,onCheckedChange:v=>h(j=>({...j,requires_manual_submission:!!v}))}),a.jsx("label",{htmlFor:"requires_manual",className:"text-sm font-medium",children:"Requires Manual Submission"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsxs(F,{onClick:_,disabled:c,className:"flex-1",children:[a.jsx(mg,{className:"h-4 w-4 mr-2"}),c?"Saving...":"Save"]}),a.jsx(F,{variant:"outline",onClick:y,children:a.jsx(Ni,{className:"h-4 w-4"})})]})]})]})})]})]})]})}function Lv({children:e}){const t=Ze(),[r,n]=x.useState(!0),[s,i]=x.useState(!1);x.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:l},error:c}=await O.auth.getUser();if(c||!l){t("/auth/login");return}const{data:u,error:d}=await O.from("profiles").select("role").eq("id",l.id).single();if(d){console.error("Error fetching profile:",d),(u==null?void 0:u.role)==="contractor"?t("/contractor/dashboard"):t("/client/dashboard");return}if((u==null?void 0:u.role)!=="admin"){(u==null?void 0:u.role)==="contractor"?t("/contractor/dashboard"):t("/client/dashboard");return}i(!0)}catch(l){console.error("Admin access check error:",l),t("/client/dashboard")}finally{n(!1)}};return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Verifying admin access..."})]})}):s?a.jsx(a.Fragment,{children:e}):null}function CF({children:e}){const t=Ze(),[r,n]=x.useState(!0),[s,i]=x.useState(!1);x.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:{user:l},error:c}=await O.auth.getUser();if(c||!l){t("/auth/login");return}const{data:u,error:d}=await O.from("profiles").select("role").eq("id",l.id).single();if(d){console.error("Error fetching profile:",d),t("/client/dashboard");return}if((u==null?void 0:u.role)==="contractor"){t("/contractor/dashboard");return}if((u==null?void 0:u.role)==="admin"){t("/admin");return}i(!0)}catch(l){console.error("Client access check error:",l),t("/client/dashboard")}finally{n(!1)}};return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("p",{className:"text-gray-600",children:"Verifying access..."})]})}):s?a.jsx(a.Fragment,{children:e}):null}function TF(){const t=ka().pathname.startsWith("/contractor");return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-lg mx-auto px-4",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(vr,{userId:user==null?void 0:user.id})}),a.jsxs("div",{className:"mb-8",children:[a.jsx(me,{className:"h-20 w-20 text-blue-600 mx-auto mb-4"}),a.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist or has been moved. Let's get you back on track with your claim."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(z,{to:"/",children:a.jsxs(F,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(DR,{className:"mr-2 h-4 w-4"}),"Go Home"]})}),a.jsxs(F,{variant:"outline",onClick:()=>window.history.back(),className:"border-gray-300",children:[a.jsx(ol,{className:"mr-2 h-4 w-4"}),"Go Back"]})]}),!t&&a.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Need immediate help with a claim?"}),a.jsx(z,{to:"/intake",children:a.jsx(F,{variant:"outline",className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:"Start Emergency Claim"})})]})]})})}function PF(){return a.jsxs(a.Fragment,{children:[a.jsxs(eP,{children:[a.jsx(Me,{path:"/",element:a.jsx(R6,{})}),a.jsx(Me,{path:"/about",element:a.jsx(O6,{})}),a.jsx(Me,{path:"/contact",element:a.jsx(A6,{})}),a.jsx(Me,{path:"/intake",element:a.jsx(p5,{})}),a.jsx(Me,{path:"/auth/signup",element:a.jsx(m5,{})}),a.jsx(Me,{path:"/auth/login",element:a.jsx(vf,{})}),a.jsx(Me,{path:"/auth/forgot-password",element:a.jsx(g5,{})}),a.jsx(Me,{path:"/auth/reset-password",element:a.jsx(x5,{})}),a.jsx(Me,{path:"/client/login",element:a.jsx(vf,{})}),a.jsx(Me,{path:"/client/dashboard",element:a.jsx(sF,{})}),a.jsx(Me,{path:"/client/profile",element:a.jsx(oF,{})}),a.jsx(Me,{path:"/client/browse-contractors",element:a.jsx(lF,{})}),a.jsx(Me,{path:"/client/review-estimates/:projectId",element:a.jsx(cF,{})}),a.jsx(Me,{path:"/matching/:projectId",element:a.jsx(uF,{})}),a.jsx(Me,{path:"/contractor/login",element:a.jsx(vf,{})}),a.jsx(Me,{path:"/contractor/dashboard",element:a.jsx(dF,{})}),a.jsx(Me,{path:"/contractor/browse-jobs",element:a.jsx(hF,{})}),a.jsx(Me,{path:"/contractor/profile",element:a.jsx(mF,{})}),a.jsx(Me,{path:"/contractor/submit-estimate/:projectId",element:a.jsx(gF,{})}),a.jsx(Me,{path:"/portal/:id",element:a.jsx(_F,{})}),a.jsx(Me,{path:"/payment/:projectId",element:a.jsx(bF,{})}),a.jsx(Me,{path:"/accept/:token",element:a.jsx(yF,{})}),a.jsx(Me,{path:"/accept-job/:token",element:a.jsx(vF,{})}),a.jsx(Me,{path:"/decline-job/:token",element:a.jsx(wF,{})}),a.jsx(Me,{path:"/payment-success/:projectId",element:a.jsx(jF,{})}),a.jsx(Me,{path:"/payment-declined/:projectId",element:a.jsx(NF,{})}),a.jsx(Me,{path:"/fnol/:projectId",element:a.jsx(CF,{children:a.jsx(SF,{})})}),a.jsx(Me,{path:"/admin",element:a.jsx(Lv,{children:a.jsx(kF,{})})}),a.jsx(Me,{path:"/admin/insurance-companies",element:a.jsx(Lv,{children:a.jsx(EF,{})})}),a.jsx(Me,{path:"*",element:a.jsx(TF,{})})]}),a.jsx(LP,{})]})}bf.createRoot(document.getElementById("root")).render(a.jsx(G.StrictMode,{children:a.jsx(lP,{children:a.jsx(PF,{})})}));
