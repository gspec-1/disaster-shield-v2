
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DISASTERSHIELD_CLIENT_DOCUMENTATION</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2E86AB;
            border-bottom: 3px solid #2E86AB;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #A23B72;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        h3 {
            color: #F18F01;
            margin-top: 25px;
            margin-bottom: 10px;
        }
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        pre {
            background-color: #f4f4f4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border-left: 4px solid #2E86AB;
        }
        pre code {
            background-color: transparent;
            padding: 0;
        }
        strong {
            color: #2E86AB;
        }
        em {
            color: #A23B72;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, #2E86AB, #A23B72);
            color: white;
            border-radius: 8px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üõ°Ô∏è DisasterShield Platform</h1>
            <p>Comprehensive Application Documentation</p>
        </div>
        
        <p><h1>üõ°Ô∏è DisasterShield - Comprehensive Application Overview</h1><br><br><h2>Executive Summary</h2><br><br>DisasterShield is a comprehensive insurance claim management platform that streamlines the entire process from initial claim filing to contractor assignment and payment processing. The platform serves three distinct user types: <strong>Clients</strong> (homeowners), <strong>Contractors</strong>, and <strong>Administrators</strong>, each with specialized workflows and access controls.<br><br>---<br><br><h2>üèóÔ∏è System Architecture</h2><br><br><h3><strong>Technology Stack</strong></h3><br>- <strong>Frontend</strong>: React 18 + TypeScript + Vite<br>- <strong>Backend</strong>: Supabase (PostgreSQL + Edge Functions)<br>- <strong>Authentication</strong>: Supabase Auth with role-based access control<br>- <strong>Payments</strong>: Stripe integration with dynamic product creation<br>- <strong>Email</strong>: Resend API for transactional emails<br>- <strong>SMS</strong>: Twilio integration for notifications<br>- <strong>Storage</strong>: Supabase Storage for media files<br>- <strong>UI Framework</strong>: Radix UI + Tailwind CSS<br><br><h3><strong>Deployment</strong></h3><br>- <strong>Frontend</strong>: Vercel<br>- <strong>Backend</strong>: Supabase Cloud<br>- <strong>Domain</strong>: disaster-shield-v2.vercel.app<br><br>---<br><br><h2>üë• User Roles & Access Control</h2><br><br><h3><strong>1. Clients (Homeowners)</strong></h3><br>- <strong>Role</strong>: Default role for registered users<br>- <strong>Access</strong>: Claim filing, contractor matching, payment processing, FNOL generation<br>- <strong>Dashboard</strong>: <code>/client/dashboard</code><br><br><h3><strong>2. Contractors</strong></h3><br>- <strong>Role</strong>: <code>contractor</code> in profiles table<br>- <strong>Access</strong>: Job browsing, estimate submission, project management<br>- <strong>Dashboard</strong>: <code>/contractor/dashboard</code><br>- <strong>Restrictions</strong>: Cannot access FNOL functionality<br><br><h3><strong>3. Administrators</strong></h3><br>- <strong>Role</strong>: <code>admin</code> in profiles table<br>- <strong>Access</strong>: System management, insurance company management, analytics<br>- <strong>Dashboard</strong>: <code>/admin</code><br>- <strong>Full Access</strong>: All system features and data<br><br>---<br><br><h2>üîÑ Complete Application Workflow</h2><br><br><h3><strong>Phase 1: Claim Initiation</strong></h3><br><br>#### <strong>1.1 Client Registration & Authentication</strong><br>- <strong>Signup Process</strong>: Email verification required<br>- <strong>Profile Creation</strong>: Automatic profile creation via database triggers<br>- <strong>Role Assignment</strong>: Default client role assigned<br><br>#### <strong>1.2 Claim Filing (Intake Process)</strong><br>- <strong>Location</strong>: <code>/intake</code><br>- <strong>Features</strong>:<br>  - Property damage details<br>  - Insurance information collection<br>  - Media upload (photos, voice notes)<br>  - Preferred scheduling<br>  - Contact information<br>- <strong>Validation</strong>: Comprehensive form validation with Zod schemas<br>- <strong>Storage</strong>: Media files stored in Supabase Storage<br><br><h3><strong>Phase 2: Contractor Matching & Assignment</strong></h3><br><br>#### <strong>2.1 Automated Contractor Matching</strong><br>- <strong>Algorithm</strong>: Intelligent matching based on:<br>  - Geographic proximity<br>  - Service area coverage<br>  - Damage type expertise<br>  - Availability and capacity<br>- <strong>Selection</strong>: Top 3 contractors selected<br>- <strong>Notification</strong>: Email invitations sent to matched contractors<br><br>#### <strong>2.2 Dynamic Pricing System</strong><br>- <strong>Estimate Submission</strong>: Contractors submit detailed estimates<br>- <strong>Client Review</strong>: Clients review and compare estimates<br>- <strong>Acceptance Process</strong>: Client accepts preferred estimate<br>- <strong>Dynamic Products</strong>: Stripe products created dynamically based on estimates<br><br>#### <strong>2.3 Contractor Assignment</strong><br>- <strong>Assignment</strong>: Accepted contractor automatically assigned<br>- <strong>Notifications</strong>: Both parties notified of assignment<br>- <strong>Project Status</strong>: Updated to "matched"<br><br><h3><strong>Phase 3: Payment Processing</strong></h3><br><br>#### <strong>3.1 Payment Structure</strong><br>- <strong>Security Deposit</strong>: $500 (refundable)<br>- <strong>Service Fee</strong>: $99 (platform fee)<br>- <strong>Repair Cost</strong>: Dynamic amount based on contractor estimate<br>- <strong>FNOL Fee</strong>: $100 (optional, per FNOL generation)<br><br>#### <strong>3.2 Payment Flow</strong><br>- <strong>Stripe Integration</strong>: Secure payment processing<br>- <strong>Payment Tracking</strong>: Real-time payment status updates<br>- <strong>Completion Notifications</strong>: Automatic notifications when payments complete<br>- <strong>Contractor Notifications</strong>: Contractors notified when work can begin<br><br><h3><strong>Phase 4: Document Management</strong></h3><br><br>#### <strong>4.1 FNOL (First Notice of Loss) Generation</strong><br>- <strong>Access</strong>: Client-only functionality<br>- <strong>Insurance Integration</strong>: API connections to major insurance providers<br>- <strong>Document Generation</strong>: Automated FNOL document creation<br>- <strong>Submission</strong>: Direct submission to insurance companies<br>- <strong>Status Tracking</strong>: Real-time submission status updates<br><br>#### <strong>4.2 Project Documentation</strong><br>- <strong>Media Management</strong>: Photo and voice note storage<br>- <strong>Progress Tracking</strong>: Project status updates<br>- <strong>Communication</strong>: Built-in messaging system<br><br>---<br><br><h2>üì± User Interface & Experience</h2><br><br><h3><strong>Responsive Design</strong></h3><br>- <strong>Mobile-First</strong>: Optimized for all device sizes<br>- <strong>Progressive Web App</strong>: Native app-like experience<br>- <strong>Accessibility</strong>: WCAG compliant design<br><br><h3><strong>Key UI Components</strong></h3><br>- <strong>Dashboard Cards</strong>: Status overview and quick actions<br>- <strong>Timeline Views</strong>: Project progress visualization<br>- <strong>Media Galleries</strong>: Photo and audio file management<br>- <strong>Payment Interfaces</strong>: Secure Stripe checkout integration<br>- <strong>Notification System</strong>: Real-time updates and alerts<br><br>---<br><br><h2>üîß Core Features & Functionality</h2><br><br><h3><strong>1. Client Features</strong></h3><br><br>#### <strong>Dashboard (<code>/client/dashboard</code>)</strong><br>- Project overview and status tracking<br>- Payment progress monitoring<br>- Contractor communication<br>- FNOL generation access<br>- Media file management<br><br>#### <strong>Claim Filing (<code>/intake</code>)</strong><br>- Comprehensive damage assessment<br>- Insurance information collection<br>- Media upload capabilities<br>- Scheduling preferences<br>- Form validation and error handling<br><br>#### <strong>Contractor Browsing (<code>/client/browse-contractors</code>)</strong><br>- Search and filter contractors<br>- View contractor profiles and ratings<br>- Service area verification<br>- Contact information access<br><br>#### <strong>Estimate Review (<code>/client/review-estimates/:projectId</code>)</strong><br>- Compare multiple contractor estimates<br>- View detailed cost breakdowns<br>- Accept or reject estimates<br>- Contractor selection process<br><br>#### <strong>Payment Processing (<code>/payment/:projectId</code>)</strong><br>- Secure Stripe integration<br>- Multiple payment options<br>- Real-time status updates<br>- Payment history tracking<br><br>#### <strong>FNOL Generation (<code>/fnol/:projectId</code>)</strong><br>- Insurance company selection<br>- Automated document generation<br>- Direct API submission<br>- Status tracking and updates<br><br><h3><strong>2. Contractor Features</strong></h3><br><br>#### <strong>Dashboard (<code>/contractor/dashboard</code>)</strong><br>- Assigned projects overview<br>- Payment status tracking<br>- Client communication<br>- Work scheduling<br>- Performance metrics<br><br>#### <strong>Job Browsing (<code>/contractor/browse-jobs</code>)</strong><br>- Available projects listing<br>- Filter by location and damage type<br>- Project details and requirements<br>- Application submission<br><br>#### <strong>Estimate Submission (<code>/contractor/submit-estimate/:projectId</code>)</strong><br>- Detailed cost breakdown<br>- Timeline estimation<br>- Additional notes and conditions<br>- Professional presentation<br><br>#### <strong>Profile Management (<code>/contractor/profile</code>)</strong><br>- Company information<br>- Service areas and specialties<br>- License and certification<br>- Portfolio and reviews<br><br><h3><strong>3. Administrative Features</strong></h3><br><br>#### <strong>Admin Dashboard (<code>/admin</code>)</strong><br>- System analytics and metrics<br>- User management<br>- Project oversight<br>- Financial reporting<br><br>#### <strong>Insurance Company Management (<code>/admin/insurance-companies</code>)</strong><br>- Insurance provider database<br>- API integration management<br>- FNOL template configuration<br>- Submission method settings<br><br>---<br><br><h2>üîê Security & Compliance</h2><br><br><h3><strong>Authentication & Authorization</strong></h3><br>- <strong>Supabase Auth</strong>: Secure user authentication<br>- <strong>Role-Based Access</strong>: Granular permission system<br>- <strong>JWT Tokens</strong>: Secure session management<br>- <strong>Password Policies</strong>: Strong password requirements<br><br><h3><strong>Data Protection</strong></h3><br>- <strong>Encryption</strong>: Data encrypted in transit and at rest<br>- <strong>Row Level Security</strong>: Database-level access controls<br>- <strong>API Security</strong>: Secure API endpoints with authentication<br>- <strong>Media Security</strong>: Secure file storage and access<br><br><h3><strong>Payment Security</strong></h3><br>- <strong>Stripe Integration</strong>: PCI-compliant payment processing<br>- <strong>Webhook Security</strong>: Secure webhook verification<br>- <strong>Fraud Prevention</strong>: Built-in Stripe fraud detection<br>- <strong>Audit Trails</strong>: Complete payment history tracking<br><br>---<br><br><h2>üìä Database Schema</h2><br><br><h3><strong>Core Tables</strong></h3><br><br>#### <strong>Users & Authentication</strong><br>- <code>auth.users</code> - Supabase authentication<br>- <code>profiles</code> - User profile information and roles<br>- <code>contractors</code> - Contractor-specific information<br><br>#### <strong>Projects & Claims</strong><br>- <code>projects</code> - Main project/claim records<br>- <code>media</code> - File attachments and media<br>- <code>match_requests</code> - Contractor matching records<br><br>#### <strong>Payments & Orders</strong><br>- <code>stripe_customers</code> - Stripe customer mapping<br>- <code>stripe_orders</code> - Payment order records<br>- <code>contractor_estimates</code> - Dynamic pricing estimates<br><br>#### <strong>FNOL System</strong><br>- <code>fnol_records</code> - FNOL document records<br>- <code>fnol_templates</code> - Document templates<br>- <code>insurance_companies</code> - Insurance provider data<br><br>#### <strong>Communication</strong><br>- <code>notifications</code> - In-app notifications<br>- <code>match_requests</code> - Contractor matching<br><br>---<br><br><h2>üöÄ API & Integrations</h2><br><br><h3><strong>Supabase Edge Functions</strong></h3><br><br>#### <strong>Payment Processing</strong><br>- <code>stripe-checkout</code> - Payment session creation<br>- <code>stripe-webhook</code> - Payment status updates<br>- <code>create-dynamic-product</code> - Dynamic product creation<br><br>#### <strong>Communication</strong><br>- <code>send-email</code> - Email notification system<br>- <code>submit-fnol</code> - FNOL document submission<br><br><h3><strong>External Integrations</strong></h3><br><br>#### <strong>Stripe</strong><br>- Payment processing<br>- Subscription management<br>- Webhook handling<br>- Dynamic product creation<br><br>#### <strong>Resend</strong><br>- Transactional emails<br>- Template management<br>- Delivery tracking<br><br>#### <strong>Twilio</strong><br>- SMS notifications<br>- Voice communications<br>- Multi-channel messaging<br><br>#### <strong>Insurance APIs</strong><br>- Liberty Mutual<br>- EIS platforms<br>- WaterStreet + Livegenic<br>- Insuresoft Diamond<br>- Cogitate<br><br>---<br><br><h2>üìà Business Logic & Workflows</h2><br><br><h3><strong>Contractor Matching Algorithm</strong></h3><br>1. <strong>Geographic Filtering</strong>: Service area verification<br>2. <strong>Expertise Matching</strong>: Damage type specialization<br>3. <strong>Capacity Checking</strong>: Availability verification<br>4. <strong>Scoring System</strong>: Multi-factor ranking<br>5. <strong>Selection</strong>: Top 3 contractors chosen<br><br><h3><strong>Payment Workflow</strong></h3><br>1. <strong>Estimate Acceptance</strong>: Client selects contractor<br>2. <strong>Dynamic Product Creation</strong>: Stripe product generated<br>3. <strong>Payment Collection</strong>: Three-tier payment structure<br>4. <strong>Status Updates</strong>: Real-time payment tracking<br>5. <strong>Completion Notifications</strong>: Automatic contractor alerts<br><br><h3><strong>FNOL Generation Process</strong></h3><br>1. <strong>Insurance Company Selection</strong>: Client chooses provider<br>2. <strong>API Integration Check</strong>: Automated vs manual submission<br>3. <strong>Document Generation</strong>: Template-based creation<br>4. <strong>Submission</strong>: Direct API or manual process<br>5. <strong>Status Tracking</strong>: Real-time updates<br><br>---<br><br><h2>üîß Technical Implementation</h2><br><br><h3><strong>Frontend Architecture</strong></h3><br>- <strong>Component-Based</strong>: Modular React components<br>- <strong>State Management</strong>: React hooks and context<br>- <strong>Routing</strong>: React Router with protected routes<br>- <strong>Form Handling</strong>: React Hook Form with validation<br>- <strong>UI Components</strong>: Radix UI primitives<br><br><h3><strong>Backend Architecture</strong></h3><br>- <strong>Database</strong>: PostgreSQL with Supabase<br>- <strong>API</strong>: RESTful Edge Functions<br>- <strong>Authentication</strong>: Supabase Auth<br>- <strong>Storage</strong>: Supabase Storage<br>- <strong>Real-time</strong>: Supabase subscriptions<br><br><h3><strong>Development Workflow</strong></h3><br>- <strong>Version Control</strong>: Git with feature branches<br>- <strong>CI/CD</strong>: Automated deployment to Vercel<br>- <strong>Database Migrations</strong>: Supabase migration system<br>- <strong>Environment Management</strong>: Multi-environment support<br><br>---<br><br><h2>üìã Deployment & Maintenance</h2><br><br><h3><strong>Production Environment</strong></h3><br>- <strong>Frontend</strong>: Vercel deployment<br>- <strong>Backend</strong>: Supabase cloud hosting<br>- <strong>Domain</strong>: disaster-shield-v2.vercel.app<br>- <strong>SSL</strong>: Automatic HTTPS<br>- <strong>CDN</strong>: Global content delivery<br><br><h3><strong>Monitoring & Analytics</strong></h3><br>- <strong>Error Tracking</strong>: Built-in error handling<br>- <strong>Performance Monitoring</strong>: Vercel analytics<br>- <strong>User Analytics</strong>: Supabase analytics<br>- <strong>Payment Tracking</strong>: Stripe dashboard<br><br><h3><strong>Backup & Recovery</strong></h3><br>- <strong>Database Backups</strong>: Automated Supabase backups<br>- <strong>File Storage</strong>: Redundant storage system<br>- <strong>Version Control</strong>: Complete code history<br>- <strong>Disaster Recovery</strong>: Multi-region deployment<br><br>---<br><br><h2>üéØ Key Benefits & Value Proposition</h2><br><br><h3><strong>For Clients (Homeowners)</strong></h3><br>- <strong>Streamlined Process</strong>: End-to-end claim management<br>- <strong>Transparent Pricing</strong>: Dynamic contractor estimates<br>- <strong>Secure Payments</strong>: PCI-compliant payment processing<br>- <strong>Document Automation</strong>: Automated FNOL generation<br>- <strong>Real-time Updates</strong>: Live status tracking<br><br><h3><strong>For Contractors</strong></h3><br>- <strong>Lead Generation</strong>: Qualified project opportunities<br>- <strong>Flexible Pricing</strong>: Set your own rates<br>- <strong>Payment Security</strong>: Guaranteed payment processing<br>- <strong>Professional Tools</strong>: Comprehensive project management<br>- <strong>Growth Opportunities</strong>: Expand service areas<br><br><h3><strong>For Insurance Companies</strong></h3><br>- <strong>Automated FNOL</strong>: Direct API integration<br>- <strong>Standardized Process</strong>: Consistent claim filing<br>- <strong>Faster Processing</strong>: Reduced manual work<br>- <strong>Better Data</strong>: Comprehensive claim information<br>- <strong>Cost Reduction</strong>: Streamlined workflows<br><br>---<br><br><h2>üîÆ Future Enhancements</h2><br><br><h3><strong>Planned Features</strong></h3><br>- <strong>Mobile App</strong>: Native iOS/Android applications<br>- <strong>Advanced Analytics</strong>: Business intelligence dashboard<br>- <strong>Multi-language Support</strong>: International expansion<br>- <strong>AI Integration</strong>: Automated damage assessment<br>- <strong>Blockchain</strong>: Smart contract integration<br><br><h3><strong>Scalability Considerations</strong></h3><br>- <strong>Microservices</strong>: Service-oriented architecture<br>- <strong>Load Balancing</strong>: High-availability deployment<br>- <strong>Caching</strong>: Redis integration<br>- <strong>CDN</strong>: Global content delivery<br>- <strong>Auto-scaling</strong>: Dynamic resource allocation<br><br>---<br><br><h2>üìû Support & Maintenance</h2><br><br><h3><strong>Technical Support</strong></h3><br>- <strong>Documentation</strong>: Comprehensive API documentation<br>- <strong>Error Handling</strong>: Graceful error recovery<br>- <strong>Logging</strong>: Detailed system logs<br>- <strong>Monitoring</strong>: Real-time system health<br><br><h3><strong>User Support</strong></h3><br>- <strong>Help Documentation</strong>: User guides and tutorials<br>- <strong>Contact System</strong>: Built-in support tickets<br>- <strong>FAQ System</strong>: Common questions and answers<br>- <strong>Video Tutorials</strong>: Step-by-step guides<br><br>---<br><br><em>This documentation provides a comprehensive overview of the DisasterShield platform. For technical implementation details or specific feature requests, please contact the development team.</em><br></p>
        
        <div class="footer">
            <p><strong>DisasterShield Platform</strong> - Complete Insurance Claim Management Solution</p>
            <p>Generated on 9/9/2025</p>
        </div>
    </div>
</body>
</html>